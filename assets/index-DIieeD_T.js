const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/bg-space-4OESokuI.js","assets/OrbitControls-C-CyZXdv.js","assets/bg-avatarsummon-DJDQF9TU.js"])))=>i.map(i=>d[i]);
var lk=Object.defineProperty;var uk=(n,a,s)=>a in n?lk(n,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[a]=s;var lt=(n,a,s)=>uk(n,typeof a!="symbol"?a+"":a,s);(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function s(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(l){if(l.ep)return;l.ep=!0;const c=s(l);fetch(l.href,c)}})();function vd(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Rc={exports:{}},yo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sw;function ck(){if(sw)return yo;sw=1;var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function s(i,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var h in l)h!=="key"&&(c[h]=l[h])}else c=l;return l=c.ref,{$$typeof:n,type:i,key:d,ref:l!==void 0?l:null,props:c}}return yo.Fragment=a,yo.jsx=s,yo.jsxs=s,yo}var ow;function dk(){return ow||(ow=1,Rc.exports=ck()),Rc.exports}var D=dk(),Ic={exports:{}},Fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iw;function hk(){if(iw)return Fe;iw=1;var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function v(w){return w===null||typeof w!="object"?null:(w=y&&w[y]||w["@@iterator"],typeof w=="function"?w:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,M={};function U(w,Z,me){this.props=w,this.context=Z,this.refs=M,this.updater=me||_}U.prototype.isReactComponent={},U.prototype.setState=function(w,Z){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,Z,"setState")},U.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function E(){}E.prototype=U.prototype;function j(w,Z,me){this.props=w,this.context=Z,this.refs=M,this.updater=me||_}var F=j.prototype=new E;F.constructor=j,A(F,U.prototype),F.isPureReactComponent=!0;var se=Array.isArray,J={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function pe(w,Z,me,S,oe,Ie){return me=Ie.ref,{$$typeof:n,type:w,key:Z,ref:me!==void 0?me:null,props:Ie}}function ve(w,Z){return pe(w.type,Z,void 0,void 0,void 0,w.props)}function Q(w){return typeof w=="object"&&w!==null&&w.$$typeof===n}function de(w){var Z={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(me){return Z[me]})}var fe=/\/+/g;function be(w,Z){return typeof w=="object"&&w!==null&&w.key!=null?de(""+w.key):Z.toString(36)}function he(){}function ne(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(he,he):(w.status="pending",w.then(function(Z){w.status==="pending"&&(w.status="fulfilled",w.value=Z)},function(Z){w.status==="pending"&&(w.status="rejected",w.reason=Z)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function ue(w,Z,me,S,oe){var Ie=typeof w;(Ie==="undefined"||Ie==="boolean")&&(w=null);var we=!1;if(w===null)we=!0;else switch(Ie){case"bigint":case"string":case"number":we=!0;break;case"object":switch(w.$$typeof){case n:case a:we=!0;break;case m:return we=w._init,ue(we(w._payload),Z,me,S,oe)}}if(we)return oe=oe(w),we=S===""?"."+be(w,0):S,se(oe)?(me="",we!=null&&(me=we.replace(fe,"$&/")+"/"),ue(oe,Z,me,"",function(Ze){return Ze})):oe!=null&&(Q(oe)&&(oe=ve(oe,me+(oe.key==null||w&&w.key===oe.key?"":(""+oe.key).replace(fe,"$&/")+"/")+we)),Z.push(oe)),1;we=0;var pt=S===""?".":S+":";if(se(w))for(var Ne=0;Ne<w.length;Ne++)S=w[Ne],Ie=pt+be(S,Ne),we+=ue(S,Z,me,Ie,oe);else if(Ne=v(w),typeof Ne=="function")for(w=Ne.call(w),Ne=0;!(S=w.next()).done;)S=S.value,Ie=pt+be(S,Ne++),we+=ue(S,Z,me,Ie,oe);else if(Ie==="object"){if(typeof w.then=="function")return ue(ne(w),Z,me,S,oe);throw Z=String(w),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return we}function G(w,Z,me){if(w==null)return w;var S=[],oe=0;return ue(w,S,"","",function(Ie){return Z.call(me,Ie,oe++)}),S}function ae(w){if(w._status===-1){var Z=w._result;Z=Z(),Z.then(function(me){(w._status===0||w._status===-1)&&(w._status=1,w._result=me)},function(me){(w._status===0||w._status===-1)&&(w._status=2,w._result=me)}),w._status===-1&&(w._status=0,w._result=Z)}if(w._status===1)return w._result.default;throw w._result}var ge=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function Me(){}return Fe.Children={map:G,forEach:function(w,Z,me){G(w,function(){Z.apply(this,arguments)},me)},count:function(w){var Z=0;return G(w,function(){Z++}),Z},toArray:function(w){return G(w,function(Z){return Z})||[]},only:function(w){if(!Q(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},Fe.Component=U,Fe.Fragment=s,Fe.Profiler=l,Fe.PureComponent=j,Fe.StrictMode=i,Fe.Suspense=g,Fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,Fe.act=function(){throw Error("act(...) is not supported in production builds of React.")},Fe.cache=function(w){return function(){return w.apply(null,arguments)}},Fe.cloneElement=function(w,Z,me){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var S=A({},w.props),oe=w.key,Ie=void 0;if(Z!=null)for(we in Z.ref!==void 0&&(Ie=void 0),Z.key!==void 0&&(oe=""+Z.key),Z)!T.call(Z,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&Z.ref===void 0||(S[we]=Z[we]);var we=arguments.length-2;if(we===1)S.children=me;else if(1<we){for(var pt=Array(we),Ne=0;Ne<we;Ne++)pt[Ne]=arguments[Ne+2];S.children=pt}return pe(w.type,oe,void 0,void 0,Ie,S)},Fe.createContext=function(w){return w={$$typeof:d,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:c,_context:w},w},Fe.createElement=function(w,Z,me){var S,oe={},Ie=null;if(Z!=null)for(S in Z.key!==void 0&&(Ie=""+Z.key),Z)T.call(Z,S)&&S!=="key"&&S!=="__self"&&S!=="__source"&&(oe[S]=Z[S]);var we=arguments.length-2;if(we===1)oe.children=me;else if(1<we){for(var pt=Array(we),Ne=0;Ne<we;Ne++)pt[Ne]=arguments[Ne+2];oe.children=pt}if(w&&w.defaultProps)for(S in we=w.defaultProps,we)oe[S]===void 0&&(oe[S]=we[S]);return pe(w,Ie,void 0,void 0,null,oe)},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(w){return{$$typeof:h,render:w}},Fe.isValidElement=Q,Fe.lazy=function(w){return{$$typeof:m,_payload:{_status:-1,_result:w},_init:ae}},Fe.memo=function(w,Z){return{$$typeof:f,type:w,compare:Z===void 0?null:Z}},Fe.startTransition=function(w){var Z=J.T,me={};J.T=me;try{var S=w(),oe=J.S;oe!==null&&oe(me,S),typeof S=="object"&&S!==null&&typeof S.then=="function"&&S.then(Me,ge)}catch(Ie){ge(Ie)}finally{J.T=Z}},Fe.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},Fe.use=function(w){return J.H.use(w)},Fe.useActionState=function(w,Z,me){return J.H.useActionState(w,Z,me)},Fe.useCallback=function(w,Z){return J.H.useCallback(w,Z)},Fe.useContext=function(w){return J.H.useContext(w)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(w,Z){return J.H.useDeferredValue(w,Z)},Fe.useEffect=function(w,Z){return J.H.useEffect(w,Z)},Fe.useId=function(){return J.H.useId()},Fe.useImperativeHandle=function(w,Z,me){return J.H.useImperativeHandle(w,Z,me)},Fe.useInsertionEffect=function(w,Z){return J.H.useInsertionEffect(w,Z)},Fe.useLayoutEffect=function(w,Z){return J.H.useLayoutEffect(w,Z)},Fe.useMemo=function(w,Z){return J.H.useMemo(w,Z)},Fe.useOptimistic=function(w,Z){return J.H.useOptimistic(w,Z)},Fe.useReducer=function(w,Z,me){return J.H.useReducer(w,Z,me)},Fe.useRef=function(w){return J.H.useRef(w)},Fe.useState=function(w){return J.H.useState(w)},Fe.useSyncExternalStore=function(w,Z,me){return J.H.useSyncExternalStore(w,Z,me)},Fe.useTransition=function(){return J.H.useTransition()},Fe.version="19.0.0",Fe}var lw;function wd(){return lw||(lw=1,Ic.exports=hk()),Ic.exports}var R=wd();const uw=vd(R);var Pc={exports:{}},vo={},Bc={exports:{}},Nc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cw;function pk(){return cw||(cw=1,function(n){function a(G,ae){var ge=G.length;G.push(ae);e:for(;0<ge;){var Me=ge-1>>>1,w=G[Me];if(0<l(w,ae))G[Me]=ae,G[ge]=w,ge=Me;else break e}}function s(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var ae=G[0],ge=G.pop();if(ge!==ae){G[0]=ge;e:for(var Me=0,w=G.length,Z=w>>>1;Me<Z;){var me=2*(Me+1)-1,S=G[me],oe=me+1,Ie=G[oe];if(0>l(S,ge))oe<w&&0>l(Ie,S)?(G[Me]=Ie,G[oe]=ge,Me=oe):(G[Me]=S,G[me]=ge,Me=me);else if(oe<w&&0>l(Ie,ge))G[Me]=Ie,G[oe]=ge,Me=oe;else break e}}return ae}function l(G,ae){var ge=G.sortIndex-ae.sortIndex;return ge!==0?ge:G.id-ae.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();n.unstable_now=function(){return d.now()-h}}var g=[],f=[],m=1,y=null,v=3,_=!1,A=!1,M=!1,U=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function F(G){for(var ae=s(f);ae!==null;){if(ae.callback===null)i(f);else if(ae.startTime<=G)i(f),ae.sortIndex=ae.expirationTime,a(g,ae);else break;ae=s(f)}}function se(G){if(M=!1,F(G),!A)if(s(g)!==null)A=!0,ne();else{var ae=s(f);ae!==null&&ue(se,ae.startTime-G)}}var J=!1,T=-1,pe=5,ve=-1;function Q(){return!(n.unstable_now()-ve<pe)}function de(){if(J){var G=n.unstable_now();ve=G;var ae=!0;try{e:{A=!1,M&&(M=!1,E(T),T=-1),_=!0;var ge=v;try{t:{for(F(G),y=s(g);y!==null&&!(y.expirationTime>G&&Q());){var Me=y.callback;if(typeof Me=="function"){y.callback=null,v=y.priorityLevel;var w=Me(y.expirationTime<=G);if(G=n.unstable_now(),typeof w=="function"){y.callback=w,F(G),ae=!0;break t}y===s(g)&&i(g),F(G)}else i(g);y=s(g)}if(y!==null)ae=!0;else{var Z=s(f);Z!==null&&ue(se,Z.startTime-G),ae=!1}}break e}finally{y=null,v=ge,_=!1}ae=void 0}}finally{ae?fe():J=!1}}}var fe;if(typeof j=="function")fe=function(){j(de)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,he=be.port2;be.port1.onmessage=de,fe=function(){he.postMessage(null)}}else fe=function(){U(de,0)};function ne(){J||(J=!0,fe())}function ue(G,ae){T=U(function(){G(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_continueExecution=function(){A||_||(A=!0,ne())},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pe=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return s(g)},n.unstable_next=function(G){switch(v){case 1:case 2:case 3:var ae=3;break;default:ae=v}var ge=v;v=ae;try{return G()}finally{v=ge}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(G,ae){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ge=v;v=G;try{return ae()}finally{v=ge}},n.unstable_scheduleCallback=function(G,ae,ge){var Me=n.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Me+ge:Me):ge=Me,G){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=ge+w,G={id:m++,callback:ae,priorityLevel:G,startTime:ge,expirationTime:w,sortIndex:-1},ge>Me?(G.sortIndex=ge,a(f,G),s(g)===null&&G===s(f)&&(M?(E(T),T=-1):M=!0,ue(se,ge-Me))):(G.sortIndex=w,a(g,G),A||_||(A=!0,ne())),G},n.unstable_shouldYield=Q,n.unstable_wrapCallback=function(G){var ae=v;return function(){var ge=v;v=ae;try{return G.apply(this,arguments)}finally{v=ge}}}}(Nc)),Nc}var dw;function fk(){return dw||(dw=1,Bc.exports=pk()),Bc.exports}var Uc={exports:{}},Qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hw;function gk(){if(hw)return Qt;hw=1;var n=wd();function a(g){var f="https://react.dev/errors/"+g;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+g+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,f,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:g,containerInfo:f,implementation:m}}var d=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,f){if(g==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Qt.createPortal=function(g,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(a(299));return c(g,f,null,m)},Qt.flushSync=function(g){var f=d.T,m=i.p;try{if(d.T=null,i.p=2,g)return g()}finally{d.T=f,i.p=m,i.d.f()}},Qt.preconnect=function(g,f){typeof g=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(g,f))},Qt.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},Qt.preinit=function(g,f){if(typeof g=="string"&&f&&typeof f.as=="string"){var m=f.as,y=h(m,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,_=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?i.d.S(g,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:_}):m==="script"&&i.d.X(g,{crossOrigin:y,integrity:v,fetchPriority:_,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Qt.preinitModule=function(g,f){if(typeof g=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=h(f.as,f.crossOrigin);i.d.M(g,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(g)},Qt.preload=function(g,f){if(typeof g=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,y=h(m,f.crossOrigin);i.d.L(g,m,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Qt.preloadModule=function(g,f){if(typeof g=="string")if(f){var m=h(f.as,f.crossOrigin);i.d.m(g,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(g)},Qt.requestFormReset=function(g){i.d.r(g)},Qt.unstable_batchedUpdates=function(g,f){return g(f)},Qt.useFormState=function(g,f,m){return d.H.useFormState(g,f,m)},Qt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qt.version="19.0.0",Qt}var pw;function P_(){if(pw)return Uc.exports;pw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(a){console.error(a)}}return n(),Uc.exports=gk(),Uc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fw;function mk(){if(fw)return vo;fw=1;var n=fk(),a=wd(),s=P_();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var c=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),_=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),F=Symbol.for("react.offscreen"),se=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function T(e){return e===null||typeof e!="object"?null:(e=J&&e[J]||e["@@iterator"],typeof e=="function"?e:null)}var pe=Symbol.for("react.client.reference");function ve(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===pe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case g:return"Fragment";case h:return"Portal";case m:return"Profiler";case f:return"StrictMode";case M:return"Suspense";case U:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _:return(e.displayName||"Context")+".Provider";case v:return(e._context.displayName||"Context")+".Consumer";case A:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case E:return t=e.displayName||null,t!==null?t:ve(e.type)||"Memo";case j:t=e._payload,e=e._init;try{return ve(e(t))}catch{}}return null}var Q=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=Object.assign,fe,be;function he(e){if(fe===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);fe=t&&t[1]||"",be=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fe+e+be}var ne=!1;function ue(e,t){if(!e||ne)return"";ne=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(t){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Y){var H=Y}Reflect.construct(e,[],te)}else{try{te.call()}catch(Y){H=Y}e.call(te.prototype)}}else{try{throw Error()}catch(Y){H=Y}(te=e())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Y){if(Y&&H&&typeof Y.stack=="string")return[Y.stack,H.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=o.DetermineComponentFrameRoot(),b=p[0],x=p[1];if(b&&x){var C=b.split(`
`),z=x.split(`
`);for(u=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;u<z.length&&!z[u].includes("DetermineComponentFrameRoot");)u++;if(o===C.length||u===z.length)for(o=C.length-1,u=z.length-1;1<=o&&0<=u&&C[o]!==z[u];)u--;for(;1<=o&&0<=u;o--,u--)if(C[o]!==z[u]){if(o!==1||u!==1)do if(o--,u--,0>u||C[o]!==z[u]){var W=`
`+C[o].replace(" at new "," at ");return e.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",e.displayName)),W}while(1<=o&&0<=u);break}}}finally{ne=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?he(r):""}function G(e){switch(e.tag){case 26:case 27:case 5:return he(e.type);case 16:return he("Lazy");case 13:return he("Suspense");case 19:return he("SuspenseList");case 0:case 15:return e=ue(e.type,!1),e;case 11:return e=ue(e.type.render,!1),e;case 1:return e=ue(e.type,!0),e;default:return""}}function ae(e){try{var t="";do t+=G(e),e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function ge(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Me(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function w(e){if(ge(e)!==e)throw Error(i(188))}function Z(e){var t=e.alternate;if(!t){if(t=ge(e),t===null)throw Error(i(188));return t!==e?null:e}for(var r=e,o=t;;){var u=r.return;if(u===null)break;var p=u.alternate;if(p===null){if(o=u.return,o!==null){r=o;continue}break}if(u.child===p.child){for(p=u.child;p;){if(p===r)return w(u),e;if(p===o)return w(u),t;p=p.sibling}throw Error(i(188))}if(r.return!==o.return)r=u,o=p;else{for(var b=!1,x=u.child;x;){if(x===r){b=!0,r=u,o=p;break}if(x===o){b=!0,o=u,r=p;break}x=x.sibling}if(!b){for(x=p.child;x;){if(x===r){b=!0,r=p,o=u;break}if(x===o){b=!0,o=p,r=u;break}x=x.sibling}if(!b)throw Error(i(189))}}if(r.alternate!==o)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?e:t}function me(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=me(e),t!==null)return t;e=e.sibling}return null}var S=Array.isArray,oe=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ie={pending:!1,data:null,method:null,action:null},we=[],pt=-1;function Ne(e){return{current:e}}function Ze(e){0>pt||(e.current=we[pt],we[pt]=null,pt--)}function Le(e,t){pt++,we[pt]=e.current,e.current=t}var ot=Ne(null),sn=Ne(null),Lt=Ne(null),Vt=Ne(null);function Nn(e,t){switch(Le(Lt,t),Le(sn,e),Le(ot,null),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?Rv(t):0;break;default:if(e=e===8?t.parentNode:t,t=e.tagName,e=e.namespaceURI)e=Rv(e),t=Iv(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Ze(ot),Le(ot,t)}function on(){Ze(ot),Ze(sn),Ze(Lt)}function Un(e){e.memoizedState!==null&&Le(Vt,e);var t=ot.current,r=Iv(t,e.type);t!==r&&(Le(sn,e),Le(ot,r))}function Zn(e){sn.current===e&&(Ze(ot),Ze(sn)),Vt.current===e&&(Ze(Vt),po._currentValue=Ie)}var jn=Object.prototype.hasOwnProperty,Fn=n.unstable_scheduleCallback,hr=n.unstable_cancelCallback,re=n.unstable_shouldYield,K=n.unstable_requestPaint,ee=n.unstable_now,V=n.unstable_getCurrentPriorityLevel,k=n.unstable_ImmediatePriority,I=n.unstable_UserBlockingPriority,X=n.unstable_NormalPriority,ce=n.unstable_LowPriority,De=n.unstable_IdlePriority,et=n.log,Wt=n.unstable_setDisableYieldValue,zt=null,vt=null;function pr(e){if(vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(zt,e,void 0,(e.current.flags&128)===128)}catch{}}function ft(e){if(typeof et=="function"&&Wt(e),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(zt,e)}catch{}}var gt=Math.clz32?Math.clz32:Ol,en=Math.log,Ts=Math.LN2;function Ol(e){return e>>>=0,e===0?32:31-(en(e)/Ts|0)|0}var sa=128,za=4194304;function Kn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function fr(e,t){var r=e.pendingLanes;if(r===0)return 0;var o=0,u=e.suspendedLanes,p=e.pingedLanes,b=e.warmLanes;e=e.finishedLanes!==0;var x=r&134217727;return x!==0?(r=x&~u,r!==0?o=Kn(r):(p&=x,p!==0?o=Kn(p):e||(b=x&~b,b!==0&&(o=Kn(b))))):(x=r&~u,x!==0?o=Kn(x):p!==0?o=Kn(p):e||(b=r&~b,b!==0&&(o=Kn(b)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,b=t&-t,u>=b||u===32&&(b&4194176)!==0)?t:o}function Jn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ml(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qo(){var e=sa;return sa<<=1,(sa&4194176)===0&&(sa=128),e}function O(){var e=za;return za<<=1,(za&62914560)===0&&(za=4194304),e}function B(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function q(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ie(e,t,r,o,u,p){var b=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var x=e.entanglements,C=e.expirationTimes,z=e.hiddenUpdates;for(r=b&~r;0<r;){var W=31-gt(r),te=1<<W;x[W]=0,C[W]=-1;var H=z[W];if(H!==null)for(z[W]=null,W=0;W<H.length;W++){var Y=H[W];Y!==null&&(Y.lane&=-536870913)}r&=~te}o!==0&&ye(e,o,0),p!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=p&~(b&~t))}function ye(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var o=31-gt(t);e.entangledLanes|=t,e.entanglements[o]=e.entanglements[o]|1073741824|r&4194218}function Ae(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var o=31-gt(r),u=1<<o;u&t|e[o]&t&&(e[o]|=t),r&=~u}}function ze(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function xe(){var e=oe.p;return e!==0?e:(e=window.event,e===void 0?32:$v(e.type))}function Oe(e,t){var r=oe.p;try{return oe.p=e,t()}finally{oe.p=r}}var ke=Math.random().toString(36).slice(2),Te="__reactFiber$"+ke,_e="__reactProps$"+ke,Pe="__reactContainer$"+ke,tt="__reactEvents$"+ke,Tt="__reactListeners$"+ke,Pt="__reactHandles$"+ke,Gt="__reactResources$"+ke,qe="__reactMarker$"+ke;function gr(e){delete e[Te],delete e[_e],delete e[tt],delete e[Tt],delete e[Pt]}function Zt(e){var t=e[Te];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Pe]||r[Te]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Nv(e);e!==null;){if(r=e[Te])return r;e=Nv(e)}return t}e=r,r=e.parentNode}return null}function bn(e){if(e=e[Te]||e[Pe]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Bt(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function yn(e){var t=e[Gt];return t||(t=e[Gt]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function mt(e){e[qe]=!0}var Ra=new Set,$n={};function vn(e,t){Qe(e,t),Qe(e+"Capture",t)}function Qe(e,t){for($n[e]=t,e=0;e<t.length;e++)Ra.add(t[e])}var wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),er=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),oa={},Ia={};function _t(e){return jn.call(Ia,e)?!0:jn.call(oa,e)?!1:er.test(e)?Ia[e]=!0:(oa[e]=!0,!1)}function Hn(e,t,r){if(_t(t))if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var o=t.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+r)}}function ia(e,t,r){if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+r)}}function qn(e,t,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(t,r,""+o)}}function wn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function B1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rx(e){var t=B1(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,p=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(b){o=""+b,p.call(this,b)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xo(e){e._valueTracker||(e._valueTracker=rx(e))}function N1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),o="";return e&&(o=B1(e)?e.checked?"true":"false":e.value),e=o,e!==r?(t.setValue(e),!0):!1}function Wo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ax=/[\n"\\]/g;function _n(e){return e.replace(ax,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ll(e,t,r,o,u,p,b,x){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),t!=null?b==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+wn(t)):e.value!==""+wn(t)&&(e.value=""+wn(t)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),t!=null?zl(e,b,wn(t)):r!=null?zl(e,b,wn(r)):o!=null&&e.removeAttribute("value"),u==null&&p!=null&&(e.defaultChecked=!!p),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+wn(x):e.removeAttribute("name")}function U1(e,t,r,o,u,p,b,x){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),t!=null||r!=null){if(!(p!=="submit"&&p!=="reset"||t!=null))return;r=r!=null?""+wn(r):"",t=t!=null?""+wn(t):r,x||t===e.value||(e.value=t),e.defaultValue=t}o=o??u,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=x?e.checked:!!o,e.defaultChecked=!!o,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b)}function zl(e,t,r){t==="number"&&Wo(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Pa(e,t,r,o){if(e=e.options,t){t={};for(var u=0;u<r.length;u++)t["$"+r[u]]=!0;for(r=0;r<e.length;r++)u=t.hasOwnProperty("$"+e[r].value),e[r].selected!==u&&(e[r].selected=u),u&&o&&(e[r].defaultSelected=!0)}else{for(r=""+wn(r),t=null,u=0;u<e.length;u++){if(e[u].value===r){e[u].selected=!0,o&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function j1(e,t,r){if(t!=null&&(t=""+wn(t),t!==e.value&&(e.value=t),r==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=r!=null?""+wn(r):""}function F1(e,t,r,o){if(t==null){if(o!=null){if(r!=null)throw Error(i(92));if(S(o)){if(1<o.length)throw Error(i(93));o=o[0]}r=o}r==null&&(r=""),t=r}r=wn(t),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o)}function Ba(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var sx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function H1(e,t,r){var o=t.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":o?e.setProperty(t,r):typeof r!="number"||r===0||sx.has(t)?t==="float"?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function q1(e,t,r){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||t!=null&&t.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var u in t)o=t[u],t.hasOwnProperty(u)&&r[u]!==o&&H1(e,u,o)}else for(var p in t)t.hasOwnProperty(p)&&H1(e,p,t[p])}function Rl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ox=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ix=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zo(e){return ix.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Il=null;function Pl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Na=null,Ua=null;function V1(e){var t=bn(e);if(t&&(e=t.stateNode)){var r=e[_e]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ll(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+_n(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var o=r[t];if(o!==e&&o.form===e.form){var u=o[_e]||null;if(!u)throw Error(i(90));Ll(o,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<r.length;t++)o=r[t],o.form===e.form&&N1(o)}break e;case"textarea":j1(e,r.value,r.defaultValue);break e;case"select":t=r.value,t!=null&&Pa(e,!!r.multiple,t,!1)}}}var Bl=!1;function G1(e,t,r){if(Bl)return e(t,r);Bl=!0;try{var o=e(t);return o}finally{if(Bl=!1,(Na!==null||Ua!==null)&&(zi(),Na&&(t=Na,e=Ua,Ua=Na=null,V1(t),e)))for(t=0;t<e.length;t++)V1(e[t])}}function Ds(e,t){var r=e.stateNode;if(r===null)return null;var o=r[_e]||null;if(o===null)return null;r=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(i(231,t,typeof r));return r}var Nl=!1;if(wt)try{var Cs={};Object.defineProperty(Cs,"passive",{get:function(){Nl=!0}}),window.addEventListener("test",Cs,Cs),window.removeEventListener("test",Cs,Cs)}catch{Nl=!1}var zr=null,Ul=null,Ko=null;function Y1(){if(Ko)return Ko;var e,t=Ul,r=t.length,o,u="value"in zr?zr.value:zr.textContent,p=u.length;for(e=0;e<r&&t[e]===u[e];e++);var b=r-e;for(o=1;o<=b&&t[r-o]===u[p-o];o++);return Ko=u.slice(e,1<o?1-o:void 0)}function Jo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $o(){return!0}function Q1(){return!1}function tn(e){function t(r,o,u,p,b){this._reactName=r,this._targetInst=u,this.type=o,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(r=e[x],this[x]=r?r(p):p[x]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?$o:Q1,this.isPropagationStopped=Q1,this}return de(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=$o)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=$o)},persist:function(){},isPersistent:$o}),t}var la={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ei=tn(la),As=de({},la,{view:0,detail:0}),lx=tn(As),jl,Fl,Es,ti=de({},As,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ql,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Es&&(Es&&e.type==="mousemove"?(jl=e.screenX-Es.screenX,Fl=e.screenY-Es.screenY):Fl=jl=0,Es=e),jl)},movementY:function(e){return"movementY"in e?e.movementY:Fl}}),X1=tn(ti),ux=de({},ti,{dataTransfer:0}),cx=tn(ux),dx=de({},As,{relatedTarget:0}),Hl=tn(dx),hx=de({},la,{animationName:0,elapsedTime:0,pseudoElement:0}),px=tn(hx),fx=de({},la,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gx=tn(fx),mx=de({},la,{data:0}),W1=tn(mx),bx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vx[e])?!!t[e]:!1}function ql(){return wx}var _x=de({},As,{key:function(e){if(e.key){var t=bx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Jo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ql,charCode:function(e){return e.type==="keypress"?Jo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Jo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xx=tn(_x),Sx=de({},ti,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Z1=tn(Sx),kx=de({},As,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ql}),Tx=tn(kx),Dx=de({},la,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cx=tn(Dx),Ax=de({},ti,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ex=tn(Ax),Ox=de({},la,{newState:0,oldState:0}),Mx=tn(Ox),Lx=[9,13,27,32],Vl=wt&&"CompositionEvent"in window,Os=null;wt&&"documentMode"in document&&(Os=document.documentMode);var zx=wt&&"TextEvent"in window&&!Os,K1=wt&&(!Vl||Os&&8<Os&&11>=Os),J1=" ",$1=!1;function eb(e,t){switch(e){case"keyup":return Lx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ja=!1;function Rx(e,t){switch(e){case"compositionend":return tb(t);case"keypress":return t.which!==32?null:($1=!0,J1);case"textInput":return e=t.data,e===J1&&$1?null:e;default:return null}}function Ix(e,t){if(ja)return e==="compositionend"||!Vl&&eb(e,t)?(e=Y1(),Ko=Ul=zr=null,ja=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return K1&&t.locale!=="ko"?null:t.data;default:return null}}var Px={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Px[e.type]:t==="textarea"}function rb(e,t,r,o){Na?Ua?Ua.push(o):Ua=[o]:Na=o,t=Ni(t,"onChange"),0<t.length&&(r=new ei("onChange","change",null,r,o),e.push({event:r,listeners:t}))}var Ms=null,Ls=null;function Bx(e){Ev(e,0)}function ni(e){var t=Bt(e);if(N1(t))return e}function ab(e,t){if(e==="change")return t}var sb=!1;if(wt){var Gl;if(wt){var Yl="oninput"in document;if(!Yl){var ob=document.createElement("div");ob.setAttribute("oninput","return;"),Yl=typeof ob.oninput=="function"}Gl=Yl}else Gl=!1;sb=Gl&&(!document.documentMode||9<document.documentMode)}function ib(){Ms&&(Ms.detachEvent("onpropertychange",lb),Ls=Ms=null)}function lb(e){if(e.propertyName==="value"&&ni(Ls)){var t=[];rb(t,Ls,e,Pl(e)),G1(Bx,t)}}function Nx(e,t,r){e==="focusin"?(ib(),Ms=t,Ls=r,Ms.attachEvent("onpropertychange",lb)):e==="focusout"&&ib()}function Ux(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ni(Ls)}function jx(e,t){if(e==="click")return ni(t)}function Fx(e,t){if(e==="input"||e==="change")return ni(t)}function Hx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ln=typeof Object.is=="function"?Object.is:Hx;function zs(e,t){if(ln(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var u=r[o];if(!jn.call(t,u)||!ln(e[u],t[u]))return!1}return!0}function ub(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cb(e,t){var r=ub(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=t&&o>=t)return{node:r,offset:t-e};e=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ub(r)}}function db(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?db(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hb(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Wo(e.document);t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Wo(e.document)}return t}function Ql(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function qx(e,t){var r=hb(t);t=e.focusedElem;var o=e.selectionRange;if(r!==t&&t&&t.ownerDocument&&db(t.ownerDocument.documentElement,t)){if(o!==null&&Ql(t)){if(e=o.start,r=o.end,r===void 0&&(r=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(r,t.value.length);else if(r=(e=t.ownerDocument||document)&&e.defaultView||window,r.getSelection){r=r.getSelection();var u=t.textContent.length,p=Math.min(o.start,u);o=o.end===void 0?p:Math.min(o.end,u),!r.extend&&p>o&&(u=o,o=p,p=u),u=cb(t,p);var b=cb(t,o);u&&b&&(r.rangeCount!==1||r.anchorNode!==u.node||r.anchorOffset!==u.offset||r.focusNode!==b.node||r.focusOffset!==b.offset)&&(e=e.createRange(),e.setStart(u.node,u.offset),r.removeAllRanges(),p>o?(r.addRange(e),r.extend(b.node,b.offset)):(e.setEnd(b.node,b.offset),r.addRange(e)))}}for(e=[],r=t;r=r.parentNode;)r.nodeType===1&&e.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)r=e[t],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Vx=wt&&"documentMode"in document&&11>=document.documentMode,Fa=null,Xl=null,Rs=null,Wl=!1;function pb(e,t,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Wl||Fa==null||Fa!==Wo(o)||(o=Fa,"selectionStart"in o&&Ql(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Rs&&zs(Rs,o)||(Rs=o,o=Ni(Xl,"onSelect"),0<o.length&&(t=new ei("onSelect","select",null,t,r),e.push({event:t,listeners:o}),t.target=Fa)))}function ua(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ha={animationend:ua("Animation","AnimationEnd"),animationiteration:ua("Animation","AnimationIteration"),animationstart:ua("Animation","AnimationStart"),transitionrun:ua("Transition","TransitionRun"),transitionstart:ua("Transition","TransitionStart"),transitioncancel:ua("Transition","TransitionCancel"),transitionend:ua("Transition","TransitionEnd")},Zl={},fb={};wt&&(fb=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function ca(e){if(Zl[e])return Zl[e];if(!Ha[e])return e;var t=Ha[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in fb)return Zl[e]=t[r];return e}var gb=ca("animationend"),mb=ca("animationiteration"),bb=ca("animationstart"),Gx=ca("transitionrun"),Yx=ca("transitionstart"),Qx=ca("transitioncancel"),yb=ca("transitionend"),vb=new Map,wb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Vn(e,t){vb.set(e,t),vn(t,[e])}var xn=[],qa=0,Kl=0;function ri(){for(var e=qa,t=Kl=qa=0;t<e;){var r=xn[t];xn[t++]=null;var o=xn[t];xn[t++]=null;var u=xn[t];xn[t++]=null;var p=xn[t];if(xn[t++]=null,o!==null&&u!==null){var b=o.pending;b===null?u.next=u:(u.next=b.next,b.next=u),o.pending=u}p!==0&&_b(r,u,p)}}function ai(e,t,r,o){xn[qa++]=e,xn[qa++]=t,xn[qa++]=r,xn[qa++]=o,Kl|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Jl(e,t,r,o){return ai(e,t,r,o),si(e)}function Rr(e,t){return ai(e,null,null,t),si(e)}function _b(e,t,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var u=!1,p=e.return;p!==null;)p.childLanes|=r,o=p.alternate,o!==null&&(o.childLanes|=r),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(u=!0)),e=p,p=p.return;u&&t!==null&&e.tag===3&&(p=e.stateNode,u=31-gt(r),p=p.hiddenUpdates,e=p[u],e===null?p[u]=[t]:e.push(t),t.lane=r|536870912)}function si(e){if(50<so)throw so=0,ac=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Va={},xb=new WeakMap;function Sn(e,t){if(typeof e=="object"&&e!==null){var r=xb.get(e);return r!==void 0?r:(t={value:e,source:t,stack:ae(t)},xb.set(e,t),t)}return{value:e,source:t,stack:ae(t)}}var Ga=[],Ya=0,oi=null,ii=0,kn=[],Tn=0,da=null,mr=1,br="";function ha(e,t){Ga[Ya++]=ii,Ga[Ya++]=oi,oi=e,ii=t}function Sb(e,t,r){kn[Tn++]=mr,kn[Tn++]=br,kn[Tn++]=da,da=e;var o=mr;e=br;var u=32-gt(o)-1;o&=~(1<<u),r+=1;var p=32-gt(t)+u;if(30<p){var b=u-u%5;p=(o&(1<<b)-1).toString(32),o>>=b,u-=b,mr=1<<32-gt(t)+u|r<<u|o,br=p+e}else mr=1<<p|r<<u|o,br=e}function $l(e){e.return!==null&&(ha(e,1),Sb(e,1,0))}function eu(e){for(;e===oi;)oi=Ga[--Ya],Ga[Ya]=null,ii=Ga[--Ya],Ga[Ya]=null;for(;e===da;)da=kn[--Tn],kn[Tn]=null,br=kn[--Tn],kn[Tn]=null,mr=kn[--Tn],kn[Tn]=null}var Kt=null,Ft=null,Ke=!1,Gn=null,tr=!1,tu=Error(i(519));function pa(e){var t=Error(i(418,""));throw Bs(Sn(t,e)),tu}function kb(e){var t=e.stateNode,r=e.type,o=e.memoizedProps;switch(t[Te]=e,t[_e]=o,r){case"dialog":Xe("cancel",t),Xe("close",t);break;case"iframe":case"object":case"embed":Xe("load",t);break;case"video":case"audio":for(r=0;r<io.length;r++)Xe(io[r],t);break;case"source":Xe("error",t);break;case"img":case"image":case"link":Xe("error",t),Xe("load",t);break;case"details":Xe("toggle",t);break;case"input":Xe("invalid",t),U1(t,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Xo(t);break;case"select":Xe("invalid",t);break;case"textarea":Xe("invalid",t),F1(t,o.value,o.defaultValue,o.children),Xo(t)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||t.textContent===""+r||o.suppressHydrationWarning===!0||zv(t.textContent,r)?(o.popover!=null&&(Xe("beforetoggle",t),Xe("toggle",t)),o.onScroll!=null&&Xe("scroll",t),o.onScrollEnd!=null&&Xe("scrollend",t),o.onClick!=null&&(t.onclick=Ui),t=!0):t=!1,t||pa(e)}function Tb(e){for(Kt=e.return;Kt;)switch(Kt.tag){case 3:case 27:tr=!0;return;case 5:case 13:tr=!1;return;default:Kt=Kt.return}}function Is(e){if(e!==Kt)return!1;if(!Ke)return Tb(e),Ke=!0,!1;var t=!1,r;if((r=e.tag!==3&&e.tag!==27)&&((r=e.tag===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||_c(e.type,e.memoizedProps)),r=!r),r&&(t=!0),t&&Ft&&pa(e),Tb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(r=e.data,r==="/$"){if(t===0){Ft=Qn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++;e=e.nextSibling}Ft=null}}else Ft=Kt?Qn(e.stateNode.nextSibling):null;return!0}function Ps(){Ft=Kt=null,Ke=!1}function Bs(e){Gn===null?Gn=[e]:Gn.push(e)}var Ns=Error(i(460)),Db=Error(i(474)),nu={then:function(){}};function Cb(e){return e=e.status,e==="fulfilled"||e==="rejected"}function li(){}function Ab(e,t,r){switch(r=e[r],r===void 0?e.push(t):r!==t&&(t.then(li,li),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===Ns?Error(i(483)):e;default:if(typeof t.status=="string")t.then(li,li);else{if(e=ut,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(o){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=o}},function(o){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=o}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===Ns?Error(i(483)):e}throw Us=t,Ns}}var Us=null;function Eb(){if(Us===null)throw Error(i(459));var e=Us;return Us=null,e}var Qa=null,js=0;function ui(e){var t=js;return js+=1,Qa===null&&(Qa=[]),Ab(Qa,e,t)}function Fs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ci(e,t){throw t.$$typeof===c?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ob(e){var t=e._init;return t(e._payload)}function Mb(e){function t(P,L){if(e){var N=P.deletions;N===null?(P.deletions=[L],P.flags|=16):N.push(L)}}function r(P,L){if(!e)return null;for(;L!==null;)t(P,L),L=L.sibling;return null}function o(P){for(var L=new Map;P!==null;)P.key!==null?L.set(P.key,P):L.set(P.index,P),P=P.sibling;return L}function u(P,L){return P=Yr(P,L),P.index=0,P.sibling=null,P}function p(P,L,N){return P.index=N,e?(N=P.alternate,N!==null?(N=N.index,N<L?(P.flags|=33554434,L):N):(P.flags|=33554434,L)):(P.flags|=1048576,L)}function b(P){return e&&P.alternate===null&&(P.flags|=33554434),P}function x(P,L,N,$){return L===null||L.tag!==6?(L=Zu(N,P.mode,$),L.return=P,L):(L=u(L,N),L.return=P,L)}function C(P,L,N,$){var Se=N.type;return Se===g?W(P,L,N.props.children,$,N.key):L!==null&&(L.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===j&&Ob(Se)===L.type)?(L=u(L,N.props),Fs(L,N),L.return=P,L):(L=Ai(N.type,N.key,N.props,null,P.mode,$),Fs(L,N),L.return=P,L)}function z(P,L,N,$){return L===null||L.tag!==4||L.stateNode.containerInfo!==N.containerInfo||L.stateNode.implementation!==N.implementation?(L=Ku(N,P.mode,$),L.return=P,L):(L=u(L,N.children||[]),L.return=P,L)}function W(P,L,N,$,Se){return L===null||L.tag!==7?(L=Sa(N,P.mode,$,Se),L.return=P,L):(L=u(L,N),L.return=P,L)}function te(P,L,N){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Zu(""+L,P.mode,N),L.return=P,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case d:return N=Ai(L.type,L.key,L.props,null,P.mode,N),Fs(N,L),N.return=P,N;case h:return L=Ku(L,P.mode,N),L.return=P,L;case j:var $=L._init;return L=$(L._payload),te(P,L,N)}if(S(L)||T(L))return L=Sa(L,P.mode,N,null),L.return=P,L;if(typeof L.then=="function")return te(P,ui(L),N);if(L.$$typeof===_)return te(P,Ti(P,L),N);ci(P,L)}return null}function H(P,L,N,$){var Se=L!==null?L.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return Se!==null?null:x(P,L,""+N,$);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case d:return N.key===Se?C(P,L,N,$):null;case h:return N.key===Se?z(P,L,N,$):null;case j:return Se=N._init,N=Se(N._payload),H(P,L,N,$)}if(S(N)||T(N))return Se!==null?null:W(P,L,N,$,null);if(typeof N.then=="function")return H(P,L,ui(N),$);if(N.$$typeof===_)return H(P,L,Ti(P,N),$);ci(P,N)}return null}function Y(P,L,N,$,Se){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return P=P.get(N)||null,x(L,P,""+$,Se);if(typeof $=="object"&&$!==null){switch($.$$typeof){case d:return P=P.get($.key===null?N:$.key)||null,C(L,P,$,Se);case h:return P=P.get($.key===null?N:$.key)||null,z(L,P,$,Se);case j:var Ve=$._init;return $=Ve($._payload),Y(P,L,N,$,Se)}if(S($)||T($))return P=P.get(N)||null,W(L,P,$,Se,null);if(typeof $.then=="function")return Y(P,L,N,ui($),Se);if($.$$typeof===_)return Y(P,L,N,Ti(L,$),Se);ci(L,$)}return null}function Ce(P,L,N,$){for(var Se=null,Ve=null,Ee=L,Re=L=0,jt=null;Ee!==null&&Re<N.length;Re++){Ee.index>Re?(jt=Ee,Ee=null):jt=Ee.sibling;var Je=H(P,Ee,N[Re],$);if(Je===null){Ee===null&&(Ee=jt);break}e&&Ee&&Je.alternate===null&&t(P,Ee),L=p(Je,L,Re),Ve===null?Se=Je:Ve.sibling=Je,Ve=Je,Ee=jt}if(Re===N.length)return r(P,Ee),Ke&&ha(P,Re),Se;if(Ee===null){for(;Re<N.length;Re++)Ee=te(P,N[Re],$),Ee!==null&&(L=p(Ee,L,Re),Ve===null?Se=Ee:Ve.sibling=Ee,Ve=Ee);return Ke&&ha(P,Re),Se}for(Ee=o(Ee);Re<N.length;Re++)jt=Y(Ee,P,Re,N[Re],$),jt!==null&&(e&&jt.alternate!==null&&Ee.delete(jt.key===null?Re:jt.key),L=p(jt,L,Re),Ve===null?Se=jt:Ve.sibling=jt,Ve=jt);return e&&Ee.forEach(function($r){return t(P,$r)}),Ke&&ha(P,Re),Se}function Ue(P,L,N,$){if(N==null)throw Error(i(151));for(var Se=null,Ve=null,Ee=L,Re=L=0,jt=null,Je=N.next();Ee!==null&&!Je.done;Re++,Je=N.next()){Ee.index>Re?(jt=Ee,Ee=null):jt=Ee.sibling;var $r=H(P,Ee,Je.value,$);if($r===null){Ee===null&&(Ee=jt);break}e&&Ee&&$r.alternate===null&&t(P,Ee),L=p($r,L,Re),Ve===null?Se=$r:Ve.sibling=$r,Ve=$r,Ee=jt}if(Je.done)return r(P,Ee),Ke&&ha(P,Re),Se;if(Ee===null){for(;!Je.done;Re++,Je=N.next())Je=te(P,Je.value,$),Je!==null&&(L=p(Je,L,Re),Ve===null?Se=Je:Ve.sibling=Je,Ve=Je);return Ke&&ha(P,Re),Se}for(Ee=o(Ee);!Je.done;Re++,Je=N.next())Je=Y(Ee,P,Re,Je.value,$),Je!==null&&(e&&Je.alternate!==null&&Ee.delete(Je.key===null?Re:Je.key),L=p(Je,L,Re),Ve===null?Se=Je:Ve.sibling=Je,Ve=Je);return e&&Ee.forEach(function(ik){return t(P,ik)}),Ke&&ha(P,Re),Se}function kt(P,L,N,$){if(typeof N=="object"&&N!==null&&N.type===g&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case d:e:{for(var Se=N.key;L!==null;){if(L.key===Se){if(Se=N.type,Se===g){if(L.tag===7){r(P,L.sibling),$=u(L,N.props.children),$.return=P,P=$;break e}}else if(L.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===j&&Ob(Se)===L.type){r(P,L.sibling),$=u(L,N.props),Fs($,N),$.return=P,P=$;break e}r(P,L);break}else t(P,L);L=L.sibling}N.type===g?($=Sa(N.props.children,P.mode,$,N.key),$.return=P,P=$):($=Ai(N.type,N.key,N.props,null,P.mode,$),Fs($,N),$.return=P,P=$)}return b(P);case h:e:{for(Se=N.key;L!==null;){if(L.key===Se)if(L.tag===4&&L.stateNode.containerInfo===N.containerInfo&&L.stateNode.implementation===N.implementation){r(P,L.sibling),$=u(L,N.children||[]),$.return=P,P=$;break e}else{r(P,L);break}else t(P,L);L=L.sibling}$=Ku(N,P.mode,$),$.return=P,P=$}return b(P);case j:return Se=N._init,N=Se(N._payload),kt(P,L,N,$)}if(S(N))return Ce(P,L,N,$);if(T(N)){if(Se=T(N),typeof Se!="function")throw Error(i(150));return N=Se.call(N),Ue(P,L,N,$)}if(typeof N.then=="function")return kt(P,L,ui(N),$);if(N.$$typeof===_)return kt(P,L,Ti(P,N),$);ci(P,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,L!==null&&L.tag===6?(r(P,L.sibling),$=u(L,N),$.return=P,P=$):(r(P,L),$=Zu(N,P.mode,$),$.return=P,P=$),b(P)):r(P,L)}return function(P,L,N,$){try{js=0;var Se=kt(P,L,N,$);return Qa=null,Se}catch(Ee){if(Ee===Ns)throw Ee;var Ve=En(29,Ee,null,P.mode);return Ve.lanes=$,Ve.return=P,Ve}finally{}}}var fa=Mb(!0),Lb=Mb(!1),Xa=Ne(null),di=Ne(0);function zb(e,t){e=Ar,Le(di,e),Le(Xa,t),Ar=e|t.baseLanes}function ru(){Le(di,Ar),Le(Xa,Xa.current)}function au(){Ar=di.current,Ze(Xa),Ze(di)}var Dn=Ne(null),nr=null;function Ir(e){var t=e.alternate;Le(Rt,Rt.current&1),Le(Dn,e),nr===null&&(t===null||Xa.current!==null||t.memoizedState!==null)&&(nr=e)}function Rb(e){if(e.tag===22){if(Le(Rt,Rt.current),Le(Dn,e),nr===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(nr=e)}}else Pr()}function Pr(){Le(Rt,Rt.current),Le(Dn,Dn.current)}function yr(e){Ze(Dn),nr===e&&(nr=null),Ze(Rt)}var Rt=Ne(0);function hi(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xx=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){t.aborted=!0,e.forEach(function(r){return r()})}},Wx=n.unstable_scheduleCallback,Zx=n.unstable_NormalPriority,It={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function su(){return{controller:new Xx,data:new Map,refCount:0}}function Hs(e){e.refCount--,e.refCount===0&&Wx(Zx,function(){e.controller.abort()})}var qs=null,ou=0,Wa=0,Za=null;function Kx(e,t){if(qs===null){var r=qs=[];ou=0,Wa=hc(),Za={status:"pending",value:void 0,then:function(o){r.push(o)}}}return ou++,t.then(Ib,Ib),t}function Ib(){if(--ou===0&&qs!==null){Za!==null&&(Za.status="fulfilled");var e=qs;qs=null,Wa=0,Za=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Jx(e,t){var r=[],o={status:"pending",value:null,reason:null,then:function(u){r.push(u)}};return e.then(function(){o.status="fulfilled",o.value=t;for(var u=0;u<r.length;u++)(0,r[u])(t)},function(u){for(o.status="rejected",o.reason=u,u=0;u<r.length;u++)(0,r[u])(void 0)}),o}var Pb=Q.S;Q.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Kx(e,t),Pb!==null&&Pb(e,t)};var ga=Ne(null);function iu(){var e=ga.current;return e!==null?e:ut.pooledCache}function pi(e,t){t===null?Le(ga,ga.current):Le(ga,t.pool)}function Bb(){var e=iu();return e===null?null:{parent:It._currentValue,pool:e}}var Br=0,He=null,at=null,At=null,fi=!1,Ka=!1,ma=!1,gi=0,Vs=0,Ja=null,$x=0;function Dt(){throw Error(i(321))}function lu(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ln(e[r],t[r]))return!1;return!0}function uu(e,t,r,o,u,p){return Br=p,He=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Q.H=e===null||e.memoizedState===null?ba:Nr,ma=!1,p=r(o,u),ma=!1,Ka&&(p=Ub(t,r,o,u)),Nb(e),p}function Nb(e){Q.H=rr;var t=at!==null&&at.next!==null;if(Br=0,At=at=He=null,fi=!1,Vs=0,Ja=null,t)throw Error(i(300));e===null||Nt||(e=e.dependencies,e!==null&&ki(e)&&(Nt=!0))}function Ub(e,t,r,o){He=e;var u=0;do{if(Ka&&(Ja=null),Vs=0,Ka=!1,25<=u)throw Error(i(301));if(u+=1,At=at=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}Q.H=ya,p=t(r,o)}while(Ka);return p}function eS(){var e=Q.H,t=e.useState()[0];return t=typeof t.then=="function"?Gs(t):t,e=e.useState()[0],(at!==null?at.memoizedState:null)!==e&&(He.flags|=1024),t}function cu(){var e=gi!==0;return gi=0,e}function du(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function hu(e){if(fi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}fi=!1}Br=0,At=at=He=null,Ka=!1,Vs=gi=0,Ja=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?He.memoizedState=At=e:At=At.next=e,At}function Et(){if(at===null){var e=He.alternate;e=e!==null?e.memoizedState:null}else e=at.next;var t=At===null?He.memoizedState:At.next;if(t!==null)At=t,at=e;else{if(e===null)throw He.alternate===null?Error(i(467)):Error(i(310));at=e,e={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},At===null?He.memoizedState=At=e:At=At.next=e}return At}var mi;mi=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Gs(e){var t=Vs;return Vs+=1,Ja===null&&(Ja=[]),e=Ab(Ja,e,t),t=He,(At===null?t.memoizedState:At.next)===null&&(t=t.alternate,Q.H=t===null||t.memoizedState===null?ba:Nr),e}function bi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Gs(e);if(e.$$typeof===_)return Yt(e)}throw Error(i(438,String(e)))}function pu(e){var t=null,r=He.updateQueue;if(r!==null&&(t=r.memoCache),t==null){var o=He.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(t={data:o.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),r===null&&(r=mi(),He.updateQueue=r),r.memoCache=t,r=t.data[t.index],r===void 0)for(r=t.data[t.index]=Array(e),o=0;o<e;o++)r[o]=se;return t.index++,r}function vr(e,t){return typeof t=="function"?t(e):t}function yi(e){var t=Et();return fu(t,at,e)}function fu(e,t,r){var o=e.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=e.baseQueue,p=o.pending;if(p!==null){if(u!==null){var b=u.next;u.next=p.next,p.next=b}t.baseQueue=u=p,o.pending=null}if(p=e.baseState,u===null)e.memoizedState=p;else{t=u.next;var x=b=null,C=null,z=t,W=!1;do{var te=z.lane&-536870913;if(te!==z.lane?(We&te)===te:(Br&te)===te){var H=z.revertLane;if(H===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),te===Wa&&(W=!0);else if((Br&H)===H){z=z.next,H===Wa&&(W=!0);continue}else te={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(x=C=te,b=p):C=C.next=te,He.lanes|=H,Qr|=H;te=z.action,ma&&r(p,te),p=z.hasEagerState?z.eagerState:r(p,te)}else H={lane:te,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(x=C=H,b=p):C=C.next=H,He.lanes|=te,Qr|=te;z=z.next}while(z!==null&&z!==t);if(C===null?b=p:C.next=x,!ln(p,e.memoizedState)&&(Nt=!0,W&&(r=Za,r!==null)))throw r;e.memoizedState=p,e.baseState=b,e.baseQueue=C,o.lastRenderedState=p}return u===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function gu(e){var t=Et(),r=t.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var o=r.dispatch,u=r.pending,p=t.memoizedState;if(u!==null){r.pending=null;var b=u=u.next;do p=e(p,b.action),b=b.next;while(b!==u);ln(p,t.memoizedState)||(Nt=!0),t.memoizedState=p,t.baseQueue===null&&(t.baseState=p),r.lastRenderedState=p}return[p,o]}function jb(e,t,r){var o=He,u=Et(),p=Ke;if(p){if(r===void 0)throw Error(i(407));r=r()}else r=t();var b=!ln((at||u).memoizedState,r);if(b&&(u.memoizedState=r,Nt=!0),u=u.queue,yu(qb.bind(null,o,u,e),[e]),u.getSnapshot!==t||b||At!==null&&At.memoizedState.tag&1){if(o.flags|=2048,$a(9,Hb.bind(null,o,u,r,t),{destroy:void 0},null),ut===null)throw Error(i(349));p||(Br&60)!==0||Fb(o,t,r)}return r}function Fb(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=He.updateQueue,t===null?(t=mi(),He.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Hb(e,t,r,o){t.value=r,t.getSnapshot=o,Vb(t)&&Gb(e)}function qb(e,t,r){return r(function(){Vb(t)&&Gb(e)})}function Vb(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ln(e,r)}catch{return!0}}function Gb(e){var t=Rr(e,2);t!==null&&Jt(t,e,2)}function mu(e){var t=nn();if(typeof e=="function"){var r=e;if(e=r(),ma){ft(!0);try{r()}finally{ft(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vr,lastRenderedState:e},t}function Yb(e,t,r,o){return e.baseState=r,fu(e,at,typeof o=="function"?o:vr)}function tS(e,t,r,o,u){if(_i(e))throw Error(i(485));if(e=t.action,e!==null){var p={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};Q.T!==null?r(!0):p.isTransition=!1,o(p),r=t.pending,r===null?(p.next=t.pending=p,Qb(t,p)):(p.next=r.next,t.pending=r.next=p)}}function Qb(e,t){var r=t.action,o=t.payload,u=e.state;if(t.isTransition){var p=Q.T,b={};Q.T=b;try{var x=r(u,o),C=Q.S;C!==null&&C(b,x),Xb(e,t,x)}catch(z){bu(e,t,z)}finally{Q.T=p}}else try{p=r(u,o),Xb(e,t,p)}catch(z){bu(e,t,z)}}function Xb(e,t,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Wb(e,t,o)},function(o){return bu(e,t,o)}):Wb(e,t,r)}function Wb(e,t,r){t.status="fulfilled",t.value=r,Zb(t),e.state=r,t=e.pending,t!==null&&(r=t.next,r===t?e.pending=null:(r=r.next,t.next=r,Qb(e,r)))}function bu(e,t,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do t.status="rejected",t.reason=r,Zb(t),t=t.next;while(t!==o)}e.action=null}function Zb(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Kb(e,t){return t}function Jb(e,t){if(Ke){var r=ut.formState;if(r!==null){e:{var o=He;if(Ke){if(Ft){t:{for(var u=Ft,p=tr;u.nodeType!==8;){if(!p){u=null;break t}if(u=Qn(u.nextSibling),u===null){u=null;break t}}p=u.data,u=p==="F!"||p==="F"?u:null}if(u){Ft=Qn(u.nextSibling),o=u.data==="F!";break e}}pa(o)}o=!1}o&&(t=r[0])}}return r=nn(),r.memoizedState=r.baseState=t,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kb,lastRenderedState:t},r.queue=o,r=my.bind(null,He,o),o.dispatch=r,o=mu(!1),p=Su.bind(null,He,!1,o.queue),o=nn(),u={state:t,dispatch:null,action:e,pending:null},o.queue=u,r=tS.bind(null,He,u,p,r),u.dispatch=r,o.memoizedState=e,[t,r,!1]}function $b(e){var t=Et();return ey(t,at,e)}function ey(e,t,r){t=fu(e,t,Kb)[0],e=yi(vr)[0],t=typeof t=="object"&&t!==null&&typeof t.then=="function"?Gs(t):t;var o=Et(),u=o.queue,p=u.dispatch;return r!==o.memoizedState&&(He.flags|=2048,$a(9,nS.bind(null,u,r),{destroy:void 0},null)),[t,p,e]}function nS(e,t){e.action=t}function ty(e){var t=Et(),r=at;if(r!==null)return ey(t,r,e);Et(),t=t.memoizedState,r=Et();var o=r.queue.dispatch;return r.memoizedState=e,[t,o,!1]}function $a(e,t,r,o){return e={tag:e,create:t,inst:r,deps:o,next:null},t=He.updateQueue,t===null&&(t=mi(),He.updateQueue=t),r=t.lastEffect,r===null?t.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,t.lastEffect=e),e}function ny(){return Et().memoizedState}function vi(e,t,r,o){var u=nn();He.flags|=e,u.memoizedState=$a(1|t,r,{destroy:void 0},o===void 0?null:o)}function wi(e,t,r,o){var u=Et();o=o===void 0?null:o;var p=u.memoizedState.inst;at!==null&&o!==null&&lu(o,at.memoizedState.deps)?u.memoizedState=$a(t,r,p,o):(He.flags|=e,u.memoizedState=$a(1|t,r,p,o))}function ry(e,t){vi(8390656,8,e,t)}function yu(e,t){wi(2048,8,e,t)}function ay(e,t){return wi(4,2,e,t)}function sy(e,t){return wi(4,4,e,t)}function oy(e,t){if(typeof t=="function"){e=e();var r=t(e);return function(){typeof r=="function"?r():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function iy(e,t,r){r=r!=null?r.concat([e]):null,wi(4,4,oy.bind(null,t,e),r)}function vu(){}function ly(e,t){var r=Et();t=t===void 0?null:t;var o=r.memoizedState;return t!==null&&lu(t,o[1])?o[0]:(r.memoizedState=[e,t],e)}function uy(e,t){var r=Et();t=t===void 0?null:t;var o=r.memoizedState;if(t!==null&&lu(t,o[1]))return o[0];if(o=e(),ma){ft(!0);try{e()}finally{ft(!1)}}return r.memoizedState=[o,t],o}function wu(e,t,r){return r===void 0||(Br&1073741824)!==0?e.memoizedState=t:(e.memoizedState=r,e=dv(),He.lanes|=e,Qr|=e,r)}function cy(e,t,r,o){return ln(r,t)?r:Xa.current!==null?(e=wu(e,r,o),ln(e,t)||(Nt=!0),e):(Br&42)===0?(Nt=!0,e.memoizedState=r):(e=dv(),He.lanes|=e,Qr|=e,t)}function dy(e,t,r,o,u){var p=oe.p;oe.p=p!==0&&8>p?p:8;var b=Q.T,x={};Q.T=x,Su(e,!1,t,r);try{var C=u(),z=Q.S;if(z!==null&&z(x,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var W=Jx(C,o);Ys(e,t,W,hn(e))}else Ys(e,t,o,hn(e))}catch(te){Ys(e,t,{then:function(){},status:"rejected",reason:te},hn())}finally{oe.p=p,Q.T=b}}function rS(){}function _u(e,t,r,o){if(e.tag!==5)throw Error(i(476));var u=hy(e).queue;dy(e,u,t,Ie,r===null?rS:function(){return py(e),r(o)})}function hy(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Ie,baseState:Ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vr,lastRenderedState:Ie},next:null};var r={};return t.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vr,lastRenderedState:r},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function py(e){var t=hy(e).next.queue;Ys(e,t,{},hn())}function xu(){return Yt(po)}function fy(){return Et().memoizedState}function gy(){return Et().memoizedState}function aS(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var r=hn();e=Fr(r);var o=Hr(t,e,r);o!==null&&(Jt(o,t,r),Ws(o,t,r)),t={cache:su()},e.payload=t;return}t=t.return}}function sS(e,t,r){var o=hn();r={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},_i(e)?by(t,r):(r=Jl(e,t,r,o),r!==null&&(Jt(r,e,o),yy(r,t,o)))}function my(e,t,r){var o=hn();Ys(e,t,r,o)}function Ys(e,t,r,o){var u={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(_i(e))by(t,u);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=t.lastRenderedReducer,p!==null))try{var b=t.lastRenderedState,x=p(b,r);if(u.hasEagerState=!0,u.eagerState=x,ln(x,b))return ai(e,t,u,0),ut===null&&ri(),!1}catch{}finally{}if(r=Jl(e,t,u,o),r!==null)return Jt(r,e,o),yy(r,t,o),!0}return!1}function Su(e,t,r,o){if(o={lane:2,revertLane:hc(),action:o,hasEagerState:!1,eagerState:null,next:null},_i(e)){if(t)throw Error(i(479))}else t=Jl(e,r,o,2),t!==null&&Jt(t,e,2)}function _i(e){var t=e.alternate;return e===He||t!==null&&t===He}function by(e,t){Ka=fi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function yy(e,t,r){if((r&4194176)!==0){var o=t.lanes;o&=e.pendingLanes,r|=o,t.lanes=r,Ae(e,r)}}var rr={readContext:Yt,use:bi,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt};rr.useCacheRefresh=Dt,rr.useMemoCache=Dt,rr.useHostTransitionStatus=Dt,rr.useFormState=Dt,rr.useActionState=Dt,rr.useOptimistic=Dt;var ba={readContext:Yt,use:bi,useCallback:function(e,t){return nn().memoizedState=[e,t===void 0?null:t],e},useContext:Yt,useEffect:ry,useImperativeHandle:function(e,t,r){r=r!=null?r.concat([e]):null,vi(4194308,4,oy.bind(null,t,e),r)},useLayoutEffect:function(e,t){return vi(4194308,4,e,t)},useInsertionEffect:function(e,t){vi(4,2,e,t)},useMemo:function(e,t){var r=nn();t=t===void 0?null:t;var o=e();if(ma){ft(!0);try{e()}finally{ft(!1)}}return r.memoizedState=[o,t],o},useReducer:function(e,t,r){var o=nn();if(r!==void 0){var u=r(t);if(ma){ft(!0);try{r(t)}finally{ft(!1)}}}else u=t;return o.memoizedState=o.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},o.queue=e,e=e.dispatch=sS.bind(null,He,e),[o.memoizedState,e]},useRef:function(e){var t=nn();return e={current:e},t.memoizedState=e},useState:function(e){e=mu(e);var t=e.queue,r=my.bind(null,He,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:vu,useDeferredValue:function(e,t){var r=nn();return wu(r,e,t)},useTransition:function(){var e=mu(!1);return e=dy.bind(null,He,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var o=He,u=nn();if(Ke){if(r===void 0)throw Error(i(407));r=r()}else{if(r=t(),ut===null)throw Error(i(349));(We&60)!==0||Fb(o,t,r)}u.memoizedState=r;var p={value:r,getSnapshot:t};return u.queue=p,ry(qb.bind(null,o,p,e),[e]),o.flags|=2048,$a(9,Hb.bind(null,o,p,r,t),{destroy:void 0},null),r},useId:function(){var e=nn(),t=ut.identifierPrefix;if(Ke){var r=br,o=mr;r=(o&~(1<<32-gt(o)-1)).toString(32)+r,t=":"+t+"R"+r,r=gi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=$x++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return nn().memoizedState=aS.bind(null,He)}};ba.useMemoCache=pu,ba.useHostTransitionStatus=xu,ba.useFormState=Jb,ba.useActionState=Jb,ba.useOptimistic=function(e){var t=nn();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=Su.bind(null,He,!0,r),r.dispatch=t,[e,t]};var Nr={readContext:Yt,use:bi,useCallback:ly,useContext:Yt,useEffect:yu,useImperativeHandle:iy,useInsertionEffect:ay,useLayoutEffect:sy,useMemo:uy,useReducer:yi,useRef:ny,useState:function(){return yi(vr)},useDebugValue:vu,useDeferredValue:function(e,t){var r=Et();return cy(r,at.memoizedState,e,t)},useTransition:function(){var e=yi(vr)[0],t=Et().memoizedState;return[typeof e=="boolean"?e:Gs(e),t]},useSyncExternalStore:jb,useId:fy};Nr.useCacheRefresh=gy,Nr.useMemoCache=pu,Nr.useHostTransitionStatus=xu,Nr.useFormState=$b,Nr.useActionState=$b,Nr.useOptimistic=function(e,t){var r=Et();return Yb(r,at,e,t)};var ya={readContext:Yt,use:bi,useCallback:ly,useContext:Yt,useEffect:yu,useImperativeHandle:iy,useInsertionEffect:ay,useLayoutEffect:sy,useMemo:uy,useReducer:gu,useRef:ny,useState:function(){return gu(vr)},useDebugValue:vu,useDeferredValue:function(e,t){var r=Et();return at===null?wu(r,e,t):cy(r,at.memoizedState,e,t)},useTransition:function(){var e=gu(vr)[0],t=Et().memoizedState;return[typeof e=="boolean"?e:Gs(e),t]},useSyncExternalStore:jb,useId:fy};ya.useCacheRefresh=gy,ya.useMemoCache=pu,ya.useHostTransitionStatus=xu,ya.useFormState=ty,ya.useActionState=ty,ya.useOptimistic=function(e,t){var r=Et();return at!==null?Yb(r,at,e,t):(r.baseState=e,[e,r.queue.dispatch])};function ku(e,t,r,o){t=e.memoizedState,r=r(o,t),r=r==null?t:de({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Tu={isMounted:function(e){return(e=e._reactInternals)?ge(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var o=hn(),u=Fr(o);u.payload=t,r!=null&&(u.callback=r),t=Hr(e,u,o),t!==null&&(Jt(t,e,o),Ws(t,e,o))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var o=hn(),u=Fr(o);u.tag=1,u.payload=t,r!=null&&(u.callback=r),t=Hr(e,u,o),t!==null&&(Jt(t,e,o),Ws(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=hn(),o=Fr(r);o.tag=2,t!=null&&(o.callback=t),t=Hr(e,o,r),t!==null&&(Jt(t,e,r),Ws(t,e,r))}};function vy(e,t,r,o,u,p,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,p,b):t.prototype&&t.prototype.isPureReactComponent?!zs(r,o)||!zs(u,p):!0}function wy(e,t,r,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,o),t.state!==e&&Tu.enqueueReplaceState(t,t.state,null)}function va(e,t){var r=t;if("ref"in t){r={};for(var o in t)o!=="ref"&&(r[o]=t[o])}if(e=e.defaultProps){r===t&&(r=de({},r));for(var u in e)r[u]===void 0&&(r[u]=e[u])}return r}var xi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function _y(e){xi(e)}function xy(e){console.error(e)}function Sy(e){xi(e)}function Si(e,t){try{var r=e.onUncaughtError;r(t.value,{componentStack:t.stack})}catch(o){setTimeout(function(){throw o})}}function ky(e,t,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Du(e,t,r){return r=Fr(r),r.tag=3,r.payload={element:null},r.callback=function(){Si(e,t)},r}function Ty(e){return e=Fr(e),e.tag=3,e}function Dy(e,t,r,o){var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var p=o.value;e.payload=function(){return u(p)},e.callback=function(){ky(t,r,o)}}var b=r.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){ky(t,r,o),typeof u!="function"&&(Xr===null?Xr=new Set([this]):Xr.add(this));var x=o.stack;this.componentDidCatch(o.value,{componentStack:x!==null?x:""})})}function oS(e,t,r,o,u){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(t=r.alternate,t!==null&&Xs(t,r,u,!0),r=Dn.current,r!==null){switch(r.tag){case 13:return nr===null?ic():r.alternate===null&&St===0&&(St=3),r.flags&=-257,r.flags|=65536,r.lanes=u,o===nu?r.flags|=16384:(t=r.updateQueue,t===null?r.updateQueue=new Set([o]):t.add(o),uc(e,o,u)),!1;case 22:return r.flags|=65536,o===nu?r.flags|=16384:(t=r.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=t):(r=t.retryQueue,r===null?t.retryQueue=new Set([o]):r.add(o)),uc(e,o,u)),!1}throw Error(i(435,r.tag))}return uc(e,o,u),ic(),!1}if(Ke)return t=Dn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,o!==tu&&(e=Error(i(422),{cause:o}),Bs(Sn(e,r)))):(o!==tu&&(t=Error(i(423),{cause:o}),Bs(Sn(t,r))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,o=Sn(o,r),u=Du(e.stateNode,o,u),Fu(e,u),St!==4&&(St=2)),!1;var p=Error(i(520),{cause:o});if(p=Sn(p,r),ro===null?ro=[p]:ro.push(p),St!==4&&(St=2),t===null)return!0;o=Sn(o,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=u&-u,r.lanes|=e,e=Du(r.stateNode,o,e),Fu(r,e),!1;case 1:if(t=r.type,p=r.stateNode,(r.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Xr===null||!Xr.has(p))))return r.flags|=65536,u&=-u,r.lanes|=u,u=Ty(u),Dy(u,e,r,o),Fu(r,u),!1}r=r.return}while(r!==null);return!1}var Cy=Error(i(461)),Nt=!1;function Ht(e,t,r,o){t.child=e===null?Lb(t,null,r,o):fa(t,e.child,r,o)}function Ay(e,t,r,o,u){r=r.render;var p=t.ref;if("ref"in o){var b={};for(var x in o)x!=="ref"&&(b[x]=o[x])}else b=o;return _a(t),o=uu(e,t,r,b,p,u),x=cu(),e!==null&&!Nt?(du(e,t,u),wr(e,t,u)):(Ke&&x&&$l(t),t.flags|=1,Ht(e,t,o,u),t.child)}function Ey(e,t,r,o,u){if(e===null){var p=r.type;return typeof p=="function"&&!Wu(p)&&p.defaultProps===void 0&&r.compare===null?(t.tag=15,t.type=p,Oy(e,t,p,o,u)):(e=Ai(r.type,null,o,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(p=e.child,!Iu(e,u)){var b=p.memoizedProps;if(r=r.compare,r=r!==null?r:zs,r(b,o)&&e.ref===t.ref)return wr(e,t,u)}return t.flags|=1,e=Yr(p,o),e.ref=t.ref,e.return=t,t.child=e}function Oy(e,t,r,o,u){if(e!==null){var p=e.memoizedProps;if(zs(p,o)&&e.ref===t.ref)if(Nt=!1,t.pendingProps=o=p,Iu(e,u))(e.flags&131072)!==0&&(Nt=!0);else return t.lanes=e.lanes,wr(e,t,u)}return Cu(e,t,r,o,u)}function My(e,t,r){var o=t.pendingProps,u=o.children,p=(t.stateNode._pendingVisibility&2)!==0,b=e!==null?e.memoizedState:null;if(Qs(e,t),o.mode==="hidden"||p){if((t.flags&128)!==0){if(o=b!==null?b.baseLanes|r:r,e!==null){for(u=t.child=e.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;t.childLanes=p&~o}else t.childLanes=0,t.child=null;return Ly(e,t,o,r)}if((r&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&pi(t,b!==null?b.cachePool:null),b!==null?zb(t,b):ru(),Rb(t);else return t.lanes=t.childLanes=536870912,Ly(e,t,b!==null?b.baseLanes|r:r,r)}else b!==null?(pi(t,b.cachePool),zb(t,b),Pr(),t.memoizedState=null):(e!==null&&pi(t,null),ru(),Pr());return Ht(e,t,u,r),t.child}function Ly(e,t,r,o){var u=iu();return u=u===null?null:{parent:It._currentValue,pool:u},t.memoizedState={baseLanes:r,cachePool:u},e!==null&&pi(t,null),ru(),Rb(t),e!==null&&Xs(e,t,o,!0),null}function Qs(e,t){var r=t.ref;if(r===null)e!==null&&e.ref!==null&&(t.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(i(284));(e===null||e.ref!==r)&&(t.flags|=2097664)}}function Cu(e,t,r,o,u){return _a(t),r=uu(e,t,r,o,void 0,u),o=cu(),e!==null&&!Nt?(du(e,t,u),wr(e,t,u)):(Ke&&o&&$l(t),t.flags|=1,Ht(e,t,r,u),t.child)}function zy(e,t,r,o,u,p){return _a(t),t.updateQueue=null,r=Ub(t,o,r,u),Nb(e),o=cu(),e!==null&&!Nt?(du(e,t,p),wr(e,t,p)):(Ke&&o&&$l(t),t.flags|=1,Ht(e,t,r,p),t.child)}function Ry(e,t,r,o,u){if(_a(t),t.stateNode===null){var p=Va,b=r.contextType;typeof b=="object"&&b!==null&&(p=Yt(b)),p=new r(o,p),t.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Tu,t.stateNode=p,p._reactInternals=t,p=t.stateNode,p.props=o,p.state=t.memoizedState,p.refs={},Uu(t),b=r.contextType,p.context=typeof b=="object"&&b!==null?Yt(b):Va,p.state=t.memoizedState,b=r.getDerivedStateFromProps,typeof b=="function"&&(ku(t,r,b,o),p.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&Tu.enqueueReplaceState(p,p.state,null),Ks(t,o,p,u),Zs(),p.state=t.memoizedState),typeof p.componentDidMount=="function"&&(t.flags|=4194308),o=!0}else if(e===null){p=t.stateNode;var x=t.memoizedProps,C=va(r,x);p.props=C;var z=p.context,W=r.contextType;b=Va,typeof W=="object"&&W!==null&&(b=Yt(W));var te=r.getDerivedStateFromProps;W=typeof te=="function"||typeof p.getSnapshotBeforeUpdate=="function",x=t.pendingProps!==x,W||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(x||z!==b)&&wy(t,p,o,b),jr=!1;var H=t.memoizedState;p.state=H,Ks(t,o,p,u),Zs(),z=t.memoizedState,x||H!==z||jr?(typeof te=="function"&&(ku(t,r,te,o),z=t.memoizedState),(C=jr||vy(t,r,C,o,H,z,b))?(W||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=z),p.props=o,p.state=z,p.context=b,o=C):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{p=t.stateNode,ju(e,t),b=t.memoizedProps,W=va(r,b),p.props=W,te=t.pendingProps,H=p.context,z=r.contextType,C=Va,typeof z=="object"&&z!==null&&(C=Yt(z)),x=r.getDerivedStateFromProps,(z=typeof x=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==te||H!==C)&&wy(t,p,o,C),jr=!1,H=t.memoizedState,p.state=H,Ks(t,o,p,u),Zs();var Y=t.memoizedState;b!==te||H!==Y||jr||e!==null&&e.dependencies!==null&&ki(e.dependencies)?(typeof x=="function"&&(ku(t,r,x,o),Y=t.memoizedState),(W=jr||vy(t,r,W,o,H,Y,C)||e!==null&&e.dependencies!==null&&ki(e.dependencies))?(z||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(o,Y,C),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(o,Y,C)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===e.memoizedProps&&H===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&H===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=Y),p.props=o,p.state=Y,p.context=C,o=W):(typeof p.componentDidUpdate!="function"||b===e.memoizedProps&&H===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&H===e.memoizedState||(t.flags|=1024),o=!1)}return p=o,Qs(e,t),o=(t.flags&128)!==0,p||o?(p=t.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:p.render(),t.flags|=1,e!==null&&o?(t.child=fa(t,e.child,null,u),t.child=fa(t,null,r,u)):Ht(e,t,r,u),t.memoizedState=p.state,e=t.child):e=wr(e,t,u),e}function Iy(e,t,r,o){return Ps(),t.flags|=256,Ht(e,t,r,o),t.child}var Au={dehydrated:null,treeContext:null,retryLane:0};function Eu(e){return{baseLanes:e,cachePool:Bb()}}function Ou(e,t,r){return e=e!==null?e.childLanes&~r:0,t&&(e|=On),e}function Py(e,t,r){var o=t.pendingProps,u=!1,p=(t.flags&128)!==0,b;if((b=p)||(b=e!==null&&e.memoizedState===null?!1:(Rt.current&2)!==0),b&&(u=!0,t.flags&=-129),b=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ke){if(u?Ir(t):Pr(),Ke){var x=Ft,C;if(C=x){e:{for(C=x,x=tr;C.nodeType!==8;){if(!x){x=null;break e}if(C=Qn(C.nextSibling),C===null){x=null;break e}}x=C}x!==null?(t.memoizedState={dehydrated:x,treeContext:da!==null?{id:mr,overflow:br}:null,retryLane:536870912},C=En(18,null,null,0),C.stateNode=x,C.return=t,t.child=C,Kt=t,Ft=null,C=!0):C=!1}C||pa(t)}if(x=t.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return x.data==="$!"?t.lanes=16:t.lanes=536870912,null;yr(t)}return x=o.children,o=o.fallback,u?(Pr(),u=t.mode,x=Lu({mode:"hidden",children:x},u),o=Sa(o,u,r,null),x.return=t,o.return=t,x.sibling=o,t.child=x,u=t.child,u.memoizedState=Eu(r),u.childLanes=Ou(e,b,r),t.memoizedState=Au,o):(Ir(t),Mu(t,x))}if(C=e.memoizedState,C!==null&&(x=C.dehydrated,x!==null)){if(p)t.flags&256?(Ir(t),t.flags&=-257,t=zu(e,t,r)):t.memoizedState!==null?(Pr(),t.child=e.child,t.flags|=128,t=null):(Pr(),u=o.fallback,x=t.mode,o=Lu({mode:"visible",children:o.children},x),u=Sa(u,x,r,null),u.flags|=2,o.return=t,u.return=t,o.sibling=u,t.child=o,fa(t,e.child,null,r),o=t.child,o.memoizedState=Eu(r),o.childLanes=Ou(e,b,r),t.memoizedState=Au,t=u);else if(Ir(t),x.data==="$!"){if(b=x.nextSibling&&x.nextSibling.dataset,b)var z=b.dgst;b=z,o=Error(i(419)),o.stack="",o.digest=b,Bs({value:o,source:null,stack:null}),t=zu(e,t,r)}else if(Nt||Xs(e,t,r,!1),b=(r&e.childLanes)!==0,Nt||b){if(b=ut,b!==null){if(o=r&-r,(o&42)!==0)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=(o&(b.suspendedLanes|r))!==0?0:o,o!==0&&o!==C.retryLane)throw C.retryLane=o,Rr(e,o),Jt(b,e,o),Cy}x.data==="$?"||ic(),t=zu(e,t,r)}else x.data==="$?"?(t.flags|=128,t.child=e.child,t=_S.bind(null,e),x._reactRetry=t,t=null):(e=C.treeContext,Ft=Qn(x.nextSibling),Kt=t,Ke=!0,Gn=null,tr=!1,e!==null&&(kn[Tn++]=mr,kn[Tn++]=br,kn[Tn++]=da,mr=e.id,br=e.overflow,da=t),t=Mu(t,o.children),t.flags|=4096);return t}return u?(Pr(),u=o.fallback,x=t.mode,C=e.child,z=C.sibling,o=Yr(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&31457280,z!==null?u=Yr(z,u):(u=Sa(u,x,r,null),u.flags|=2),u.return=t,o.return=t,o.sibling=u,t.child=o,o=u,u=t.child,x=e.child.memoizedState,x===null?x=Eu(r):(C=x.cachePool,C!==null?(z=It._currentValue,C=C.parent!==z?{parent:z,pool:z}:C):C=Bb(),x={baseLanes:x.baseLanes|r,cachePool:C}),u.memoizedState=x,u.childLanes=Ou(e,b,r),t.memoizedState=Au,o):(Ir(t),r=e.child,e=r.sibling,r=Yr(r,{mode:"visible",children:o.children}),r.return=t,r.sibling=null,e!==null&&(b=t.deletions,b===null?(t.deletions=[e],t.flags|=16):b.push(e)),t.child=r,t.memoizedState=null,r)}function Mu(e,t){return t=Lu({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Lu(e,t){return lv(e,t,0,null)}function zu(e,t,r){return fa(t,e.child,null,r),e=Mu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function By(e,t,r){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),Bu(e.return,t,r)}function Ru(e,t,r,o,u){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:u}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=r,p.tailMode=u)}function Ny(e,t,r){var o=t.pendingProps,u=o.revealOrder,p=o.tail;if(Ht(e,t,o.children,r),o=Rt.current,(o&2)!==0)o=o&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&By(e,r,t);else if(e.tag===19)By(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(Le(Rt,o),u){case"forwards":for(r=t.child,u=null;r!==null;)e=r.alternate,e!==null&&hi(e)===null&&(u=r),r=r.sibling;r=u,r===null?(u=t.child,t.child=null):(u=r.sibling,r.sibling=null),Ru(t,!1,u,r,p);break;case"backwards":for(r=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&hi(e)===null){t.child=u;break}e=u.sibling,u.sibling=r,r=u,u=e}Ru(t,!0,r,null,p);break;case"together":Ru(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Qr|=t.lanes,(r&t.childLanes)===0)if(e!==null){if(Xs(e,t,r,!1),(r&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,r=Yr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Yr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Iu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ki(e)))}function iS(e,t,r){switch(t.tag){case 3:Nn(t,t.stateNode.containerInfo),Ur(t,It,e.memoizedState.cache),Ps();break;case 27:case 5:Un(t);break;case 4:Nn(t,t.stateNode.containerInfo);break;case 10:Ur(t,t.type,t.memoizedProps.value);break;case 13:var o=t.memoizedState;if(o!==null)return o.dehydrated!==null?(Ir(t),t.flags|=128,null):(r&t.child.childLanes)!==0?Py(e,t,r):(Ir(t),e=wr(e,t,r),e!==null?e.sibling:null);Ir(t);break;case 19:var u=(e.flags&128)!==0;if(o=(r&t.childLanes)!==0,o||(Xs(e,t,r,!1),o=(r&t.childLanes)!==0),u){if(o)return Ny(e,t,r);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Le(Rt,Rt.current),o)break;return null;case 22:case 23:return t.lanes=0,My(e,t,r);case 24:Ur(t,It,e.memoizedState.cache)}return wr(e,t,r)}function Uy(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps)Nt=!0;else{if(!Iu(e,r)&&(t.flags&128)===0)return Nt=!1,iS(e,t,r);Nt=(e.flags&131072)!==0}else Nt=!1,Ke&&(t.flags&1048576)!==0&&Sb(t,ii,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var o=t.elementType,u=o._init;if(o=u(o._payload),t.type=o,typeof o=="function")Wu(o)?(e=va(o,e),t.tag=1,t=Ry(null,t,o,e,r)):(t.tag=0,t=Cu(null,t,o,e,r));else{if(o!=null){if(u=o.$$typeof,u===A){t.tag=11,t=Ay(null,t,o,e,r);break e}else if(u===E){t.tag=14,t=Ey(null,t,o,e,r);break e}}throw t=ve(o)||o,Error(i(306,t,""))}}return t;case 0:return Cu(e,t,t.type,t.pendingProps,r);case 1:return o=t.type,u=va(o,t.pendingProps),Ry(e,t,o,u,r);case 3:e:{if(Nn(t,t.stateNode.containerInfo),e===null)throw Error(i(387));var p=t.pendingProps;u=t.memoizedState,o=u.element,ju(e,t),Ks(t,p,null,r);var b=t.memoizedState;if(p=b.cache,Ur(t,It,p),p!==u.cache&&Nu(t,[It],r,!0),Zs(),p=b.element,u.isDehydrated)if(u={element:p,isDehydrated:!1,cache:b.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Iy(e,t,p,r);break e}else if(p!==o){o=Sn(Error(i(424)),t),Bs(o),t=Iy(e,t,p,r);break e}else for(Ft=Qn(t.stateNode.containerInfo.firstChild),Kt=t,Ke=!0,Gn=null,tr=!0,r=Lb(t,null,p,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ps(),p===o){t=wr(e,t,r);break e}Ht(e,t,p,r)}t=t.child}return t;case 26:return Qs(e,t),e===null?(r=Hv(t.type,null,t.pendingProps,null))?t.memoizedState=r:Ke||(r=t.type,e=t.pendingProps,o=ji(Lt.current).createElement(r),o[Te]=t,o[_e]=e,qt(o,r,e),mt(o),t.stateNode=o):t.memoizedState=Hv(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Un(t),e===null&&Ke&&(o=t.stateNode=Uv(t.type,t.pendingProps,Lt.current),Kt=t,tr=!0,Ft=Qn(o.firstChild)),o=t.pendingProps.children,e!==null||Ke?Ht(e,t,o,r):t.child=fa(t,null,o,r),Qs(e,t),t.child;case 5:return e===null&&Ke&&((u=o=Ft)&&(o=BS(o,t.type,t.pendingProps,tr),o!==null?(t.stateNode=o,Kt=t,Ft=Qn(o.firstChild),tr=!1,u=!0):u=!1),u||pa(t)),Un(t),u=t.type,p=t.pendingProps,b=e!==null?e.memoizedProps:null,o=p.children,_c(u,p)?o=null:b!==null&&_c(u,b)&&(t.flags|=32),t.memoizedState!==null&&(u=uu(e,t,eS,null,null,r),po._currentValue=u),Qs(e,t),Ht(e,t,o,r),t.child;case 6:return e===null&&Ke&&((e=r=Ft)&&(r=NS(r,t.pendingProps,tr),r!==null?(t.stateNode=r,Kt=t,Ft=null,e=!0):e=!1),e||pa(t)),null;case 13:return Py(e,t,r);case 4:return Nn(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=fa(t,null,o,r):Ht(e,t,o,r),t.child;case 11:return Ay(e,t,t.type,t.pendingProps,r);case 7:return Ht(e,t,t.pendingProps,r),t.child;case 8:return Ht(e,t,t.pendingProps.children,r),t.child;case 12:return Ht(e,t,t.pendingProps.children,r),t.child;case 10:return o=t.pendingProps,Ur(t,t.type,o.value),Ht(e,t,o.children,r),t.child;case 9:return u=t.type._context,o=t.pendingProps.children,_a(t),u=Yt(u),o=o(u),t.flags|=1,Ht(e,t,o,r),t.child;case 14:return Ey(e,t,t.type,t.pendingProps,r);case 15:return Oy(e,t,t.type,t.pendingProps,r);case 19:return Ny(e,t,r);case 22:return My(e,t,r);case 24:return _a(t),o=Yt(It),e===null?(u=iu(),u===null&&(u=ut,p=su(),u.pooledCache=p,p.refCount++,p!==null&&(u.pooledCacheLanes|=r),u=p),t.memoizedState={parent:o,cache:u},Uu(t),Ur(t,It,u)):((e.lanes&r)!==0&&(ju(e,t),Ks(t,null,null,r),Zs()),u=e.memoizedState,p=t.memoizedState,u.parent!==o?(u={parent:o,cache:o},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Ur(t,It,o)):(o=p.cache,Ur(t,It,o),o!==u.cache&&Nu(t,[It],r,!0))),Ht(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}var Pu=Ne(null),wa=null,_r=null;function Ur(e,t,r){Le(Pu,t._currentValue),t._currentValue=r}function xr(e){e._currentValue=Pu.current,Ze(Pu)}function Bu(e,t,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===r)break;e=e.return}}function Nu(e,t,r,o){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var p=u.dependencies;if(p!==null){var b=u.child;p=p.firstContext;e:for(;p!==null;){var x=p;p=u;for(var C=0;C<t.length;C++)if(x.context===t[C]){p.lanes|=r,x=p.alternate,x!==null&&(x.lanes|=r),Bu(p.return,r,e),o||(b=null);break e}p=x.next}}else if(u.tag===18){if(b=u.return,b===null)throw Error(i(341));b.lanes|=r,p=b.alternate,p!==null&&(p.lanes|=r),Bu(b,r,e),b=null}else b=u.child;if(b!==null)b.return=u;else for(b=u;b!==null;){if(b===e){b=null;break}if(u=b.sibling,u!==null){u.return=b.return,b=u;break}b=b.return}u=b}}function Xs(e,t,r,o){e=null;for(var u=t,p=!1;u!==null;){if(!p){if((u.flags&524288)!==0)p=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var b=u.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var x=u.type;ln(u.pendingProps.value,b.value)||(e!==null?e.push(x):e=[x])}}else if(u===Vt.current){if(b=u.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(po):e=[po])}u=u.return}e!==null&&Nu(t,e,r,o),t.flags|=262144}function ki(e){for(e=e.firstContext;e!==null;){if(!ln(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _a(e){wa=e,_r=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Yt(e){return jy(wa,e)}function Ti(e,t){return wa===null&&_a(e),jy(e,t)}function jy(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},_r===null){if(e===null)throw Error(i(308));_r=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else _r=_r.next=t;return r}var jr=!1;function Uu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ju(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Fr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Hr(e,t,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(yt&2)!==0){var u=o.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),o.pending=t,t=si(e),_b(e,null,r),t}return ai(e,o,t,r),si(e)}function Ws(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194176)!==0)){var o=t.lanes;o&=e.pendingLanes,r|=o,t.lanes=r,Ae(e,r)}}function Fu(e,t){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var u=null,p=null;if(r=r.firstBaseUpdate,r!==null){do{var b={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};p===null?u=p=b:p=p.next=b,r=r.next}while(r!==null);p===null?u=p=t:p=p.next=t}else u=p=t;r={baseState:o.baseState,firstBaseUpdate:u,lastBaseUpdate:p,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var Hu=!1;function Zs(){if(Hu){var e=Za;if(e!==null)throw e}}function Ks(e,t,r,o){Hu=!1;var u=e.updateQueue;jr=!1;var p=u.firstBaseUpdate,b=u.lastBaseUpdate,x=u.shared.pending;if(x!==null){u.shared.pending=null;var C=x,z=C.next;C.next=null,b===null?p=z:b.next=z,b=C;var W=e.alternate;W!==null&&(W=W.updateQueue,x=W.lastBaseUpdate,x!==b&&(x===null?W.firstBaseUpdate=z:x.next=z,W.lastBaseUpdate=C))}if(p!==null){var te=u.baseState;b=0,W=z=C=null,x=p;do{var H=x.lane&-536870913,Y=H!==x.lane;if(Y?(We&H)===H:(o&H)===H){H!==0&&H===Wa&&(Hu=!0),W!==null&&(W=W.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var Ce=e,Ue=x;H=t;var kt=r;switch(Ue.tag){case 1:if(Ce=Ue.payload,typeof Ce=="function"){te=Ce.call(kt,te,H);break e}te=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Ue.payload,H=typeof Ce=="function"?Ce.call(kt,te,H):Ce,H==null)break e;te=de({},te,H);break e;case 2:jr=!0}}H=x.callback,H!==null&&(e.flags|=64,Y&&(e.flags|=8192),Y=u.callbacks,Y===null?u.callbacks=[H]:Y.push(H))}else Y={lane:H,tag:x.tag,payload:x.payload,callback:x.callback,next:null},W===null?(z=W=Y,C=te):W=W.next=Y,b|=H;if(x=x.next,x===null){if(x=u.shared.pending,x===null)break;Y=x,x=Y.next,Y.next=null,u.lastBaseUpdate=Y,u.shared.pending=null}}while(!0);W===null&&(C=te),u.baseState=C,u.firstBaseUpdate=z,u.lastBaseUpdate=W,p===null&&(u.shared.lanes=0),Qr|=b,e.lanes=b,e.memoizedState=te}}function Fy(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function Hy(e,t){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Fy(r[e],t)}function Js(e,t){try{var r=t.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var u=o.next;r=u;do{if((r.tag&e)===e){o=void 0;var p=r.create,b=r.inst;o=p(),b.destroy=o}r=r.next}while(r!==u)}}catch(x){it(t,t.return,x)}}function qr(e,t,r){try{var o=t.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var p=u.next;o=p;do{if((o.tag&e)===e){var b=o.inst,x=b.destroy;if(x!==void 0){b.destroy=void 0,u=t;var C=r;try{x()}catch(z){it(u,C,z)}}}o=o.next}while(o!==p)}}catch(z){it(t,t.return,z)}}function qy(e){var t=e.updateQueue;if(t!==null){var r=e.stateNode;try{Hy(t,r)}catch(o){it(e,e.return,o)}}}function Vy(e,t,r){r.props=va(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){it(e,t,o)}}function xa(e,t){try{var r=e.ref;if(r!==null){var o=e.stateNode;switch(e.tag){case 26:case 27:case 5:var u=o;break;default:u=o}typeof r=="function"?e.refCleanup=r(u):r.current=u}}catch(p){it(e,t,p)}}function un(e,t){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(u){it(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(u){it(e,t,u)}else r.current=null}function Gy(e){var t=e.type,r=e.memoizedProps,o=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(u){it(e,e.return,u)}}function Yy(e,t,r){try{var o=e.stateNode;LS(o,e.type,r,t),o[_e]=t}catch(u){it(e,e.return,u)}}function Qy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function qu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vu(e,t,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ui));else if(o!==4&&o!==27&&(e=e.child,e!==null))for(Vu(e,t,r),e=e.sibling;e!==null;)Vu(e,t,r),e=e.sibling}function Di(e,t,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(o!==4&&o!==27&&(e=e.child,e!==null))for(Di(e,t,r),e=e.sibling;e!==null;)Di(e,t,r),e=e.sibling}var Sr=!1,xt=!1,Gu=!1,Xy=typeof WeakSet=="function"?WeakSet:Set,Ut=null,Wy=!1;function lS(e,t){if(e=e.containerInfo,vc=Yi,e=hb(e),Ql(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var u=o.anchorOffset,p=o.focusNode;o=o.focusOffset;try{r.nodeType,p.nodeType}catch{r=null;break e}var b=0,x=-1,C=-1,z=0,W=0,te=e,H=null;t:for(;;){for(var Y;te!==r||u!==0&&te.nodeType!==3||(x=b+u),te!==p||o!==0&&te.nodeType!==3||(C=b+o),te.nodeType===3&&(b+=te.nodeValue.length),(Y=te.firstChild)!==null;)H=te,te=Y;for(;;){if(te===e)break t;if(H===r&&++z===u&&(x=b),H===p&&++W===o&&(C=b),(Y=te.nextSibling)!==null)break;te=H,H=te.parentNode}te=Y}r=x===-1||C===-1?null:{start:x,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(wc={focusedElem:e,selectionRange:r},Yi=!1,Ut=t;Ut!==null;)if(t=Ut,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ut=e;else for(;Ut!==null;){switch(t=Ut,p=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,r=t,u=p.memoizedProps,p=p.memoizedState,o=r.stateNode;try{var Ce=va(r.type,u,r.elementType===r.type);e=o.getSnapshotBeforeUpdate(Ce,p),o.__reactInternalSnapshotBeforeUpdate=e}catch(Ue){it(r,r.return,Ue)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,r=e.nodeType,r===9)kc(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":kc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,Ut=e;break}Ut=t.return}return Ce=Wy,Wy=!1,Ce}function Zy(e,t,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Tr(e,r),o&4&&Js(5,r);break;case 1:if(Tr(e,r),o&4)if(e=r.stateNode,t===null)try{e.componentDidMount()}catch(x){it(r,r.return,x)}else{var u=va(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(x){it(r,r.return,x)}}o&64&&qy(r),o&512&&xa(r,r.return);break;case 3:if(Tr(e,r),o&64&&(o=r.updateQueue,o!==null)){if(e=null,r.child!==null)switch(r.child.tag){case 27:case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}try{Hy(o,e)}catch(x){it(r,r.return,x)}}break;case 26:Tr(e,r),o&512&&xa(r,r.return);break;case 27:case 5:Tr(e,r),t===null&&o&4&&Gy(r),o&512&&xa(r,r.return);break;case 12:Tr(e,r);break;case 13:Tr(e,r),o&4&&$y(e,r);break;case 22:if(u=r.memoizedState!==null||Sr,!u){t=t!==null&&t.memoizedState!==null||xt;var p=Sr,b=xt;Sr=u,(xt=t)&&!b?Vr(e,r,(r.subtreeFlags&8772)!==0):Tr(e,r),Sr=p,xt=b}o&512&&(r.memoizedProps.mode==="manual"?xa(r,r.return):un(r,r.return));break;default:Tr(e,r)}}function Ky(e){var t=e.alternate;t!==null&&(e.alternate=null,Ky(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&gr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ot=null,cn=!1;function kr(e,t,r){for(r=r.child;r!==null;)Jy(e,t,r),r=r.sibling}function Jy(e,t,r){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(zt,r)}catch{}switch(r.tag){case 26:xt||un(r,t),kr(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:xt||un(r,t);var o=Ot,u=cn;for(Ot=r.stateNode,kr(e,t,r),r=r.stateNode,t=r.attributes;t.length;)r.removeAttributeNode(t[0]);gr(r),Ot=o,cn=u;break;case 5:xt||un(r,t);case 6:u=Ot;var p=cn;if(Ot=null,kr(e,t,r),Ot=u,cn=p,Ot!==null)if(cn)try{e=Ot,o=r.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)}catch(b){it(r,t,b)}else try{Ot.removeChild(r.stateNode)}catch(b){it(r,t,b)}break;case 18:Ot!==null&&(cn?(t=Ot,r=r.stateNode,t.nodeType===8?Sc(t.parentNode,r):t.nodeType===1&&Sc(t,r),bo(t)):Sc(Ot,r.stateNode));break;case 4:o=Ot,u=cn,Ot=r.stateNode.containerInfo,cn=!0,kr(e,t,r),Ot=o,cn=u;break;case 0:case 11:case 14:case 15:xt||qr(2,r,t),xt||qr(4,r,t),kr(e,t,r);break;case 1:xt||(un(r,t),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Vy(r,t,o)),kr(e,t,r);break;case 21:kr(e,t,r);break;case 22:xt||un(r,t),xt=(o=xt)||r.memoizedState!==null,kr(e,t,r),xt=o;break;default:kr(e,t,r)}}function $y(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{bo(e)}catch(r){it(t,t.return,r)}}function uS(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Xy),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Xy),t;default:throw Error(i(435,e.tag))}}function Yu(e,t){var r=uS(e);t.forEach(function(o){var u=xS.bind(null,e,o);r.has(o)||(r.add(o),o.then(u,u))})}function Cn(e,t){var r=t.deletions;if(r!==null)for(var o=0;o<r.length;o++){var u=r[o],p=e,b=t,x=b;e:for(;x!==null;){switch(x.tag){case 27:case 5:Ot=x.stateNode,cn=!1;break e;case 3:Ot=x.stateNode.containerInfo,cn=!0;break e;case 4:Ot=x.stateNode.containerInfo,cn=!0;break e}x=x.return}if(Ot===null)throw Error(i(160));Jy(p,b,u),Ot=null,cn=!1,p=u.alternate,p!==null&&(p.return=null),u.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)ev(t,e),t=t.sibling}var Yn=null;function ev(e,t){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Cn(t,e),An(e),o&4&&(qr(3,e,e.return),Js(3,e),qr(5,e,e.return));break;case 1:Cn(t,e),An(e),o&512&&(xt||r===null||un(r,r.return)),o&64&&Sr&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var u=Yn;if(Cn(t,e),An(e),o&512&&(xt||r===null||un(r,r.return)),o&4){var p=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){e:{o=e.type,r=e.memoizedProps,u=u.ownerDocument||u;t:switch(o){case"title":p=u.getElementsByTagName("title")[0],(!p||p[qe]||p[Te]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=u.createElement(o),u.head.insertBefore(p,u.querySelector("head > title"))),qt(p,o,r),p[Te]=e,mt(p),o=p;break e;case"link":var b=Gv("link","href",u).get(o+(r.href||""));if(b){for(var x=0;x<b.length;x++)if(p=b[x],p.getAttribute("href")===(r.href==null?null:r.href)&&p.getAttribute("rel")===(r.rel==null?null:r.rel)&&p.getAttribute("title")===(r.title==null?null:r.title)&&p.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){b.splice(x,1);break t}}p=u.createElement(o),qt(p,o,r),u.head.appendChild(p);break;case"meta":if(b=Gv("meta","content",u).get(o+(r.content||""))){for(x=0;x<b.length;x++)if(p=b[x],p.getAttribute("content")===(r.content==null?null:""+r.content)&&p.getAttribute("name")===(r.name==null?null:r.name)&&p.getAttribute("property")===(r.property==null?null:r.property)&&p.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&p.getAttribute("charset")===(r.charSet==null?null:r.charSet)){b.splice(x,1);break t}}p=u.createElement(o),qt(p,o,r),u.head.appendChild(p);break;default:throw Error(i(468,o))}p[Te]=e,mt(p),o=p}e.stateNode=o}else Yv(u,e.type,e.stateNode);else e.stateNode=Vv(u,o,e.memoizedProps);else p!==o?(p===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):p.count--,o===null?Yv(u,e.type,e.stateNode):Vv(u,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Yy(e,e.memoizedProps,r.memoizedProps)}break;case 27:if(o&4&&e.alternate===null){u=e.stateNode,p=e.memoizedProps;try{for(var C=u.firstChild;C;){var z=C.nextSibling,W=C.nodeName;C[qe]||W==="HEAD"||W==="BODY"||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&C.rel.toLowerCase()==="stylesheet"||u.removeChild(C),C=z}for(var te=e.type,H=u.attributes;H.length;)u.removeAttributeNode(H[0]);qt(u,te,p),u[Te]=e,u[_e]=p}catch(Ce){it(e,e.return,Ce)}}case 5:if(Cn(t,e),An(e),o&512&&(xt||r===null||un(r,r.return)),e.flags&32){u=e.stateNode;try{Ba(u,"")}catch(Ce){it(e,e.return,Ce)}}o&4&&e.stateNode!=null&&(u=e.memoizedProps,Yy(e,u,r!==null?r.memoizedProps:u)),o&1024&&(Gu=!0);break;case 6:if(Cn(t,e),An(e),o&4){if(e.stateNode===null)throw Error(i(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(Ce){it(e,e.return,Ce)}}break;case 3:if(qi=null,u=Yn,Yn=Fi(t.containerInfo),Cn(t,e),Yn=u,An(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{bo(t.containerInfo)}catch(Ce){it(e,e.return,Ce)}Gu&&(Gu=!1,tv(e));break;case 4:o=Yn,Yn=Fi(e.stateNode.containerInfo),Cn(t,e),An(e),Yn=o;break;case 12:Cn(t,e),An(e);break;case 13:Cn(t,e),An(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(tc=ee()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Yu(e,o)));break;case 22:if(o&512&&(xt||r===null||un(r,r.return)),C=e.memoizedState!==null,z=r!==null&&r.memoizedState!==null,W=Sr,te=xt,Sr=W||C,xt=te||z,Cn(t,e),xt=te,Sr=W,An(e),t=e.stateNode,t._current=e,t._visibility&=-3,t._visibility|=t._pendingVisibility&2,o&8192&&(t._visibility=C?t._visibility&-2:t._visibility|1,C&&(t=Sr||xt,r===null||z||t||es(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))e:for(r=null,t=e;;){if(t.tag===5||t.tag===26||t.tag===27){if(r===null){z=r=t;try{if(u=z.stateNode,C)p=u.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{b=z.stateNode,x=z.memoizedProps.style;var Y=x!=null&&x.hasOwnProperty("display")?x.display:null;b.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(Ce){it(z,z.return,Ce)}}}else if(t.tag===6){if(r===null){z=t;try{z.stateNode.nodeValue=C?"":z.memoizedProps}catch(Ce){it(z,z.return,Ce)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Yu(e,r))));break;case 19:Cn(t,e),An(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Yu(e,o)));break;case 21:break;default:Cn(t,e),An(e)}}function An(e){var t=e.flags;if(t&2){try{if(e.tag!==27){e:{for(var r=e.return;r!==null;){if(Qy(r)){var o=r;break e}r=r.return}throw Error(i(160))}switch(o.tag){case 27:var u=o.stateNode,p=qu(e);Di(e,p,u);break;case 5:var b=o.stateNode;o.flags&32&&(Ba(b,""),o.flags&=-33);var x=qu(e);Di(e,x,b);break;case 3:case 4:var C=o.stateNode.containerInfo,z=qu(e);Vu(e,z,C);break;default:throw Error(i(161))}}}catch(W){it(e,e.return,W)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function tv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;tv(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Tr(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Zy(e,t.alternate,t),t=t.sibling}function es(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:qr(4,t,t.return),es(t);break;case 1:un(t,t.return);var r=t.stateNode;typeof r.componentWillUnmount=="function"&&Vy(t,t.return,r),es(t);break;case 26:case 27:case 5:un(t,t.return),es(t);break;case 22:un(t,t.return),t.memoizedState===null&&es(t);break;default:es(t)}e=e.sibling}}function Vr(e,t,r){for(r=r&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var o=t.alternate,u=e,p=t,b=p.flags;switch(p.tag){case 0:case 11:case 15:Vr(u,p,r),Js(4,p);break;case 1:if(Vr(u,p,r),o=p,u=o.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(z){it(o,o.return,z)}if(o=p,u=o.updateQueue,u!==null){var x=o.stateNode;try{var C=u.shared.hiddenCallbacks;if(C!==null)for(u.shared.hiddenCallbacks=null,u=0;u<C.length;u++)Fy(C[u],x)}catch(z){it(o,o.return,z)}}r&&b&64&&qy(p),xa(p,p.return);break;case 26:case 27:case 5:Vr(u,p,r),r&&o===null&&b&4&&Gy(p),xa(p,p.return);break;case 12:Vr(u,p,r);break;case 13:Vr(u,p,r),r&&b&4&&$y(u,p);break;case 22:p.memoizedState===null&&Vr(u,p,r),xa(p,p.return);break;default:Vr(u,p,r)}t=t.sibling}}function Qu(e,t){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Hs(r))}function Xu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Hs(e))}function Gr(e,t,r,o){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)nv(e,t,r,o),t=t.sibling}function nv(e,t,r,o){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Gr(e,t,r,o),u&2048&&Js(9,t);break;case 3:Gr(e,t,r,o),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Hs(e)));break;case 12:if(u&2048){Gr(e,t,r,o),e=t.stateNode;try{var p=t.memoizedProps,b=p.id,x=p.onPostCommit;typeof x=="function"&&x(b,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){it(t,t.return,C)}}else Gr(e,t,r,o);break;case 23:break;case 22:p=t.stateNode,t.memoizedState!==null?p._visibility&4?Gr(e,t,r,o):$s(e,t):p._visibility&4?Gr(e,t,r,o):(p._visibility|=4,ts(e,t,r,o,(t.subtreeFlags&10256)!==0)),u&2048&&Qu(t.alternate,t);break;case 24:Gr(e,t,r,o),u&2048&&Xu(t.alternate,t);break;default:Gr(e,t,r,o)}}function ts(e,t,r,o,u){for(u=u&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var p=e,b=t,x=r,C=o,z=b.flags;switch(b.tag){case 0:case 11:case 15:ts(p,b,x,C,u),Js(8,b);break;case 23:break;case 22:var W=b.stateNode;b.memoizedState!==null?W._visibility&4?ts(p,b,x,C,u):$s(p,b):(W._visibility|=4,ts(p,b,x,C,u)),u&&z&2048&&Qu(b.alternate,b);break;case 24:ts(p,b,x,C,u),u&&z&2048&&Xu(b.alternate,b);break;default:ts(p,b,x,C,u)}t=t.sibling}}function $s(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var r=e,o=t,u=o.flags;switch(o.tag){case 22:$s(r,o),u&2048&&Qu(o.alternate,o);break;case 24:$s(r,o),u&2048&&Xu(o.alternate,o);break;default:$s(r,o)}t=t.sibling}}var eo=8192;function ns(e){if(e.subtreeFlags&eo)for(e=e.child;e!==null;)rv(e),e=e.sibling}function rv(e){switch(e.tag){case 26:ns(e),e.flags&eo&&e.memoizedState!==null&&KS(Yn,e.memoizedState,e.memoizedProps);break;case 5:ns(e);break;case 3:case 4:var t=Yn;Yn=Fi(e.stateNode.containerInfo),ns(e),Yn=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=eo,eo=16777216,ns(e),eo=t):ns(e));break;default:ns(e)}}function av(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function to(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var r=0;r<t.length;r++){var o=t[r];Ut=o,ov(o,e)}av(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)sv(e),e=e.sibling}function sv(e){switch(e.tag){case 0:case 11:case 15:to(e),e.flags&2048&&qr(9,e,e.return);break;case 3:to(e);break;case 12:to(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&4&&(e.return===null||e.return.tag!==13)?(t._visibility&=-5,Ci(e)):to(e);break;default:to(e)}}function Ci(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var r=0;r<t.length;r++){var o=t[r];Ut=o,ov(o,e)}av(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:qr(8,t,t.return),Ci(t);break;case 22:r=t.stateNode,r._visibility&4&&(r._visibility&=-5,Ci(t));break;default:Ci(t)}e=e.sibling}}function ov(e,t){for(;Ut!==null;){var r=Ut;switch(r.tag){case 0:case 11:case 15:qr(8,r,t);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Hs(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Ut=o;else e:for(r=e;Ut!==null;){o=Ut;var u=o.sibling,p=o.return;if(Ky(o),o===r){Ut=null;break e}if(u!==null){u.return=p,Ut=u;break e}Ut=p}}}function cS(e,t,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(e,t,r,o){return new cS(e,t,r,o)}function Wu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Yr(e,t){var r=e.alternate;return r===null?(r=En(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&31457280,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function iv(e,t){e.flags&=31457282;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ai(e,t,r,o,u,p){var b=0;if(o=e,typeof e=="function")Wu(e)&&(b=1);else if(typeof e=="string")b=WS(e,r,ot.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case g:return Sa(r.children,u,p,t);case f:b=8,u|=24;break;case m:return e=En(12,r,t,u|2),e.elementType=m,e.lanes=p,e;case M:return e=En(13,r,t,u),e.elementType=M,e.lanes=p,e;case U:return e=En(19,r,t,u),e.elementType=U,e.lanes=p,e;case F:return lv(r,u,p,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case y:case _:b=10;break e;case v:b=9;break e;case A:b=11;break e;case E:b=14;break e;case j:b=16,o=null;break e}b=29,r=Error(i(130,e===null?"null":typeof e,"")),o=null}return t=En(b,r,t,u),t.elementType=e,t.type=o,t.lanes=p,t}function Sa(e,t,r,o){return e=En(7,e,o,t),e.lanes=r,e}function lv(e,t,r,o){e=En(22,e,o,t),e.elementType=F,e.lanes=r;var u={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var p=u._current;if(p===null)throw Error(i(456));if((u._pendingVisibility&2)===0){var b=Rr(p,2);b!==null&&(u._pendingVisibility|=2,Jt(b,p,2))}},attach:function(){var p=u._current;if(p===null)throw Error(i(456));if((u._pendingVisibility&2)!==0){var b=Rr(p,2);b!==null&&(u._pendingVisibility&=-3,Jt(b,p,2))}}};return e.stateNode=u,e}function Zu(e,t,r){return e=En(6,e,null,t),e.lanes=r,e}function Ku(e,t,r){return t=En(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Dr(e){e.flags|=4}function uv(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Qv(t)){if(t=Dn.current,t!==null&&((We&4194176)===We?nr!==null:(We&62914560)!==We&&(We&536870912)===0||t!==nr))throw Us=nu,Db;e.flags|=8192}}function Ei(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?O():536870912,e.lanes|=t,as|=t)}function no(e,t){if(!Ke)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function bt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(t)for(var u=e.child;u!==null;)r|=u.lanes|u.childLanes,o|=u.subtreeFlags&31457280,o|=u.flags&31457280,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)r|=u.lanes|u.childLanes,o|=u.subtreeFlags,o|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=o,e.childLanes=r,t}function dS(e,t,r){var o=t.pendingProps;switch(eu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(t),null;case 1:return bt(t),null;case 3:return r=t.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),t.memoizedState.cache!==o&&(t.flags|=2048),xr(It),on(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Is(t)?Dr(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Gn!==null&&(sc(Gn),Gn=null))),bt(t),null;case 26:return r=t.memoizedState,e===null?(Dr(t),r!==null?(bt(t),uv(t,r)):(bt(t),t.flags&=-16777217)):r?r!==e.memoizedState?(Dr(t),bt(t),uv(t,r)):(bt(t),t.flags&=-16777217):(e.memoizedProps!==o&&Dr(t),bt(t),t.flags&=-16777217),null;case 27:Zn(t),r=Lt.current;var u=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==o&&Dr(t);else{if(!o){if(t.stateNode===null)throw Error(i(166));return bt(t),null}e=ot.current,Is(t)?kb(t):(e=Uv(u,o,r),t.stateNode=e,Dr(t))}return bt(t),null;case 5:if(Zn(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==o&&Dr(t);else{if(!o){if(t.stateNode===null)throw Error(i(166));return bt(t),null}if(e=ot.current,Is(t))kb(t);else{switch(u=ji(Lt.current),e){case 1:e=u.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=u.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=u.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=u.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?u.createElement("select",{is:o.is}):u.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?u.createElement(r,{is:o.is}):u.createElement(r)}}e[Te]=t,e[_e]=o;e:for(u=t.child;u!==null;){if(u.tag===5||u.tag===6)e.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}t.stateNode=e;e:switch(qt(e,r,o),r){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Dr(t)}}return bt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==o&&Dr(t);else{if(typeof o!="string"&&t.stateNode===null)throw Error(i(166));if(e=Lt.current,Is(t)){if(e=t.stateNode,r=t.memoizedProps,o=null,u=Kt,u!==null)switch(u.tag){case 27:case 5:o=u.memoizedProps}e[Te]=t,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||zv(e.nodeValue,r)),e||pa(t)}else e=ji(e).createTextNode(o),e[Te]=t,t.stateNode=e}return bt(t),null;case 13:if(o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Is(t),o!==null&&o.dehydrated!==null){if(e===null){if(!u)throw Error(i(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));u[Te]=t}else Ps(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;bt(t),u=!1}else Gn!==null&&(sc(Gn),Gn=null),u=!0;if(!u)return t.flags&256?(yr(t),t):(yr(t),null)}if(yr(t),(t.flags&128)!==0)return t.lanes=r,t;if(r=o!==null,e=e!==null&&e.memoizedState!==null,r){o=t.child,u=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(u=o.alternate.memoizedState.cachePool.pool);var p=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==u&&(o.flags|=2048)}return r!==e&&r&&(t.child.flags|=8192),Ei(t,t.updateQueue),bt(t),null;case 4:return on(),e===null&&mc(t.stateNode.containerInfo),bt(t),null;case 10:return xr(t.type),bt(t),null;case 19:if(Ze(Rt),u=t.memoizedState,u===null)return bt(t),null;if(o=(t.flags&128)!==0,p=u.rendering,p===null)if(o)no(u,!1);else{if(St!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(p=hi(e),p!==null){for(t.flags|=128,no(u,!1),e=p.updateQueue,t.updateQueue=e,Ei(t,e),t.subtreeFlags=0,e=r,r=t.child;r!==null;)iv(r,e),r=r.sibling;return Le(Rt,Rt.current&1|2),t.child}e=e.sibling}u.tail!==null&&ee()>Oi&&(t.flags|=128,o=!0,no(u,!1),t.lanes=4194304)}else{if(!o)if(e=hi(p),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Ei(t,e),no(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Ke)return bt(t),null}else 2*ee()-u.renderingStartTime>Oi&&r!==536870912&&(t.flags|=128,o=!0,no(u,!1),t.lanes=4194304);u.isBackwards?(p.sibling=t.child,t.child=p):(e=u.last,e!==null?e.sibling=p:t.child=p,u.last=p)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=ee(),t.sibling=null,e=Rt.current,Le(Rt,o?e&1|2:e&1),t):(bt(t),null);case 22:case 23:return yr(t),au(),o=t.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(t.flags|=8192):o&&(t.flags|=8192),o?(r&536870912)!==0&&(t.flags&128)===0&&(bt(t),t.subtreeFlags&6&&(t.flags|=8192)):bt(t),r=t.updateQueue,r!==null&&Ei(t,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),o!==r&&(t.flags|=2048),e!==null&&Ze(ga),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),xr(It),bt(t),null;case 25:return null}throw Error(i(156,t.tag))}function hS(e,t){switch(eu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xr(It),on(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Zn(t),null;case 13:if(yr(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Ps()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ze(Rt),null;case 4:return on(),null;case 10:return xr(t.type),null;case 22:case 23:return yr(t),au(),e!==null&&Ze(ga),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return xr(It),null;case 25:return null;default:return null}}function cv(e,t){switch(eu(t),t.tag){case 3:xr(It),on();break;case 26:case 27:case 5:Zn(t);break;case 4:on();break;case 13:yr(t);break;case 19:Ze(Rt);break;case 10:xr(t.type);break;case 22:case 23:yr(t),au(),e!==null&&Ze(ga);break;case 24:xr(It)}}var pS={getCacheForType:function(e){var t=Yt(It),r=t.data.get(e);return r===void 0&&(r=e(),t.data.set(e,r)),r}},fS=typeof WeakMap=="function"?WeakMap:Map,yt=0,ut=null,Ge=null,We=0,ct=0,dn=null,Cr=!1,rs=!1,Ju=!1,Ar=0,St=0,Qr=0,ka=0,$u=0,On=0,as=0,ro=null,ar=null,ec=!1,tc=0,Oi=1/0,Mi=null,Xr=null,Li=!1,Ta=null,ao=0,nc=0,rc=null,so=0,ac=null;function hn(){if((yt&2)!==0&&We!==0)return We&-We;if(Q.T!==null){var e=Wa;return e!==0?e:hc()}return xe()}function dv(){On===0&&(On=(We&536870912)===0||Ke?Qo():536870912);var e=Dn.current;return e!==null&&(e.flags|=32),On}function Jt(e,t,r){(e===ut&&ct===2||e.cancelPendingCommit!==null)&&(ss(e,0),Er(e,We,On,!1)),q(e,r),((yt&2)===0||e!==ut)&&(e===ut&&((yt&2)===0&&(ka|=r),St===4&&Er(e,We,On,!1)),sr(e))}function hv(e,t,r){if((yt&6)!==0)throw Error(i(327));var o=!r&&(t&60)===0&&(t&e.expiredLanes)===0||Jn(e,t),u=o?bS(e,t):lc(e,t,!0),p=o;do{if(u===0){rs&&!o&&Er(e,t,0,!1);break}else if(u===6)Er(e,t,0,!Cr);else{if(r=e.current.alternate,p&&!gS(r)){u=lc(e,t,!1),p=!1;continue}if(u===2){if(p=t,e.errorRecoveryDisabledLanes&p)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){t=b;e:{var x=e;u=ro;var C=x.current.memoizedState.isDehydrated;if(C&&(ss(x,b).flags|=256),b=lc(x,b,!1),b!==2){if(Ju&&!C){x.errorRecoveryDisabledLanes|=p,ka|=p,u=4;break e}p=ar,ar=u,p!==null&&sc(p)}u=b}if(p=!1,u!==2)continue}}if(u===1){ss(e,0),Er(e,t,0,!0);break}e:{switch(o=e,u){case 0:case 1:throw Error(i(345));case 4:if((t&4194176)===t){Er(o,t,On,!Cr);break e}break;case 2:ar=null;break;case 3:case 5:break;default:throw Error(i(329))}if(o.finishedWork=r,o.finishedLanes=t,(t&62914560)===t&&(p=tc+300-ee(),10<p)){if(Er(o,t,On,!Cr),fr(o,0)!==0)break e;o.timeoutHandle=Pv(pv.bind(null,o,r,ar,Mi,ec,t,On,ka,as,Cr,2,-0,0),p);break e}pv(o,r,ar,Mi,ec,t,On,ka,as,Cr,0,-0,0)}}break}while(!0);sr(e)}function sc(e){ar===null?ar=e:ar.push.apply(ar,e)}function pv(e,t,r,o,u,p,b,x,C,z,W,te,H){var Y=t.subtreeFlags;if((Y&8192||(Y&16785408)===16785408)&&(ho={stylesheets:null,count:0,unsuspend:ZS},rv(t),t=JS(),t!==null)){e.cancelPendingCommit=t(wv.bind(null,e,r,o,u,b,x,C,1,te,H)),Er(e,p,b,!z);return}wv(e,r,o,u,b,x,C,W,te,H)}function gS(e){for(var t=e;;){var r=t.tag;if((r===0||r===11||r===15)&&t.flags&16384&&(r=t.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var u=r[o],p=u.getSnapshot;u=u.value;try{if(!ln(p(),u))return!1}catch{return!1}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Er(e,t,r,o){t&=~$u,t&=~ka,e.suspendedLanes|=t,e.pingedLanes&=~t,o&&(e.warmLanes|=t),o=e.expirationTimes;for(var u=t;0<u;){var p=31-gt(u),b=1<<p;o[p]=-1,u&=~b}r!==0&&ye(e,r,t)}function zi(){return(yt&6)===0?(oo(0),!1):!0}function oc(){if(Ge!==null){if(ct===0)var e=Ge.return;else e=Ge,_r=wa=null,hu(e),Qa=null,js=0,e=Ge;for(;e!==null;)cv(e.alternate,e),e=e.return;Ge=null}}function ss(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,RS(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),oc(),ut=e,Ge=r=Yr(e.current,null),We=t,ct=0,dn=null,Cr=!1,rs=Jn(e,t),Ju=!1,as=On=$u=ka=Qr=St=0,ar=ro=null,ec=!1,(t&8)!==0&&(t|=t&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=t;0<o;){var u=31-gt(o),p=1<<u;t|=e[u],o&=~p}return Ar=t,ri(),r}function fv(e,t){He=null,Q.H=rr,t===Ns?(t=Eb(),ct=3):t===Db?(t=Eb(),ct=4):ct=t===Cy?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,dn=t,Ge===null&&(St=1,Si(e,Sn(t,e.current)))}function gv(){var e=Q.H;return Q.H=rr,e===null?rr:e}function mv(){var e=Q.A;return Q.A=pS,e}function ic(){St=4,Cr||(We&4194176)!==We&&Dn.current!==null||(rs=!0),(Qr&134217727)===0&&(ka&134217727)===0||ut===null||Er(ut,We,On,!1)}function lc(e,t,r){var o=yt;yt|=2;var u=gv(),p=mv();(ut!==e||We!==t)&&(Mi=null,ss(e,t)),t=!1;var b=St;e:do try{if(ct!==0&&Ge!==null){var x=Ge,C=dn;switch(ct){case 8:oc(),b=6;break e;case 3:case 2:case 6:Dn.current===null&&(t=!0);var z=ct;if(ct=0,dn=null,os(e,x,C,z),r&&rs){b=0;break e}break;default:z=ct,ct=0,dn=null,os(e,x,C,z)}}mS(),b=St;break}catch(W){fv(e,W)}while(!0);return t&&e.shellSuspendCounter++,_r=wa=null,yt=o,Q.H=u,Q.A=p,Ge===null&&(ut=null,We=0,ri()),b}function mS(){for(;Ge!==null;)bv(Ge)}function bS(e,t){var r=yt;yt|=2;var o=gv(),u=mv();ut!==e||We!==t?(Mi=null,Oi=ee()+500,ss(e,t)):rs=Jn(e,t);e:do try{if(ct!==0&&Ge!==null){t=Ge;var p=dn;t:switch(ct){case 1:ct=0,dn=null,os(e,t,p,1);break;case 2:if(Cb(p)){ct=0,dn=null,yv(t);break}t=function(){ct===2&&ut===e&&(ct=7),sr(e)},p.then(t,t);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:Cb(p)?(ct=0,dn=null,yv(t)):(ct=0,dn=null,os(e,t,p,7));break;case 5:var b=null;switch(Ge.tag){case 26:b=Ge.memoizedState;case 5:case 27:var x=Ge;if(!b||Qv(b)){ct=0,dn=null;var C=x.sibling;if(C!==null)Ge=C;else{var z=x.return;z!==null?(Ge=z,Ri(z)):Ge=null}break t}}ct=0,dn=null,os(e,t,p,5);break;case 6:ct=0,dn=null,os(e,t,p,6);break;case 8:oc(),St=6;break e;default:throw Error(i(462))}}yS();break}catch(W){fv(e,W)}while(!0);return _r=wa=null,Q.H=o,Q.A=u,yt=r,Ge!==null?0:(ut=null,We=0,ri(),St)}function yS(){for(;Ge!==null&&!re();)bv(Ge)}function bv(e){var t=Uy(e.alternate,e,Ar);e.memoizedProps=e.pendingProps,t===null?Ri(e):Ge=t}function yv(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=zy(r,t,t.pendingProps,t.type,void 0,We);break;case 11:t=zy(r,t,t.pendingProps,t.type.render,t.ref,We);break;case 5:hu(t);default:cv(r,t),t=Ge=iv(t,Ar),t=Uy(r,t,Ar)}e.memoizedProps=e.pendingProps,t===null?Ri(e):Ge=t}function os(e,t,r,o){_r=wa=null,hu(t),Qa=null,js=0;var u=t.return;try{if(oS(e,u,t,r,We)){St=1,Si(e,Sn(r,e.current)),Ge=null;return}}catch(p){if(u!==null)throw Ge=u,p;St=1,Si(e,Sn(r,e.current)),Ge=null;return}t.flags&32768?(Ke||o===1?e=!0:rs||(We&536870912)!==0?e=!1:(Cr=e=!0,(o===2||o===3||o===6)&&(o=Dn.current,o!==null&&o.tag===13&&(o.flags|=16384))),vv(t,e)):Ri(t)}function Ri(e){var t=e;do{if((t.flags&32768)!==0){vv(t,Cr);return}e=t.return;var r=dS(t.alternate,t,Ar);if(r!==null){Ge=r;return}if(t=t.sibling,t!==null){Ge=t;return}Ge=t=e}while(t!==null);St===0&&(St=5)}function vv(e,t){do{var r=hS(e.alternate,e);if(r!==null){r.flags&=32767,Ge=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&(e=e.sibling,e!==null)){Ge=e;return}Ge=e=r}while(e!==null);St=6,Ge=null}function wv(e,t,r,o,u,p,b,x,C,z){var W=Q.T,te=oe.p;try{oe.p=2,Q.T=null,vS(e,t,r,o,te,u,p,b,x,C,z)}finally{Q.T=W,oe.p=te}}function vS(e,t,r,o,u,p,b,x){do is();while(Ta!==null);if((yt&6)!==0)throw Error(i(327));var C=e.finishedWork;if(o=e.finishedLanes,C===null)return null;if(e.finishedWork=null,e.finishedLanes=0,C===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var z=C.lanes|C.childLanes;if(z|=Kl,ie(e,o,z,p,b,x),e===ut&&(Ge=ut=null,We=0),(C.subtreeFlags&10256)===0&&(C.flags&10256)===0||Li||(Li=!0,nc=z,rc=r,SS(X,function(){return is(),null})),r=(C.flags&15990)!==0,(C.subtreeFlags&15990)!==0||r?(r=Q.T,Q.T=null,p=oe.p,oe.p=2,b=yt,yt|=4,lS(e,C),ev(C,e),qx(wc,e.containerInfo),Yi=!!vc,wc=vc=null,e.current=C,Zy(e,C.alternate,C),K(),yt=b,oe.p=p,Q.T=r):e.current=C,Li?(Li=!1,Ta=e,ao=o):_v(e,z),z=e.pendingLanes,z===0&&(Xr=null),pr(C.stateNode),sr(e),t!==null)for(u=e.onRecoverableError,C=0;C<t.length;C++)z=t[C],u(z.value,{componentStack:z.stack});return(ao&3)!==0&&is(),z=e.pendingLanes,(o&4194218)!==0&&(z&42)!==0?e===ac?so++:(so=0,ac=e):so=0,oo(0),null}function _v(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Hs(t)))}function is(){if(Ta!==null){var e=Ta,t=nc;nc=0;var r=ze(ao),o=Q.T,u=oe.p;try{if(oe.p=32>r?32:r,Q.T=null,Ta===null)var p=!1;else{r=rc,rc=null;var b=Ta,x=ao;if(Ta=null,ao=0,(yt&6)!==0)throw Error(i(331));var C=yt;if(yt|=4,sv(b.current),nv(b,b.current,x,r),yt=C,oo(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(zt,b)}catch{}p=!0}return p}finally{oe.p=u,Q.T=o,_v(e,t)}}return!1}function xv(e,t,r){t=Sn(r,t),t=Du(e.stateNode,t,2),e=Hr(e,t,2),e!==null&&(q(e,2),sr(e))}function it(e,t,r){if(e.tag===3)xv(e,e,r);else for(;t!==null;){if(t.tag===3){xv(t,e,r);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Xr===null||!Xr.has(o))){e=Sn(r,e),r=Ty(2),o=Hr(t,r,2),o!==null&&(Dy(r,o,t,e),q(o,2),sr(o));break}}t=t.return}}function uc(e,t,r){var o=e.pingCache;if(o===null){o=e.pingCache=new fS;var u=new Set;o.set(t,u)}else u=o.get(t),u===void 0&&(u=new Set,o.set(t,u));u.has(r)||(Ju=!0,u.add(r),e=wS.bind(null,e,t,r),t.then(e,e))}function wS(e,t,r){var o=e.pingCache;o!==null&&o.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,ut===e&&(We&r)===r&&(St===4||St===3&&(We&62914560)===We&&300>ee()-tc?(yt&2)===0&&ss(e,0):$u|=r,as===We&&(as=0)),sr(e)}function Sv(e,t){t===0&&(t=O()),e=Rr(e,t),e!==null&&(q(e,t),sr(e))}function _S(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Sv(e,r)}function xS(e,t){var r=0;switch(e.tag){case 13:var o=e.stateNode,u=e.memoizedState;u!==null&&(r=u.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(t),Sv(e,r)}function SS(e,t){return Fn(e,t)}var Ii=null,ls=null,cc=!1,Pi=!1,dc=!1,Da=0;function sr(e){e!==ls&&e.next===null&&(ls===null?Ii=ls=e:ls=ls.next=e),Pi=!0,cc||(cc=!0,TS(kS))}function oo(e,t){if(!dc&&Pi){dc=!0;do for(var r=!1,o=Ii;o!==null;){if(e!==0){var u=o.pendingLanes;if(u===0)var p=0;else{var b=o.suspendedLanes,x=o.pingedLanes;p=(1<<31-gt(42|e)+1)-1,p&=u&~(b&~x),p=p&201326677?p&201326677|1:p?p|2:0}p!==0&&(r=!0,Dv(o,p))}else p=We,p=fr(o,o===ut?p:0),(p&3)===0||Jn(o,p)||(r=!0,Dv(o,p));o=o.next}while(r);dc=!1}}function kS(){Pi=cc=!1;var e=0;Da!==0&&(zS()&&(e=Da),Da=0);for(var t=ee(),r=null,o=Ii;o!==null;){var u=o.next,p=kv(o,t);p===0?(o.next=null,r===null?Ii=u:r.next=u,u===null&&(ls=r)):(r=o,(e!==0||(p&3)!==0)&&(Pi=!0)),o=u}oo(e)}function kv(e,t){for(var r=e.suspendedLanes,o=e.pingedLanes,u=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var b=31-gt(p),x=1<<b,C=u[b];C===-1?((x&r)===0||(x&o)!==0)&&(u[b]=Ml(x,t)):C<=t&&(e.expiredLanes|=x),p&=~x}if(t=ut,r=We,r=fr(e,e===t?r:0),o=e.callbackNode,r===0||e===t&&ct===2||e.cancelPendingCommit!==null)return o!==null&&o!==null&&hr(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Jn(e,r)){if(t=r&-r,t===e.callbackPriority)return t;switch(o!==null&&hr(o),ze(r)){case 2:case 8:r=I;break;case 32:r=X;break;case 268435456:r=De;break;default:r=X}return o=Tv.bind(null,e),r=Fn(r,o),e.callbackPriority=t,e.callbackNode=r,t}return o!==null&&o!==null&&hr(o),e.callbackPriority=2,e.callbackNode=null,2}function Tv(e,t){var r=e.callbackNode;if(is()&&e.callbackNode!==r)return null;var o=We;return o=fr(e,e===ut?o:0),o===0?null:(hv(e,o,t),kv(e,ee()),e.callbackNode!=null&&e.callbackNode===r?Tv.bind(null,e):null)}function Dv(e,t){if(is())return null;hv(e,t,!0)}function TS(e){IS(function(){(yt&6)!==0?Fn(k,e):e()})}function hc(){return Da===0&&(Da=Qo()),Da}function Cv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Zo(""+e)}function Av(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}function DS(e,t,r,o,u){if(t==="submit"&&r&&r.stateNode===u){var p=Cv((u[_e]||null).action),b=o.submitter;b&&(t=(t=b[_e]||null)?Cv(t.formAction):b.getAttribute("formAction"),t!==null&&(p=t,b=null));var x=new ei("action","action",null,o,u);e.push({event:x,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Da!==0){var C=b?Av(u,b):new FormData(u);_u(r,{pending:!0,data:C,method:u.method,action:p},null,C)}}else typeof p=="function"&&(x.preventDefault(),C=b?Av(u,b):new FormData(u),_u(r,{pending:!0,data:C,method:u.method,action:p},p,C))},currentTarget:u}]})}}for(var pc=0;pc<wb.length;pc++){var fc=wb[pc],CS=fc.toLowerCase(),AS=fc[0].toUpperCase()+fc.slice(1);Vn(CS,"on"+AS)}Vn(gb,"onAnimationEnd"),Vn(mb,"onAnimationIteration"),Vn(bb,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(Gx,"onTransitionRun"),Vn(Yx,"onTransitionStart"),Vn(Qx,"onTransitionCancel"),Vn(yb,"onTransitionEnd"),Qe("onMouseEnter",["mouseout","mouseover"]),Qe("onMouseLeave",["mouseout","mouseover"]),Qe("onPointerEnter",["pointerout","pointerover"]),Qe("onPointerLeave",["pointerout","pointerover"]),vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ES=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(io));function Ev(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],u=o.event;o=o.listeners;e:{var p=void 0;if(t)for(var b=o.length-1;0<=b;b--){var x=o[b],C=x.instance,z=x.currentTarget;if(x=x.listener,C!==p&&u.isPropagationStopped())break e;p=x,u.currentTarget=z;try{p(u)}catch(W){xi(W)}u.currentTarget=null,p=C}else for(b=0;b<o.length;b++){if(x=o[b],C=x.instance,z=x.currentTarget,x=x.listener,C!==p&&u.isPropagationStopped())break e;p=x,u.currentTarget=z;try{p(u)}catch(W){xi(W)}u.currentTarget=null,p=C}}}}function Xe(e,t){var r=t[tt];r===void 0&&(r=t[tt]=new Set);var o=e+"__bubble";r.has(o)||(Ov(t,e,2,!1),r.add(o))}function gc(e,t,r){var o=0;t&&(o|=4),Ov(r,e,o,t)}var Bi="_reactListening"+Math.random().toString(36).slice(2);function mc(e){if(!e[Bi]){e[Bi]=!0,Ra.forEach(function(r){r!=="selectionchange"&&(ES.has(r)||gc(r,!1,e),gc(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bi]||(t[Bi]=!0,gc("selectionchange",!1,t))}}function Ov(e,t,r,o){switch($v(t)){case 2:var u=tk;break;case 8:u=nk;break;default:u=Ec}r=u.bind(null,t,r,e),u=void 0,!Nl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),o?u!==void 0?e.addEventListener(t,r,{capture:!0,passive:u}):e.addEventListener(t,r,!0):u!==void 0?e.addEventListener(t,r,{passive:u}):e.addEventListener(t,r,!1)}function bc(e,t,r,o,u){var p=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var b=o.tag;if(b===3||b===4){var x=o.stateNode.containerInfo;if(x===u||x.nodeType===8&&x.parentNode===u)break;if(b===4)for(b=o.return;b!==null;){var C=b.tag;if((C===3||C===4)&&(C=b.stateNode.containerInfo,C===u||C.nodeType===8&&C.parentNode===u))return;b=b.return}for(;x!==null;){if(b=Zt(x),b===null)return;if(C=b.tag,C===5||C===6||C===26||C===27){o=p=b;continue e}x=x.parentNode}}o=o.return}G1(function(){var z=p,W=Pl(r),te=[];e:{var H=vb.get(e);if(H!==void 0){var Y=ei,Ce=e;switch(e){case"keypress":if(Jo(r)===0)break e;case"keydown":case"keyup":Y=xx;break;case"focusin":Ce="focus",Y=Hl;break;case"focusout":Ce="blur",Y=Hl;break;case"beforeblur":case"afterblur":Y=Hl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=X1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=cx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Tx;break;case gb:case mb:case bb:Y=px;break;case yb:Y=Cx;break;case"scroll":case"scrollend":Y=lx;break;case"wheel":Y=Ex;break;case"copy":case"cut":case"paste":Y=gx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Z1;break;case"toggle":case"beforetoggle":Y=Mx}var Ue=(t&4)!==0,kt=!Ue&&(e==="scroll"||e==="scrollend"),P=Ue?H!==null?H+"Capture":null:H;Ue=[];for(var L=z,N;L!==null;){var $=L;if(N=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||N===null||P===null||($=Ds(L,P),$!=null&&Ue.push(lo(L,$,N))),kt)break;L=L.return}0<Ue.length&&(H=new Y(H,Ce,null,r,W),te.push({event:H,listeners:Ue}))}}if((t&7)===0){e:{if(H=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",H&&r!==Il&&(Ce=r.relatedTarget||r.fromElement)&&(Zt(Ce)||Ce[Pe]))break e;if((Y||H)&&(H=W.window===W?W:(H=W.ownerDocument)?H.defaultView||H.parentWindow:window,Y?(Ce=r.relatedTarget||r.toElement,Y=z,Ce=Ce?Zt(Ce):null,Ce!==null&&(kt=ge(Ce),Ue=Ce.tag,Ce!==kt||Ue!==5&&Ue!==27&&Ue!==6)&&(Ce=null)):(Y=null,Ce=z),Y!==Ce)){if(Ue=X1,$="onMouseLeave",P="onMouseEnter",L="mouse",(e==="pointerout"||e==="pointerover")&&(Ue=Z1,$="onPointerLeave",P="onPointerEnter",L="pointer"),kt=Y==null?H:Bt(Y),N=Ce==null?H:Bt(Ce),H=new Ue($,L+"leave",Y,r,W),H.target=kt,H.relatedTarget=N,$=null,Zt(W)===z&&(Ue=new Ue(P,L+"enter",Ce,r,W),Ue.target=N,Ue.relatedTarget=kt,$=Ue),kt=$,Y&&Ce)t:{for(Ue=Y,P=Ce,L=0,N=Ue;N;N=us(N))L++;for(N=0,$=P;$;$=us($))N++;for(;0<L-N;)Ue=us(Ue),L--;for(;0<N-L;)P=us(P),N--;for(;L--;){if(Ue===P||P!==null&&Ue===P.alternate)break t;Ue=us(Ue),P=us(P)}Ue=null}else Ue=null;Y!==null&&Mv(te,H,Y,Ue,!1),Ce!==null&&kt!==null&&Mv(te,kt,Ce,Ue,!0)}}e:{if(H=z?Bt(z):window,Y=H.nodeName&&H.nodeName.toLowerCase(),Y==="select"||Y==="input"&&H.type==="file")var Se=ab;else if(nb(H))if(sb)Se=Fx;else{Se=Ux;var Ve=Nx}else Y=H.nodeName,!Y||Y.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?z&&Rl(z.elementType)&&(Se=ab):Se=jx;if(Se&&(Se=Se(e,z))){rb(te,Se,r,W);break e}Ve&&Ve(e,H,z),e==="focusout"&&z&&H.type==="number"&&z.memoizedProps.value!=null&&zl(H,"number",H.value)}switch(Ve=z?Bt(z):window,e){case"focusin":(nb(Ve)||Ve.contentEditable==="true")&&(Fa=Ve,Xl=z,Rs=null);break;case"focusout":Rs=Xl=Fa=null;break;case"mousedown":Wl=!0;break;case"contextmenu":case"mouseup":case"dragend":Wl=!1,pb(te,r,W);break;case"selectionchange":if(Vx)break;case"keydown":case"keyup":pb(te,r,W)}var Ee;if(Vl)e:{switch(e){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else ja?eb(e,r)&&(Re="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Re="onCompositionStart");Re&&(K1&&r.locale!=="ko"&&(ja||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&ja&&(Ee=Y1()):(zr=W,Ul="value"in zr?zr.value:zr.textContent,ja=!0)),Ve=Ni(z,Re),0<Ve.length&&(Re=new W1(Re,e,null,r,W),te.push({event:Re,listeners:Ve}),Ee?Re.data=Ee:(Ee=tb(r),Ee!==null&&(Re.data=Ee)))),(Ee=zx?Rx(e,r):Ix(e,r))&&(Re=Ni(z,"onBeforeInput"),0<Re.length&&(Ve=new W1("onBeforeInput","beforeinput",null,r,W),te.push({event:Ve,listeners:Re}),Ve.data=Ee)),DS(te,e,z,r,W)}Ev(te,t)})}function lo(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ni(e,t){for(var r=t+"Capture",o=[];e!==null;){var u=e,p=u.stateNode;u=u.tag,u!==5&&u!==26&&u!==27||p===null||(u=Ds(e,r),u!=null&&o.unshift(lo(e,u,p)),u=Ds(e,t),u!=null&&o.push(lo(e,u,p))),e=e.return}return o}function us(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Mv(e,t,r,o,u){for(var p=t._reactName,b=[];r!==null&&r!==o;){var x=r,C=x.alternate,z=x.stateNode;if(x=x.tag,C!==null&&C===o)break;x!==5&&x!==26&&x!==27||z===null||(C=z,u?(z=Ds(r,p),z!=null&&b.unshift(lo(r,z,C))):u||(z=Ds(r,p),z!=null&&b.push(lo(r,z,C)))),r=r.return}b.length!==0&&e.push({event:t,listeners:b})}var OS=/\r\n?/g,MS=/\u0000|\uFFFD/g;function Lv(e){return(typeof e=="string"?e:""+e).replace(OS,`
`).replace(MS,"")}function zv(e,t){return t=Lv(t),Lv(e)===t}function Ui(){}function st(e,t,r,o,u,p){switch(r){case"children":typeof o=="string"?t==="body"||t==="textarea"&&o===""||Ba(e,o):(typeof o=="number"||typeof o=="bigint")&&t!=="body"&&Ba(e,""+o);break;case"className":ia(e,"class",o);break;case"tabIndex":ia(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":ia(e,r,o);break;case"style":q1(e,o,p);break;case"data":if(t!=="object"){ia(e,"data",o);break}case"src":case"href":if(o===""&&(t!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Zo(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(r==="formAction"?(t!=="input"&&st(e,t,"name",u.name,u,null),st(e,t,"formEncType",u.formEncType,u,null),st(e,t,"formMethod",u.formMethod,u,null),st(e,t,"formTarget",u.formTarget,u,null)):(st(e,t,"encType",u.encType,u,null),st(e,t,"method",u.method,u,null),st(e,t,"target",u.target,u,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Zo(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Ui);break;case"onScroll":o!=null&&Xe("scroll",e);break;case"onScrollEnd":o!=null&&Xe("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(r=o.__html,r!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=Zo(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Xe("beforetoggle",e),Xe("toggle",e),Hn(e,"popover",o);break;case"xlinkActuate":qn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":qn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":qn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":qn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":qn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":qn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":qn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":qn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":qn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Hn(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=ox.get(r)||r,Hn(e,r,o))}}function yc(e,t,r,o,u,p){switch(r){case"style":q1(e,o,p);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(r=o.__html,r!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=r}}break;case"children":typeof o=="string"?Ba(e,o):(typeof o=="number"||typeof o=="bigint")&&Ba(e,""+o);break;case"onScroll":o!=null&&Xe("scroll",e);break;case"onScrollEnd":o!=null&&Xe("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$n.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(u=r.endsWith("Capture"),t=r.slice(2,u?r.length-7:void 0),p=e[_e]||null,p=p!=null?p[r]:null,typeof p=="function"&&e.removeEventListener(t,p,u),typeof o=="function")){typeof p!="function"&&p!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,o,u);break e}r in e?e[r]=o:o===!0?e.setAttribute(r,""):Hn(e,r,o)}}}function qt(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xe("error",e),Xe("load",e);var o=!1,u=!1,p;for(p in r)if(r.hasOwnProperty(p)){var b=r[p];if(b!=null)switch(p){case"src":o=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:st(e,t,p,b,r,null)}}u&&st(e,t,"srcSet",r.srcSet,r,null),o&&st(e,t,"src",r.src,r,null);return;case"input":Xe("invalid",e);var x=p=b=u=null,C=null,z=null;for(o in r)if(r.hasOwnProperty(o)){var W=r[o];if(W!=null)switch(o){case"name":u=W;break;case"type":b=W;break;case"checked":C=W;break;case"defaultChecked":z=W;break;case"value":p=W;break;case"defaultValue":x=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,t));break;default:st(e,t,o,W,r,null)}}U1(e,p,x,C,z,b,u,!1),Xo(e);return;case"select":Xe("invalid",e),o=b=p=null;for(u in r)if(r.hasOwnProperty(u)&&(x=r[u],x!=null))switch(u){case"value":p=x;break;case"defaultValue":b=x;break;case"multiple":o=x;default:st(e,t,u,x,r,null)}t=p,r=b,e.multiple=!!o,t!=null?Pa(e,!!o,t,!1):r!=null&&Pa(e,!!o,r,!0);return;case"textarea":Xe("invalid",e),p=u=o=null;for(b in r)if(r.hasOwnProperty(b)&&(x=r[b],x!=null))switch(b){case"value":o=x;break;case"defaultValue":u=x;break;case"children":p=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(i(91));break;default:st(e,t,b,x,r,null)}F1(e,o,u,p),Xo(e);return;case"option":for(C in r)if(r.hasOwnProperty(C)&&(o=r[C],o!=null))switch(C){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:st(e,t,C,o,r,null)}return;case"dialog":Xe("cancel",e),Xe("close",e);break;case"iframe":case"object":Xe("load",e);break;case"video":case"audio":for(o=0;o<io.length;o++)Xe(io[o],e);break;case"image":Xe("error",e),Xe("load",e);break;case"details":Xe("toggle",e);break;case"embed":case"source":case"link":Xe("error",e),Xe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(o=r[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:st(e,t,z,o,r,null)}return;default:if(Rl(t)){for(W in r)r.hasOwnProperty(W)&&(o=r[W],o!==void 0&&yc(e,t,W,o,r,void 0));return}}for(x in r)r.hasOwnProperty(x)&&(o=r[x],o!=null&&st(e,t,x,o,r,null))}function LS(e,t,r,o){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,p=null,b=null,x=null,C=null,z=null,W=null;for(Y in r){var te=r[Y];if(r.hasOwnProperty(Y)&&te!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":C=te;default:o.hasOwnProperty(Y)||st(e,t,Y,null,o,te)}}for(var H in o){var Y=o[H];if(te=r[H],o.hasOwnProperty(H)&&(Y!=null||te!=null))switch(H){case"type":p=Y;break;case"name":u=Y;break;case"checked":z=Y;break;case"defaultChecked":W=Y;break;case"value":b=Y;break;case"defaultValue":x=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,t));break;default:Y!==te&&st(e,t,H,Y,o,te)}}Ll(e,b,x,C,z,W,p,u);return;case"select":Y=b=x=H=null;for(p in r)if(C=r[p],r.hasOwnProperty(p)&&C!=null)switch(p){case"value":break;case"multiple":Y=C;default:o.hasOwnProperty(p)||st(e,t,p,null,o,C)}for(u in o)if(p=o[u],C=r[u],o.hasOwnProperty(u)&&(p!=null||C!=null))switch(u){case"value":H=p;break;case"defaultValue":x=p;break;case"multiple":b=p;default:p!==C&&st(e,t,u,p,o,C)}t=x,r=b,o=Y,H!=null?Pa(e,!!r,H,!1):!!o!=!!r&&(t!=null?Pa(e,!!r,t,!0):Pa(e,!!r,r?[]:"",!1));return;case"textarea":Y=H=null;for(x in r)if(u=r[x],r.hasOwnProperty(x)&&u!=null&&!o.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:st(e,t,x,null,o,u)}for(b in o)if(u=o[b],p=r[b],o.hasOwnProperty(b)&&(u!=null||p!=null))switch(b){case"value":H=u;break;case"defaultValue":Y=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(i(91));break;default:u!==p&&st(e,t,b,u,o,p)}j1(e,H,Y);return;case"option":for(var Ce in r)if(H=r[Ce],r.hasOwnProperty(Ce)&&H!=null&&!o.hasOwnProperty(Ce))switch(Ce){case"selected":e.selected=!1;break;default:st(e,t,Ce,null,o,H)}for(C in o)if(H=o[C],Y=r[C],o.hasOwnProperty(C)&&H!==Y&&(H!=null||Y!=null))switch(C){case"selected":e.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:st(e,t,C,H,o,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ue in r)H=r[Ue],r.hasOwnProperty(Ue)&&H!=null&&!o.hasOwnProperty(Ue)&&st(e,t,Ue,null,o,H);for(z in o)if(H=o[z],Y=r[z],o.hasOwnProperty(z)&&H!==Y&&(H!=null||Y!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,t));break;default:st(e,t,z,H,o,Y)}return;default:if(Rl(t)){for(var kt in r)H=r[kt],r.hasOwnProperty(kt)&&H!==void 0&&!o.hasOwnProperty(kt)&&yc(e,t,kt,void 0,o,H);for(W in o)H=o[W],Y=r[W],!o.hasOwnProperty(W)||H===Y||H===void 0&&Y===void 0||yc(e,t,W,H,o,Y);return}}for(var P in r)H=r[P],r.hasOwnProperty(P)&&H!=null&&!o.hasOwnProperty(P)&&st(e,t,P,null,o,H);for(te in o)H=o[te],Y=r[te],!o.hasOwnProperty(te)||H===Y||H==null&&Y==null||st(e,t,te,H,o,Y)}var vc=null,wc=null;function ji(e){return e.nodeType===9?e:e.ownerDocument}function Rv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Iv(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function _c(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xc=null;function zS(){var e=window.event;return e&&e.type==="popstate"?e===xc?!1:(xc=e,!0):(xc=null,!1)}var Pv=typeof setTimeout=="function"?setTimeout:void 0,RS=typeof clearTimeout=="function"?clearTimeout:void 0,Bv=typeof Promise=="function"?Promise:void 0,IS=typeof queueMicrotask=="function"?queueMicrotask:typeof Bv<"u"?function(e){return Bv.resolve(null).then(e).catch(PS)}:Pv;function PS(e){setTimeout(function(){throw e})}function Sc(e,t){var r=t,o=0;do{var u=r.nextSibling;if(e.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"){if(o===0){e.removeChild(u),bo(t);return}o--}else r!=="$"&&r!=="$?"&&r!=="$!"||o++;r=u}while(r);bo(t)}function kc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":kc(r),gr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function BS(e,t,r,o){for(;e.nodeType===1;){var u=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[qe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==u.rel||e.getAttribute("href")!==(u.href==null?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var p=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=Qn(e.nextSibling),e===null)break}return null}function NS(e,t,r){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Qn(e.nextSibling),e===null))return null;return e}function Qn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}function Nv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}function Uv(e,t,r){switch(t=ji(r),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}var Mn=new Map,jv=new Set;function Fi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var Or=oe.d;oe.d={f:US,r:jS,D:FS,C:HS,L:qS,m:VS,X:YS,S:GS,M:QS};function US(){var e=Or.f(),t=zi();return e||t}function jS(e){var t=bn(e);t!==null&&t.tag===5&&t.type==="form"?py(t):Or.r(e)}var cs=typeof document>"u"?null:document;function Fv(e,t,r){var o=cs;if(o&&typeof t=="string"&&t){var u=_n(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof r=="string"&&(u+='[crossorigin="'+r+'"]'),jv.has(u)||(jv.add(u),e={rel:e,crossOrigin:r,href:t},o.querySelector(u)===null&&(t=o.createElement("link"),qt(t,"link",e),mt(t),o.head.appendChild(t)))}}function FS(e){Or.D(e),Fv("dns-prefetch",e,null)}function HS(e,t){Or.C(e,t),Fv("preconnect",e,t)}function qS(e,t,r){Or.L(e,t,r);var o=cs;if(o&&e&&t){var u='link[rel="preload"][as="'+_n(t)+'"]';t==="image"&&r&&r.imageSrcSet?(u+='[imagesrcset="'+_n(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(u+='[imagesizes="'+_n(r.imageSizes)+'"]')):u+='[href="'+_n(e)+'"]';var p=u;switch(t){case"style":p=ds(e);break;case"script":p=hs(e)}Mn.has(p)||(e=de({rel:"preload",href:t==="image"&&r&&r.imageSrcSet?void 0:e,as:t},r),Mn.set(p,e),o.querySelector(u)!==null||t==="style"&&o.querySelector(uo(p))||t==="script"&&o.querySelector(co(p))||(t=o.createElement("link"),qt(t,"link",e),mt(t),o.head.appendChild(t)))}}function VS(e,t){Or.m(e,t);var r=cs;if(r&&e){var o=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+_n(o)+'"][href="'+_n(e)+'"]',p=u;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=hs(e)}if(!Mn.has(p)&&(e=de({rel:"modulepreload",href:e},t),Mn.set(p,e),r.querySelector(u)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(co(p)))return}o=r.createElement("link"),qt(o,"link",e),mt(o),r.head.appendChild(o)}}}function GS(e,t,r){Or.S(e,t,r);var o=cs;if(o&&e){var u=yn(o).hoistableStyles,p=ds(e);t=t||"default";var b=u.get(p);if(!b){var x={loading:0,preload:null};if(b=o.querySelector(uo(p)))x.loading=5;else{e=de({rel:"stylesheet",href:e,"data-precedence":t},r),(r=Mn.get(p))&&Tc(e,r);var C=b=o.createElement("link");mt(C),qt(C,"link",e),C._p=new Promise(function(z,W){C.onload=z,C.onerror=W}),C.addEventListener("load",function(){x.loading|=1}),C.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Hi(b,t,o)}b={type:"stylesheet",instance:b,count:1,state:x},u.set(p,b)}}}function YS(e,t){Or.X(e,t);var r=cs;if(r&&e){var o=yn(r).hoistableScripts,u=hs(e),p=o.get(u);p||(p=r.querySelector(co(u)),p||(e=de({src:e,async:!0},t),(t=Mn.get(u))&&Dc(e,t),p=r.createElement("script"),mt(p),qt(p,"link",e),r.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},o.set(u,p))}}function QS(e,t){Or.M(e,t);var r=cs;if(r&&e){var o=yn(r).hoistableScripts,u=hs(e),p=o.get(u);p||(p=r.querySelector(co(u)),p||(e=de({src:e,async:!0,type:"module"},t),(t=Mn.get(u))&&Dc(e,t),p=r.createElement("script"),mt(p),qt(p,"link",e),r.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},o.set(u,p))}}function Hv(e,t,r,o){var u=(u=Lt.current)?Fi(u):null;if(!u)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(t=ds(r.href),r=yn(u).hoistableStyles,o=r.get(t),o||(o={type:"style",instance:null,count:0,state:null},r.set(t,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=ds(r.href);var p=yn(u).hoistableStyles,b=p.get(e);if(b||(u=u.ownerDocument||u,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,b),(p=u.querySelector(uo(e)))&&!p._p&&(b.instance=p,b.state.loading=5),Mn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Mn.set(e,r),p||XS(u,e,r,b.state))),t&&o===null)throw Error(i(528,""));return b}if(t&&o!==null)throw Error(i(529,""));return null;case"script":return t=r.async,r=r.src,typeof r=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=hs(r),r=yn(u).hoistableScripts,o=r.get(t),o||(o={type:"script",instance:null,count:0,state:null},r.set(t,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function ds(e){return'href="'+_n(e)+'"'}function uo(e){return'link[rel="stylesheet"]['+e+"]"}function qv(e){return de({},e,{"data-precedence":e.precedence,precedence:null})}function XS(e,t,r,o){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?o.loading=1:(t=e.createElement("link"),o.preload=t,t.addEventListener("load",function(){return o.loading|=1}),t.addEventListener("error",function(){return o.loading|=2}),qt(t,"link",r),mt(t),e.head.appendChild(t))}function hs(e){return'[src="'+_n(e)+'"]'}function co(e){return"script[async]"+e}function Vv(e,t,r){if(t.count++,t.instance===null)switch(t.type){case"style":var o=e.querySelector('style[data-href~="'+_n(r.href)+'"]');if(o)return t.instance=o,mt(o),o;var u=de({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),mt(o),qt(o,"style",u),Hi(o,r.precedence,e),t.instance=o;case"stylesheet":u=ds(r.href);var p=e.querySelector(uo(u));if(p)return t.state.loading|=4,t.instance=p,mt(p),p;o=qv(r),(u=Mn.get(u))&&Tc(o,u),p=(e.ownerDocument||e).createElement("link"),mt(p);var b=p;return b._p=new Promise(function(x,C){b.onload=x,b.onerror=C}),qt(p,"link",o),t.state.loading|=4,Hi(p,r.precedence,e),t.instance=p;case"script":return p=hs(r.src),(u=e.querySelector(co(p)))?(t.instance=u,mt(u),u):(o=r,(u=Mn.get(p))&&(o=de({},r),Dc(o,u)),e=e.ownerDocument||e,u=e.createElement("script"),mt(u),qt(u,"link",o),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(o=t.instance,t.state.loading|=4,Hi(o,r.precedence,e));return t.instance}function Hi(e,t,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=o.length?o[o.length-1]:null,p=u,b=0;b<o.length;b++){var x=o[b];if(x.dataset.precedence===t)p=x;else if(p!==u)break}p?p.parentNode.insertBefore(e,p.nextSibling):(t=r.nodeType===9?r.head:r,t.insertBefore(e,t.firstChild))}function Tc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Dc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var qi=null;function Gv(e,t,r){if(qi===null){var o=new Map,u=qi=new Map;u.set(r,o)}else u=qi,o=u.get(r),o||(o=new Map,u.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),u=0;u<r.length;u++){var p=r[u];if(!(p[qe]||p[Te]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(t)||"";b=e+b;var x=o.get(b);x?x.push(p):o.set(b,[p])}}return o}function Yv(e,t,r){e=e.ownerDocument||e,e.head.insertBefore(r,t==="title"?e.querySelector("head > title"):null)}function WS(e,t,r){if(r===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Qv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ho=null;function ZS(){}function KS(e,t,r){if(ho===null)throw Error(i(475));var o=ho;if(t.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var u=ds(r.href),p=e.querySelector(uo(u));if(p){e=p._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=Vi.bind(o),e.then(o,o)),t.state.loading|=4,t.instance=p,mt(p);return}p=e.ownerDocument||e,r=qv(r),(u=Mn.get(u))&&Tc(r,u),p=p.createElement("link"),mt(p);var b=p;b._p=new Promise(function(x,C){b.onload=x,b.onerror=C}),qt(p,"link",r),t.instance=p}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(o.count++,t=Vi.bind(o),e.addEventListener("load",t),e.addEventListener("error",t))}}function JS(){if(ho===null)throw Error(i(475));var e=ho;return e.stylesheets&&e.count===0&&Cc(e,e.stylesheets),0<e.count?function(t){var r=setTimeout(function(){if(e.stylesheets&&Cc(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(r)}}:null}function Vi(){if(this.count--,this.count===0){if(this.stylesheets)Cc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Gi=null;function Cc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Gi=new Map,t.forEach($S,e),Gi=null,Vi.call(e))}function $S(e,t){if(!(t.state.loading&4)){var r=Gi.get(e);if(r)var o=r.get(null);else{r=new Map,Gi.set(e,r);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<u.length;p++){var b=u[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(r.set(b.dataset.precedence,b),o=b)}o&&r.set(null,o)}u=t.instance,b=u.getAttribute("data-precedence"),p=r.get(b)||o,p===o&&r.set(null,u),r.set(b,u),this.count++,o=Vi.bind(this),u.addEventListener("load",o),u.addEventListener("error",o),p?p.parentNode.insertBefore(u,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var po={$$typeof:_,Provider:null,Consumer:null,_currentValue:Ie,_currentValue2:Ie,_threadCount:0};function ek(e,t,r,o,u,p,b,x){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=B(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=B(0),this.hiddenUpdates=B(null),this.identifierPrefix=o,this.onUncaughtError=u,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function Xv(e,t,r,o,u,p,b,x,C,z,W,te){return e=new ek(e,t,r,b,x,C,z,te),t=1,p===!0&&(t|=24),p=En(3,null,null,t),e.current=p,p.stateNode=e,t=su(),t.refCount++,e.pooledCache=t,t.refCount++,p.memoizedState={element:o,isDehydrated:r,cache:t},Uu(p),e}function Wv(e){return e?(e=Va,e):Va}function Zv(e,t,r,o,u,p){u=Wv(u),o.context===null?o.context=u:o.pendingContext=u,o=Fr(t),o.payload={element:r},p=p===void 0?null:p,p!==null&&(o.callback=p),r=Hr(e,o,t),r!==null&&(Jt(r,e,t),Ws(r,e,t))}function Kv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ac(e,t){Kv(e,t),(e=e.alternate)&&Kv(e,t)}function Jv(e){if(e.tag===13){var t=Rr(e,67108864);t!==null&&Jt(t,e,67108864),Ac(e,67108864)}}var Yi=!0;function tk(e,t,r,o){var u=Q.T;Q.T=null;var p=oe.p;try{oe.p=2,Ec(e,t,r,o)}finally{oe.p=p,Q.T=u}}function nk(e,t,r,o){var u=Q.T;Q.T=null;var p=oe.p;try{oe.p=8,Ec(e,t,r,o)}finally{oe.p=p,Q.T=u}}function Ec(e,t,r,o){if(Yi){var u=Oc(o);if(u===null)bc(e,t,o,Qi,r),ew(e,o);else if(ak(u,e,t,r,o))o.stopPropagation();else if(ew(e,o),t&4&&-1<rk.indexOf(e)){for(;u!==null;){var p=bn(u);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=Kn(p.pendingLanes);if(b!==0){var x=p;for(x.pendingLanes|=2,x.entangledLanes|=2;b;){var C=1<<31-gt(b);x.entanglements[1]|=C,b&=~C}sr(p),(yt&6)===0&&(Oi=ee()+500,oo(0))}}break;case 13:x=Rr(p,2),x!==null&&Jt(x,p,2),zi(),Ac(p,2)}if(p=Oc(o),p===null&&bc(e,t,o,Qi,r),p===u)break;u=p}u!==null&&o.stopPropagation()}else bc(e,t,o,null,r)}}function Oc(e){return e=Pl(e),Mc(e)}var Qi=null;function Mc(e){if(Qi=null,e=Zt(e),e!==null){var t=ge(e);if(t===null)e=null;else{var r=t.tag;if(r===13){if(e=Me(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Qi=e,null}function $v(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(V()){case k:return 2;case I:return 8;case X:case ce:return 32;case De:return 268435456;default:return 32}default:return 32}}var Lc=!1,Wr=null,Zr=null,Kr=null,fo=new Map,go=new Map,Jr=[],rk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ew(e,t){switch(e){case"focusin":case"focusout":Wr=null;break;case"dragenter":case"dragleave":Zr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":fo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":go.delete(t.pointerId)}}function mo(e,t,r,o,u,p){return e===null||e.nativeEvent!==p?(e={blockedOn:t,domEventName:r,eventSystemFlags:o,nativeEvent:p,targetContainers:[u]},t!==null&&(t=bn(t),t!==null&&Jv(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function ak(e,t,r,o,u){switch(t){case"focusin":return Wr=mo(Wr,e,t,r,o,u),!0;case"dragenter":return Zr=mo(Zr,e,t,r,o,u),!0;case"mouseover":return Kr=mo(Kr,e,t,r,o,u),!0;case"pointerover":var p=u.pointerId;return fo.set(p,mo(fo.get(p)||null,e,t,r,o,u)),!0;case"gotpointercapture":return p=u.pointerId,go.set(p,mo(go.get(p)||null,e,t,r,o,u)),!0}return!1}function tw(e){var t=Zt(e.target);if(t!==null){var r=ge(t);if(r!==null){if(t=r.tag,t===13){if(t=Me(r),t!==null){e.blockedOn=t,Oe(e.priority,function(){if(r.tag===13){var o=hn(),u=Rr(r,o);u!==null&&Jt(u,r,o),Ac(r,o)}});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Oc(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Il=o,r.target.dispatchEvent(o),Il=null}else return t=bn(r),t!==null&&Jv(t),e.blockedOn=r,!1;t.shift()}return!0}function nw(e,t,r){Xi(e)&&r.delete(t)}function sk(){Lc=!1,Wr!==null&&Xi(Wr)&&(Wr=null),Zr!==null&&Xi(Zr)&&(Zr=null),Kr!==null&&Xi(Kr)&&(Kr=null),fo.forEach(nw),go.forEach(nw)}function Wi(e,t){e.blockedOn===t&&(e.blockedOn=null,Lc||(Lc=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,sk)))}var Zi=null;function rw(e){Zi!==e&&(Zi=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Zi===e&&(Zi=null);for(var t=0;t<e.length;t+=3){var r=e[t],o=e[t+1],u=e[t+2];if(typeof o!="function"){if(Mc(o||r)===null)continue;break}var p=bn(r);p!==null&&(e.splice(t,3),t-=3,_u(p,{pending:!0,data:u,method:r.method,action:o},o,u))}}))}function bo(e){function t(C){return Wi(C,e)}Wr!==null&&Wi(Wr,e),Zr!==null&&Wi(Zr,e),Kr!==null&&Wi(Kr,e),fo.forEach(t),go.forEach(t);for(var r=0;r<Jr.length;r++){var o=Jr[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Jr.length&&(r=Jr[0],r.blockedOn===null);)tw(r),r.blockedOn===null&&Jr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var u=r[o],p=r[o+1],b=u[_e]||null;if(typeof p=="function")b||rw(r);else if(b){var x=null;if(p&&p.hasAttribute("formAction")){if(u=p,b=p[_e]||null)x=b.formAction;else if(Mc(u)!==null)continue}else x=b.action;typeof x=="function"?r[o+1]=x:(r.splice(o,3),o-=3),rw(r)}}}function zc(e){this._internalRoot=e}Ki.prototype.render=zc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var r=t.current,o=hn();Zv(r,o,e,t,null,null)},Ki.prototype.unmount=zc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;e.tag===0&&is(),Zv(e.current,2,null,e,null,null),zi(),t[Pe]=null}};function Ki(e){this._internalRoot=e}Ki.prototype.unstable_scheduleHydration=function(e){if(e){var t=xe();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Jr.length&&t!==0&&t<Jr[r].priority;r++);Jr.splice(r,0,e),r===0&&tw(e)}};var aw=a.version;if(aw!=="19.0.0")throw Error(i(527,aw,"19.0.0"));oe.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=Z(t),e=e!==null?me(e):null,e=e===null?null:e.stateNode,e};var ok={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,findFiberByHostInstance:Zt,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ji=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ji.isDisabled&&Ji.supportsFiber)try{zt=Ji.inject(ok),vt=Ji}catch{}}return vo.createRoot=function(e,t){if(!l(e))throw Error(i(299));var r=!1,o="",u=_y,p=xy,b=Sy,x=null;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(p=t.onCaughtError),t.onRecoverableError!==void 0&&(b=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(x=t.unstable_transitionCallbacks)),t=Xv(e,1,!1,null,null,r,o,u,p,b,x,null),e[Pe]=t.current,mc(e.nodeType===8?e.parentNode:e),new zc(t)},vo.hydrateRoot=function(e,t,r){if(!l(e))throw Error(i(299));var o=!1,u="",p=_y,b=xy,x=Sy,C=null,z=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(b=r.onCaughtError),r.onRecoverableError!==void 0&&(x=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(C=r.unstable_transitionCallbacks),r.formState!==void 0&&(z=r.formState)),t=Xv(e,1,!0,t,r??null,o,u,p,b,x,C,z),t.context=Wv(null),r=t.current,o=hn(),u=Fr(o),u.callback=null,Hr(r,u,o),t.current.lanes=o,q(t,o),sr(t),e[Pe]=t.current,mc(e),new Ki(t)},vo.version="19.0.0",vo}var gw;function bk(){if(gw)return Pc.exports;gw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(a){console.error(a)}}return n(),Pc.exports=mk(),Pc.exports}var yk=bk(),wo={},mw;function vk(){if(mw)return wo;mw=1,Object.defineProperty(wo,"__esModule",{value:!0}),wo.parse=d,wo.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,a=/^[\u0021-\u003A\u003C-\u007E]*$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,c=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function d(v,_){const A=new c,M=v.length;if(M<2)return A;const U=(_==null?void 0:_.decode)||m;let E=0;do{const j=v.indexOf("=",E);if(j===-1)break;const F=v.indexOf(";",E),se=F===-1?M:F;if(j>se){E=v.lastIndexOf(";",j-1)+1;continue}const J=h(v,E,j),T=g(v,j,J),pe=v.slice(J,T);if(A[pe]===void 0){let ve=h(v,j+1,se),Q=g(v,se,ve);const de=U(v.slice(ve,Q));A[pe]=de}E=se+1}while(E<M);return A}function h(v,_,A){do{const M=v.charCodeAt(_);if(M!==32&&M!==9)return _}while(++_<A);return A}function g(v,_,A){for(;_>A;){const M=v.charCodeAt(--_);if(M!==32&&M!==9)return _+1}return A}function f(v,_,A){const M=(A==null?void 0:A.encode)||encodeURIComponent;if(!n.test(v))throw new TypeError(`argument name is invalid: ${v}`);const U=M(_);if(!a.test(U))throw new TypeError(`argument val is invalid: ${_}`);let E=v+"="+U;if(!A)return E;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);E+="; Max-Age="+A.maxAge}if(A.domain){if(!s.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);E+="; Domain="+A.domain}if(A.path){if(!i.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);E+="; Path="+A.path}if(A.expires){if(!y(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);E+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(E+="; HttpOnly"),A.secure&&(E+="; Secure"),A.partitioned&&(E+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"none":E+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return E}function m(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function y(v){return l.call(v)==="[object Date]"}return wo}vk();/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var B_=n=>{throw TypeError(n)},wk=(n,a,s)=>a.has(n)||B_("Cannot "+s),jc=(n,a,s)=>(wk(n,a,"read from private field"),s?s.call(n):a.get(n)),_k=(n,a,s)=>a.has(n)?B_("Cannot add the same private member more than once"):a instanceof WeakSet?a.add(n):a.set(n,s),bw="popstate";function xk(n={}){function a(l,c){let{pathname:d="/",search:h="",hash:g=""}=Mr(l.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Bo("",{pathname:d,search:h,hash:g},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function s(l,c){let d=l.document.querySelector("base"),h="";if(d&&d.getAttribute("href")){let g=l.location.href,f=g.indexOf("#");h=f===-1?g:g.slice(0,f)}return h+"#"+(typeof c=="string"?c:ra(c))}function i(l,c){Ct(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return kk(a,s,i,n)}function Ye(n,a){if(n===!1||n===null||typeof n>"u")throw new Error(a)}function Ct(n,a){if(!n){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function Sk(){return Math.random().toString(36).substring(2,10)}function yw(n,a){return{usr:n.state,key:n.key,idx:a}}function Bo(n,a,s=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof a=="string"?Mr(a):a,state:s,key:a&&a.key||i||Sk()}}function ra({pathname:n="/",search:a="",hash:s=""}){return a&&a!=="?"&&(n+=a.charAt(0)==="?"?a:"?"+a),s&&s!=="#"&&(n+=s.charAt(0)==="#"?s:"#"+s),n}function Mr(n){let a={};if(n){let s=n.indexOf("#");s>=0&&(a.hash=n.substring(s),n=n.substring(0,s));let i=n.indexOf("?");i>=0&&(a.search=n.substring(i),n=n.substring(0,i)),n&&(a.pathname=n)}return a}function kk(n,a,s,i={}){let{window:l=document.defaultView,v5Compat:c=!1}=i,d=l.history,h="POP",g=null,f=m();f==null&&(f=0,d.replaceState({...d.state,idx:f},""));function m(){return(d.state||{idx:null}).idx}function y(){h="POP";let U=m(),E=U==null?null:U-f;f=U,g&&g({action:h,location:M.location,delta:E})}function v(U,E){h="PUSH";let j=Bo(M.location,U,E);s&&s(j,U),f=m()+1;let F=yw(j,f),se=M.createHref(j);try{d.pushState(F,"",se)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;l.location.assign(se)}c&&g&&g({action:h,location:M.location,delta:1})}function _(U,E){h="REPLACE";let j=Bo(M.location,U,E);s&&s(j,U),f=m();let F=yw(j,f),se=M.createHref(j);d.replaceState(F,"",se),c&&g&&g({action:h,location:M.location,delta:0})}function A(U){return N_(U)}let M={get action(){return h},get location(){return n(l,d)},listen(U){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(bw,y),g=U,()=>{l.removeEventListener(bw,y),g=null}},createHref(U){return a(l,U)},createURL:A,encodeLocation(U){let E=A(U);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:v,replace:_,go(U){return d.go(U)}};return M}function N_(n,a=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Ye(s,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:ra(n);return i=i.replace(/ $/,"%20"),!a&&i.startsWith("//")&&(i=s+i),new URL(i,s)}var Ao,vw=class{constructor(n){if(_k(this,Ao,new Map),n)for(let[a,s]of n)this.set(a,s)}get(n){if(jc(this,Ao).has(n))return jc(this,Ao).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,a){jc(this,Ao).set(n,a)}};Ao=new WeakMap;var Tk=new Set(["lazy","caseSensitive","path","id","index","children"]);function Dk(n){return Tk.has(n)}var Ck=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function Ak(n){return Ck.has(n)}function Ek(n){return n.index===!0}function cl(n,a,s=[],i={}){return n.map((l,c)=>{let d=[...s,String(c)],h=typeof l.id=="string"?l.id:d.join("-");if(Ye(l.index!==!0||!l.children,"Cannot specify children on an index route"),Ye(!i[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),Ek(l)){let g={...l,...a(l),id:h};return i[h]=g,g}else{let g={...l,...a(l),id:h,children:void 0};return i[h]=g,l.children&&(g.children=cl(l.children,a,d,i)),g}})}function na(n,a,s="/"){return sl(n,a,s,!1)}function sl(n,a,s,i){let l=typeof a=="string"?Mr(a):a,c=Pn(l.pathname||"/",s);if(c==null)return null;let d=U_(n);Mk(d);let h=null;for(let g=0;h==null&&g<d.length;++g){let f=Hk(c);h=jk(d[g],f,i)}return h}function Ok(n,a){let{route:s,pathname:i,params:l}=n;return{id:s.id,pathname:i,params:l,data:a[s.id],handle:s.handle}}function U_(n,a=[],s=[],i=""){let l=(c,d,h)=>{let g={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};g.relativePath.startsWith("/")&&(Ye(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length));let f=ur([i,g.relativePath]),m=s.concat(g);c.children&&c.children.length>0&&(Ye(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),U_(c.children,a,m,f)),!(c.path==null&&!c.index)&&a.push({path:f,score:Nk(f,c.index),routesMeta:m})};return n.forEach((c,d)=>{var h;if(c.path===""||!((h=c.path)!=null&&h.includes("?")))l(c,d);else for(let g of j_(c.path))l(c,d,g)}),a}function j_(n){let a=n.split("/");if(a.length===0)return[];let[s,...i]=a,l=s.endsWith("?"),c=s.replace(/\?$/,"");if(i.length===0)return l?[c,""]:[c];let d=j_(i.join("/")),h=[];return h.push(...d.map(g=>g===""?c:[c,g].join("/"))),l&&h.push(...d),h.map(g=>n.startsWith("/")&&g===""?"/":g)}function Mk(n){n.sort((a,s)=>a.score!==s.score?s.score-a.score:Uk(a.routesMeta.map(i=>i.childrenIndex),s.routesMeta.map(i=>i.childrenIndex)))}var Lk=/^:[\w-]+$/,zk=3,Rk=2,Ik=1,Pk=10,Bk=-2,ww=n=>n==="*";function Nk(n,a){let s=n.split("/"),i=s.length;return s.some(ww)&&(i+=Bk),a&&(i+=Rk),s.filter(l=>!ww(l)).reduce((l,c)=>l+(Lk.test(c)?zk:c===""?Ik:Pk),i)}function Uk(n,a){return n.length===a.length&&n.slice(0,-1).every((i,l)=>i===a[l])?n[n.length-1]-a[a.length-1]:0}function jk(n,a,s=!1){let{routesMeta:i}=n,l={},c="/",d=[];for(let h=0;h<i.length;++h){let g=i[h],f=h===i.length-1,m=c==="/"?a:a.slice(c.length)||"/",y=dl({path:g.relativePath,caseSensitive:g.caseSensitive,end:f},m),v=g.route;if(!y&&f&&s&&!i[i.length-1].route.index&&(y=dl({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},m)),!y)return null;Object.assign(l,y.params),d.push({params:l,pathname:ur([c,y.pathname]),pathnameBase:Gk(ur([c,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(c=ur([c,y.pathnameBase]))}return d}function dl(n,a){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[s,i]=Fk(n.path,n.caseSensitive,n.end),l=a.match(s);if(!l)return null;let c=l[0],d=c.replace(/(.)\/+$/,"$1"),h=l.slice(1);return{params:i.reduce((f,{paramName:m,isOptional:y},v)=>{if(m==="*"){let A=h[v]||"";d=c.slice(0,c.length-A.length).replace(/(.)\/+$/,"$1")}const _=h[v];return y&&!_?f[m]=void 0:f[m]=(_||"").replace(/%2F/g,"/"),f},{}),pathname:c,pathnameBase:d,pattern:n}}function Fk(n,a=!1,s=!0){Ct(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],l="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,h,g)=>(i.push({paramName:h,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),l+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?l+="\\/*$":n!==""&&n!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,a?void 0:"i"),i]}function Hk(n){try{return n.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Ct(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),n}}function Pn(n,a){if(a==="/")return n;if(!n.toLowerCase().startsWith(a.toLowerCase()))return null;let s=a.endsWith("/")?a.length-1:a.length,i=n.charAt(s);return i&&i!=="/"?null:n.slice(s)||"/"}function qk(n,a="/"){let{pathname:s,search:i="",hash:l=""}=typeof n=="string"?Mr(n):n;return{pathname:s?s.startsWith("/")?s:Vk(s,a):a,search:Yk(i),hash:Qk(l)}}function Vk(n,a){let s=a.replace(/\/+$/,"").split("/");return n.split("/").forEach(l=>{l===".."?s.length>1&&s.pop():l!=="."&&s.push(l)}),s.length>1?s.join("/"):"/"}function Fc(n,a,s,i){return`Cannot include a '${n}' character in a manually specified \`to.${a}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function F_(n){return n.filter((a,s)=>s===0||a.route.path&&a.route.path.length>0)}function _d(n){let a=F_(n);return a.map((s,i)=>i===a.length-1?s.pathname:s.pathnameBase)}function xd(n,a,s,i=!1){let l;typeof n=="string"?l=Mr(n):(l={...n},Ye(!l.pathname||!l.pathname.includes("?"),Fc("?","pathname","search",l)),Ye(!l.pathname||!l.pathname.includes("#"),Fc("#","pathname","hash",l)),Ye(!l.search||!l.search.includes("#"),Fc("#","search","hash",l)));let c=n===""||l.pathname==="",d=c?"/":l.pathname,h;if(d==null)h=s;else{let y=a.length-1;if(!i&&d.startsWith("..")){let v=d.split("/");for(;v[0]==="..";)v.shift(),y-=1;l.pathname=v.join("/")}h=y>=0?a[y]:"/"}let g=qk(l,h),f=d&&d!=="/"&&d.endsWith("/"),m=(c||d===".")&&s.endsWith("/");return!g.pathname.endsWith("/")&&(f||m)&&(g.pathname+="/"),g}var ur=n=>n.join("/").replace(/\/\/+/g,"/"),Gk=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Yk=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Qk=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,hl=class{constructor(n,a,s,i=!1){this.status=n,this.statusText=a||"",this.internal=i,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function No(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var H_=["POST","PUT","PATCH","DELETE"],Xk=new Set(H_),Wk=["GET",...H_],Zk=new Set(Wk),Kk=new Set([301,302,303,307,308]),Jk=new Set([307,308]),Hc={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},$k={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},_o={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Sd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eT=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),q_="remix-router-transitions",V_=Symbol("ResetLoaderData");function tT(n){const a=n.window?n.window:typeof window<"u"?window:void 0,s=typeof a<"u"&&typeof a.document<"u"&&typeof a.document.createElement<"u";Ye(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=n.hydrationRouteProperties||[],l=n.mapRouteProperties||eT,c={},d=cl(n.routes,l,void 0,c),h,g=n.basename||"/",f=n.dataStrategy||oT,m={unstable_middleware:!1,...n.future},y=null,v=new Set,_=null,A=null,M=null,U=n.hydrationData!=null,E=na(d,n.history.location,g),j=!1,F=null,se;if(E==null&&!n.patchRoutesOnNavigation){let O=Ln(404,{pathname:n.history.location.pathname}),{matches:B,route:q}=Lw(d);se=!0,E=B,F={[q.id]:O}}else if(E&&!n.hydrationData&&fr(E,d,n.history.location.pathname).active&&(E=null),E)if(E.some(O=>O.route.lazy))se=!1;else if(!E.some(O=>O.route.loader))se=!0;else{let O=n.hydrationData?n.hydrationData.loaderData:null,B=n.hydrationData?n.hydrationData.errors:null;if(B){let q=E.findIndex(ie=>B[ie.route.id]!==void 0);se=E.slice(0,q+1).every(ie=>!sd(ie.route,O,B))}else se=E.every(q=>!sd(q.route,O,B))}else{se=!1,E=[];let O=fr(null,d,n.history.location.pathname);O.active&&O.matches&&(j=!0,E=O.matches)}let J,T={historyAction:n.history.action,location:n.history.location,matches:E,initialized:se,navigation:Hc,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||F,fetchers:new Map,blockers:new Map},pe="POP",ve=!1,Q,de=!1,fe=new Map,be=null,he=!1,ne=!1,ue=new Set,G=new Map,ae=0,ge=-1,Me=new Map,w=new Set,Z=new Map,me=new Map,S=new Set,oe=new Map,Ie,we=null;function pt(){if(y=n.history.listen(({action:O,location:B,delta:q})=>{if(Ie){Ie(),Ie=void 0;return}Ct(oe.size===0||q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ie=en({currentLocation:T.location,nextLocation:B,historyAction:O});if(ie&&q!=null){let ye=new Promise(Ae=>{Ie=Ae});n.history.go(q*-1),gt(ie,{state:"blocked",location:B,proceed(){gt(ie,{state:"proceeding",proceed:void 0,reset:void 0,location:B}),ye.then(()=>n.history.go(q))},reset(){let Ae=new Map(T.blockers);Ae.set(ie,_o),Le({blockers:Ae})}});return}return Vt(O,B)}),s){bT(a,fe);let O=()=>yT(a,fe);a.addEventListener("pagehide",O),be=()=>a.removeEventListener("pagehide",O)}return T.initialized||Vt("POP",T.location,{initialHydration:!0}),J}function Ne(){y&&y(),be&&be(),v.clear(),Q&&Q.abort(),T.fetchers.forEach((O,B)=>ce(B)),T.blockers.forEach((O,B)=>ft(B))}function Ze(O){return v.add(O),()=>v.delete(O)}function Le(O,B={}){T={...T,...O};let q=[],ie=[];T.fetchers.forEach((ye,Ae)=>{ye.state==="idle"&&(S.has(Ae)?q.push(Ae):ie.push(Ae))}),S.forEach(ye=>{!T.fetchers.has(ye)&&!G.has(ye)&&q.push(ye)}),[...v].forEach(ye=>ye(T,{deletedFetchers:q,viewTransitionOpts:B.viewTransitionOpts,flushSync:B.flushSync===!0})),q.forEach(ye=>ce(ye)),ie.forEach(ye=>T.fetchers.delete(ye))}function ot(O,B,{flushSync:q}={}){var ke,Te;let ie=T.actionData!=null&&T.navigation.formMethod!=null&&gn(T.navigation.formMethod)&&T.navigation.state==="loading"&&((ke=O.state)==null?void 0:ke._isRedirect)!==!0,ye;B.actionData?Object.keys(B.actionData).length>0?ye=B.actionData:ye=null:ie?ye=T.actionData:ye=null;let Ae=B.loaderData?Ow(T.loaderData,B.loaderData,B.matches||[],B.errors):T.loaderData,ze=T.blockers;ze.size>0&&(ze=new Map(ze),ze.forEach((_e,Pe)=>ze.set(Pe,_o)));let xe=ve===!0||T.navigation.formMethod!=null&&gn(T.navigation.formMethod)&&((Te=O.state)==null?void 0:Te._isRedirect)!==!0;h&&(d=h,h=void 0),he||pe==="POP"||(pe==="PUSH"?n.history.push(O,O.state):pe==="REPLACE"&&n.history.replace(O,O.state));let Oe;if(pe==="POP"){let _e=fe.get(T.location.pathname);_e&&_e.has(O.pathname)?Oe={currentLocation:T.location,nextLocation:O}:fe.has(O.pathname)&&(Oe={currentLocation:O,nextLocation:T.location})}else if(de){let _e=fe.get(T.location.pathname);_e?_e.add(O.pathname):(_e=new Set([O.pathname]),fe.set(T.location.pathname,_e)),Oe={currentLocation:T.location,nextLocation:O}}Le({...B,actionData:ye,loaderData:Ae,historyAction:pe,location:O,initialized:!0,navigation:Hc,revalidation:"idle",restoreScrollPosition:Kn(O,B.matches||T.matches),preventScrollReset:xe,blockers:ze},{viewTransitionOpts:Oe,flushSync:q===!0}),pe="POP",ve=!1,de=!1,he=!1,ne=!1,we==null||we.resolve(),we=null}async function sn(O,B){if(typeof O=="number"){n.history.go(O);return}let q=ad(T.location,T.matches,g,O,B==null?void 0:B.fromRouteId,B==null?void 0:B.relative),{path:ie,submission:ye,error:Ae}=_w(!1,q,B),ze=T.location,xe=Bo(T.location,ie,B&&B.state);xe={...xe,...n.history.encodeLocation(xe)};let Oe=B&&B.replace!=null?B.replace:void 0,ke="PUSH";Oe===!0?ke="REPLACE":Oe===!1||ye!=null&&gn(ye.formMethod)&&ye.formAction===T.location.pathname+T.location.search&&(ke="REPLACE");let Te=B&&"preventScrollReset"in B?B.preventScrollReset===!0:void 0,_e=(B&&B.flushSync)===!0,Pe=en({currentLocation:ze,nextLocation:xe,historyAction:ke});if(Pe){gt(Pe,{state:"blocked",location:xe,proceed(){gt(Pe,{state:"proceeding",proceed:void 0,reset:void 0,location:xe}),sn(O,B)},reset(){let tt=new Map(T.blockers);tt.set(Pe,_o),Le({blockers:tt})}});return}await Vt(ke,xe,{submission:ye,pendingError:Ae,preventScrollReset:Te,replace:B&&B.replace,enableViewTransition:B&&B.viewTransition,flushSync:_e})}function Lt(){we||(we=vT()),V(),Le({revalidation:"loading"});let O=we.promise;return T.navigation.state==="submitting"?O:T.navigation.state==="idle"?(Vt(T.historyAction,T.location,{startUninterruptedRevalidation:!0}),O):(Vt(pe||T.historyAction,T.navigation.location,{overrideNavigation:T.navigation,enableViewTransition:de===!0}),O)}async function Vt(O,B,q){Q&&Q.abort(),Q=null,pe=O,he=(q&&q.startUninterruptedRevalidation)===!0,za(T.location,T.matches),ve=(q&&q.preventScrollReset)===!0,de=(q&&q.enableViewTransition)===!0;let ie=h||d,ye=q&&q.overrideNavigation,Ae=q!=null&&q.initialHydration&&T.matches&&T.matches.length>0&&!j?T.matches:na(ie,B,g),ze=(q&&q.flushSync)===!0;if(Ae&&T.initialized&&!ne&&hT(T.location,B)&&!(q&&q.submission&&gn(q.submission.formMethod))){ot(B,{matches:Ae},{flushSync:ze});return}let xe=fr(Ae,ie,B.pathname);if(xe.active&&xe.matches&&(Ae=xe.matches),!Ae){let{error:Pt,notFoundMatches:Gt,route:qe}=Ts(B.pathname);ot(B,{matches:Gt,loaderData:{},errors:{[qe.id]:Pt}},{flushSync:ze});return}Q=new AbortController;let Oe=bs(n.history,B,Q.signal,q&&q.submission),ke=new vw(n.unstable_getContext?await n.unstable_getContext():void 0),Te;if(q&&q.pendingError)Te=[Ca(Ae).route.id,{type:"error",error:q.pendingError}];else if(q&&q.submission&&gn(q.submission.formMethod)){let Pt=await Nn(Oe,B,q.submission,Ae,ke,xe.active,q&&q.initialHydration===!0,{replace:q.replace,flushSync:ze});if(Pt.shortCircuited)return;if(Pt.pendingActionResult){let[Gt,qe]=Pt.pendingActionResult;if(fn(qe)&&No(qe.error)&&qe.error.status===404){Q=null,ot(B,{matches:Pt.matches,loaderData:{},errors:{[Gt]:qe.error}});return}}Ae=Pt.matches||Ae,Te=Pt.pendingActionResult,ye=qc(B,q.submission),ze=!1,xe.active=!1,Oe=bs(n.history,Oe.url,Oe.signal)}let{shortCircuited:_e,matches:Pe,loaderData:tt,errors:Tt}=await on(Oe,B,Ae,ke,xe.active,ye,q&&q.submission,q&&q.fetcherSubmission,q&&q.replace,q&&q.initialHydration===!0,ze,Te);_e||(Q=null,ot(B,{matches:Pe||Ae,...Mw(Te),loaderData:tt,errors:Tt}))}async function Nn(O,B,q,ie,ye,Ae,ze,xe={}){V();let Oe=gT(B,q);if(Le({navigation:Oe},{flushSync:xe.flushSync===!0}),Ae){let _e=await Jn(ie,B.pathname,O.signal);if(_e.type==="aborted")return{shortCircuited:!0};if(_e.type==="error"){let Pe=Ca(_e.partialMatches).route.id;return{matches:_e.partialMatches,pendingActionResult:[Pe,{type:"error",error:_e.error}]}}else if(_e.matches)ie=_e.matches;else{let{notFoundMatches:Pe,error:tt,route:Tt}=Ts(B.pathname);return{matches:Pe,pendingActionResult:[Tt.id,{type:"error",error:tt}]}}}let ke,Te=Eo(ie,B);if(!Te.route.action&&!Te.route.lazy)ke={type:"error",error:Ln(405,{method:O.method,pathname:B.pathname,routeId:Te.route.id})};else{let _e=ys(l,c,O,ie,Te,ze?[]:i,ye),Pe=await K(O,_e,ye,null);if(ke=Pe[Te.route.id],!ke){for(let tt of ie)if(Pe[tt.route.id]){ke=Pe[tt.route.id];break}}if(O.signal.aborted)return{shortCircuited:!0}}if(Aa(ke)){let _e;return xe&&xe.replace!=null?_e=xe.replace:_e=Cw(ke.response.headers.get("Location"),new URL(O.url),g)===T.location.pathname+T.location.search,await re(O,ke,!0,{submission:q,replace:_e}),{shortCircuited:!0}}if(fn(ke)){let _e=Ca(ie,Te.route.id);return(xe&&xe.replace)!==!0&&(pe="PUSH"),{matches:ie,pendingActionResult:[_e.route.id,ke,Te.route.id]}}return{matches:ie,pendingActionResult:[Te.route.id,ke]}}async function on(O,B,q,ie,ye,Ae,ze,xe,Oe,ke,Te,_e){let Pe=Ae||qc(B,ze),tt=ze||xe||Rw(Pe),Tt=!he&&!ke;if(ye){if(Tt){let wt=Un(_e);Le({navigation:Pe,...wt!==void 0?{actionData:wt}:{}},{flushSync:Te})}let Qe=await Jn(q,B.pathname,O.signal);if(Qe.type==="aborted")return{shortCircuited:!0};if(Qe.type==="error"){let wt=Ca(Qe.partialMatches).route.id;return{matches:Qe.partialMatches,loaderData:{},errors:{[wt]:Qe.error}}}else if(Qe.matches)q=Qe.matches;else{let{error:wt,notFoundMatches:er,route:oa}=Ts(B.pathname);return{matches:er,loaderData:{},errors:{[oa.id]:wt}}}}let Pt=h||d,{dsMatches:Gt,revalidatingFetchers:qe}=xw(O,ie,l,c,n.history,T,q,tt,B,ke?[]:i,ke===!0,ne,ue,S,Z,w,Pt,g,n.patchRoutesOnNavigation!=null,_e);if(ge=++ae,!n.dataStrategy&&!Gt.some(Qe=>Qe.shouldLoad)&&qe.length===0){let Qe=zt();return ot(B,{matches:q,loaderData:{},errors:_e&&fn(_e[1])?{[_e[0]]:_e[1].error}:null,...Mw(_e),...Qe?{fetchers:new Map(T.fetchers)}:{}},{flushSync:Te}),{shortCircuited:!0}}if(Tt){let Qe={};if(!ye){Qe.navigation=Pe;let wt=Un(_e);wt!==void 0&&(Qe.actionData=wt)}qe.length>0&&(Qe.fetchers=Zn(qe)),Le(Qe,{flushSync:Te})}qe.forEach(Qe=>{et(Qe.key),Qe.controller&&G.set(Qe.key,Qe.controller)});let gr=()=>qe.forEach(Qe=>et(Qe.key));Q&&Q.signal.addEventListener("abort",gr);let{loaderResults:Zt,fetcherResults:bn}=await ee(Gt,qe,O,ie);if(O.signal.aborted)return{shortCircuited:!0};Q&&Q.signal.removeEventListener("abort",gr),qe.forEach(Qe=>G.delete(Qe.key));let Bt=$i(Zt);if(Bt)return await re(O,Bt.result,!0,{replace:Oe}),{shortCircuited:!0};if(Bt=$i(bn),Bt)return w.add(Bt.key),await re(O,Bt.result,!0,{replace:Oe}),{shortCircuited:!0};let{loaderData:yn,errors:mt}=Ew(T,q,Zt,_e,qe,bn);ke&&T.errors&&(mt={...T.errors,...mt});let Ra=zt(),$n=vt(ge),vn=Ra||$n||qe.length>0;return{matches:q,loaderData:yn,errors:mt,...vn?{fetchers:new Map(T.fetchers)}:{}}}function Un(O){if(O&&!fn(O[1]))return{[O[0]]:O[1].data};if(T.actionData)return Object.keys(T.actionData).length===0?null:T.actionData}function Zn(O){return O.forEach(B=>{let q=T.fetchers.get(B.key),ie=xo(void 0,q?q.data:void 0);T.fetchers.set(B.key,ie)}),new Map(T.fetchers)}async function jn(O,B,q,ie){et(O);let ye=(ie&&ie.flushSync)===!0,Ae=h||d,ze=ad(T.location,T.matches,g,q,B,ie==null?void 0:ie.relative),xe=na(Ae,ze,g),Oe=fr(xe,Ae,ze);if(Oe.active&&Oe.matches&&(xe=Oe.matches),!xe){I(O,B,Ln(404,{pathname:ze}),{flushSync:ye});return}let{path:ke,submission:Te,error:_e}=_w(!0,ze,ie);if(_e){I(O,B,_e,{flushSync:ye});return}let Pe=Eo(xe,ke),tt=new vw(n.unstable_getContext?await n.unstable_getContext():void 0),Tt=(ie&&ie.preventScrollReset)===!0;if(Te&&gn(Te.formMethod)){await Fn(O,B,ke,Pe,xe,tt,Oe.active,ye,Tt,Te);return}Z.set(O,{routeId:B,path:ke}),await hr(O,B,ke,Pe,xe,tt,Oe.active,ye,Tt,Te)}async function Fn(O,B,q,ie,ye,Ae,ze,xe,Oe,ke){V(),Z.delete(O);function Te(_t){if(!_t.route.action&&!_t.route.lazy){let Hn=Ln(405,{method:ke.formMethod,pathname:q,routeId:B});return I(O,B,Hn,{flushSync:xe}),!0}return!1}if(!ze&&Te(ie))return;let _e=T.fetchers.get(O);k(O,mT(ke,_e),{flushSync:xe});let Pe=new AbortController,tt=bs(n.history,q,Pe.signal,ke);if(ze){let _t=await Jn(ye,q,tt.signal,O);if(_t.type==="aborted")return;if(_t.type==="error"){I(O,B,_t.error,{flushSync:xe});return}else if(_t.matches){if(ye=_t.matches,ie=Eo(ye,q),Te(ie))return}else{I(O,B,Ln(404,{pathname:q}),{flushSync:xe});return}}G.set(O,Pe);let Tt=ae,Pt=ys(l,c,tt,ye,ie,i,Ae),qe=(await K(tt,Pt,Ae,O))[ie.route.id];if(tt.signal.aborted){G.get(O)===Pe&&G.delete(O);return}if(S.has(O)){if(Aa(qe)||fn(qe)){k(O,ta(void 0));return}}else{if(Aa(qe))if(G.delete(O),ge>Tt){k(O,ta(void 0));return}else return w.add(O),k(O,xo(ke)),re(tt,qe,!1,{fetcherSubmission:ke,preventScrollReset:Oe});if(fn(qe)){I(O,B,qe.error);return}}let gr=T.navigation.location||T.location,Zt=bs(n.history,gr,Pe.signal),bn=h||d,Bt=T.navigation.state!=="idle"?na(bn,T.navigation.location,g):T.matches;Ye(Bt,"Didn't find any matches after fetcher action");let yn=++ae;Me.set(O,yn);let mt=xo(ke,qe.data);T.fetchers.set(O,mt);let{dsMatches:Ra,revalidatingFetchers:$n}=xw(Zt,Ae,l,c,n.history,T,Bt,ke,gr,i,!1,ne,ue,S,Z,w,bn,g,n.patchRoutesOnNavigation!=null,[ie.route.id,qe]);$n.filter(_t=>_t.key!==O).forEach(_t=>{let Hn=_t.key,ia=T.fetchers.get(Hn),qn=xo(void 0,ia?ia.data:void 0);T.fetchers.set(Hn,qn),et(Hn),_t.controller&&G.set(Hn,_t.controller)}),Le({fetchers:new Map(T.fetchers)});let vn=()=>$n.forEach(_t=>et(_t.key));Pe.signal.addEventListener("abort",vn);let{loaderResults:Qe,fetcherResults:wt}=await ee(Ra,$n,Zt,Ae);if(Pe.signal.aborted)return;if(Pe.signal.removeEventListener("abort",vn),Me.delete(O),G.delete(O),$n.forEach(_t=>G.delete(_t.key)),T.fetchers.has(O)){let _t=ta(qe.data);T.fetchers.set(O,_t)}let er=$i(Qe);if(er)return re(Zt,er.result,!1,{preventScrollReset:Oe});if(er=$i(wt),er)return w.add(er.key),re(Zt,er.result,!1,{preventScrollReset:Oe});let{loaderData:oa,errors:Ia}=Ew(T,Bt,Qe,void 0,$n,wt);vt(yn),T.navigation.state==="loading"&&yn>ge?(Ye(pe,"Expected pending action"),Q&&Q.abort(),ot(T.navigation.location,{matches:Bt,loaderData:oa,errors:Ia,fetchers:new Map(T.fetchers)})):(Le({errors:Ia,loaderData:Ow(T.loaderData,oa,Bt,Ia),fetchers:new Map(T.fetchers)}),ne=!1)}async function hr(O,B,q,ie,ye,Ae,ze,xe,Oe,ke){let Te=T.fetchers.get(O);k(O,xo(ke,Te?Te.data:void 0),{flushSync:xe});let _e=new AbortController,Pe=bs(n.history,q,_e.signal);if(ze){let qe=await Jn(ye,q,Pe.signal,O);if(qe.type==="aborted")return;if(qe.type==="error"){I(O,B,qe.error,{flushSync:xe});return}else if(qe.matches)ye=qe.matches,ie=Eo(ye,q);else{I(O,B,Ln(404,{pathname:q}),{flushSync:xe});return}}G.set(O,_e);let tt=ae,Tt=ys(l,c,Pe,ye,ie,i,Ae),Gt=(await K(Pe,Tt,Ae,O))[ie.route.id];if(G.get(O)===_e&&G.delete(O),!Pe.signal.aborted){if(S.has(O)){k(O,ta(void 0));return}if(Aa(Gt))if(ge>tt){k(O,ta(void 0));return}else{w.add(O),await re(Pe,Gt,!1,{preventScrollReset:Oe});return}if(fn(Gt)){I(O,B,Gt.error);return}k(O,ta(Gt.data))}}async function re(O,B,q,{submission:ie,fetcherSubmission:ye,preventScrollReset:Ae,replace:ze}={}){B.response.headers.has("X-Remix-Revalidate")&&(ne=!0);let xe=B.response.headers.get("Location");Ye(xe,"Expected a Location header on the redirect Response"),xe=Cw(xe,new URL(O.url),g);let Oe=Bo(T.location,xe,{_isRedirect:!0});if(s){let Tt=!1;if(B.response.headers.has("X-Remix-Reload-Document"))Tt=!0;else if(Sd.test(xe)){const Pt=N_(xe,!0);Tt=Pt.origin!==a.location.origin||Pn(Pt.pathname,g)==null}if(Tt){ze?a.location.replace(xe):a.location.assign(xe);return}}Q=null;let ke=ze===!0||B.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Te,formAction:_e,formEncType:Pe}=T.navigation;!ie&&!ye&&Te&&_e&&Pe&&(ie=Rw(T.navigation));let tt=ie||ye;if(Jk.has(B.response.status)&&tt&&gn(tt.formMethod))await Vt(ke,Oe,{submission:{...tt,formAction:xe},preventScrollReset:Ae||ve,enableViewTransition:q?de:void 0});else{let Tt=qc(Oe,ie);await Vt(ke,Oe,{overrideNavigation:Tt,fetcherSubmission:ye,preventScrollReset:Ae||ve,enableViewTransition:q?de:void 0})}}async function K(O,B,q,ie){let ye,Ae={};try{ye=await iT(f,O,B,ie,q,!1)}catch(ze){return B.filter(xe=>xe.shouldLoad).forEach(xe=>{Ae[xe.route.id]={type:"error",error:ze}}),Ae}if(O.signal.aborted)return Ae;for(let[ze,xe]of Object.entries(ye))if(pT(xe)){let Oe=xe.result;Ae[ze]={type:"redirect",response:cT(Oe,O,ze,B,g)}}else Ae[ze]=await uT(xe);return Ae}async function ee(O,B,q,ie){let ye=K(q,O,ie,null),Ae=Promise.all(B.map(async Oe=>{if(Oe.matches&&Oe.match&&Oe.request&&Oe.controller){let Te=(await K(Oe.request,Oe.matches,ie,Oe.key))[Oe.match.route.id];return{[Oe.key]:Te}}else return Promise.resolve({[Oe.key]:{type:"error",error:Ln(404,{pathname:Oe.path})}})})),ze=await ye,xe=(await Ae).reduce((Oe,ke)=>Object.assign(Oe,ke),{});return{loaderResults:ze,fetcherResults:xe}}function V(){ne=!0,Z.forEach((O,B)=>{G.has(B)&&ue.add(B),et(B)})}function k(O,B,q={}){T.fetchers.set(O,B),Le({fetchers:new Map(T.fetchers)},{flushSync:(q&&q.flushSync)===!0})}function I(O,B,q,ie={}){let ye=Ca(T.matches,B);ce(O),Le({errors:{[ye.route.id]:q},fetchers:new Map(T.fetchers)},{flushSync:(ie&&ie.flushSync)===!0})}function X(O){return me.set(O,(me.get(O)||0)+1),S.has(O)&&S.delete(O),T.fetchers.get(O)||$k}function ce(O){let B=T.fetchers.get(O);G.has(O)&&!(B&&B.state==="loading"&&Me.has(O))&&et(O),Z.delete(O),Me.delete(O),w.delete(O),S.delete(O),ue.delete(O),T.fetchers.delete(O)}function De(O){let B=(me.get(O)||0)-1;B<=0?(me.delete(O),S.add(O)):me.set(O,B),Le({fetchers:new Map(T.fetchers)})}function et(O){let B=G.get(O);B&&(B.abort(),G.delete(O))}function Wt(O){for(let B of O){let q=X(B),ie=ta(q.data);T.fetchers.set(B,ie)}}function zt(){let O=[],B=!1;for(let q of w){let ie=T.fetchers.get(q);Ye(ie,`Expected fetcher: ${q}`),ie.state==="loading"&&(w.delete(q),O.push(q),B=!0)}return Wt(O),B}function vt(O){let B=[];for(let[q,ie]of Me)if(ie<O){let ye=T.fetchers.get(q);Ye(ye,`Expected fetcher: ${q}`),ye.state==="loading"&&(et(q),Me.delete(q),B.push(q))}return Wt(B),B.length>0}function pr(O,B){let q=T.blockers.get(O)||_o;return oe.get(O)!==B&&oe.set(O,B),q}function ft(O){T.blockers.delete(O),oe.delete(O)}function gt(O,B){let q=T.blockers.get(O)||_o;Ye(q.state==="unblocked"&&B.state==="blocked"||q.state==="blocked"&&B.state==="blocked"||q.state==="blocked"&&B.state==="proceeding"||q.state==="blocked"&&B.state==="unblocked"||q.state==="proceeding"&&B.state==="unblocked",`Invalid blocker state transition: ${q.state} -> ${B.state}`);let ie=new Map(T.blockers);ie.set(O,B),Le({blockers:ie})}function en({currentLocation:O,nextLocation:B,historyAction:q}){if(oe.size===0)return;oe.size>1&&Ct(!1,"A router only supports one blocker at a time");let ie=Array.from(oe.entries()),[ye,Ae]=ie[ie.length-1],ze=T.blockers.get(ye);if(!(ze&&ze.state==="proceeding")&&Ae({currentLocation:O,nextLocation:B,historyAction:q}))return ye}function Ts(O){let B=Ln(404,{pathname:O}),q=h||d,{matches:ie,route:ye}=Lw(q);return{notFoundMatches:ie,route:ye,error:B}}function Ol(O,B,q){if(_=O,M=B,A=q||null,!U&&T.navigation===Hc){U=!0;let ie=Kn(T.location,T.matches);ie!=null&&Le({restoreScrollPosition:ie})}return()=>{_=null,M=null,A=null}}function sa(O,B){return A&&A(O,B.map(ie=>Ok(ie,T.loaderData)))||O.key}function za(O,B){if(_&&M){let q=sa(O,B);_[q]=M()}}function Kn(O,B){if(_){let q=sa(O,B),ie=_[q];if(typeof ie=="number")return ie}return null}function fr(O,B,q){if(n.patchRoutesOnNavigation)if(O){if(Object.keys(O[0].params).length>0)return{active:!0,matches:sl(B,q,g,!0)}}else return{active:!0,matches:sl(B,q,g,!0)||[]};return{active:!1,matches:null}}async function Jn(O,B,q,ie){if(!n.patchRoutesOnNavigation)return{type:"success",matches:O};let ye=O;for(;;){let Ae=h==null,ze=h||d,xe=c;try{await n.patchRoutesOnNavigation({signal:q,path:B,matches:ye,fetcherKey:ie,patch:(Te,_e)=>{q.aborted||Sw(Te,_e,ze,xe,l)}})}catch(Te){return{type:"error",error:Te,partialMatches:ye}}finally{Ae&&!q.aborted&&(d=[...d])}if(q.aborted)return{type:"aborted"};let Oe=na(ze,B,g);if(Oe)return{type:"success",matches:Oe};let ke=sl(ze,B,g,!0);if(!ke||ye.length===ke.length&&ye.every((Te,_e)=>Te.route.id===ke[_e].route.id))return{type:"success",matches:null};ye=ke}}function Ml(O){c={},h=cl(O,l,void 0,c)}function Qo(O,B){let q=h==null;Sw(O,B,h||d,c,l),q&&(d=[...d],Le({}))}return J={get basename(){return g},get future(){return m},get state(){return T},get routes(){return d},get window(){return a},initialize:pt,subscribe:Ze,enableScrollRestoration:Ol,navigate:sn,fetch:jn,revalidate:Lt,createHref:O=>n.history.createHref(O),encodeLocation:O=>n.history.encodeLocation(O),getFetcher:X,deleteFetcher:De,dispose:Ne,getBlocker:pr,deleteBlocker:ft,patchRoutes:Qo,_internalFetchControllers:G,_internalSetRoutes:Ml},J}function nT(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function ad(n,a,s,i,l,c){let d,h;if(l){d=[];for(let f of a)if(d.push(f),f.route.id===l){h=f;break}}else d=a,h=a[a.length-1];let g=xd(i||".",_d(d),Pn(n.pathname,s)||n.pathname,c==="path");if(i==null&&(g.search=n.search,g.hash=n.hash),(i==null||i===""||i===".")&&h){let f=kd(g.search);if(h.route.index&&!f)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&f){let m=new URLSearchParams(g.search),y=m.getAll("index");m.delete("index"),y.filter(_=>_).forEach(_=>m.append("index",_));let v=m.toString();g.search=v?`?${v}`:""}}return s!=="/"&&(g.pathname=g.pathname==="/"?s:ur([s,g.pathname])),ra(g)}function _w(n,a,s){if(!s||!nT(s))return{path:a};if(s.formMethod&&!fT(s.formMethod))return{path:a,error:Ln(405,{method:s.formMethod})};let i=()=>({path:a,error:Ln(400,{type:"invalid-body"})}),c=(s.formMethod||"get").toUpperCase(),d=Z_(a);if(s.body!==void 0){if(s.formEncType==="text/plain"){if(!gn(c))return i();let y=typeof s.body=="string"?s.body:s.body instanceof FormData||s.body instanceof URLSearchParams?Array.from(s.body.entries()).reduce((v,[_,A])=>`${v}${_}=${A}
`,""):String(s.body);return{path:a,submission:{formMethod:c,formAction:d,formEncType:s.formEncType,formData:void 0,json:void 0,text:y}}}else if(s.formEncType==="application/json"){if(!gn(c))return i();try{let y=typeof s.body=="string"?JSON.parse(s.body):s.body;return{path:a,submission:{formMethod:c,formAction:d,formEncType:s.formEncType,formData:void 0,json:y,text:void 0}}}catch{return i()}}}Ye(typeof FormData=="function","FormData is not available in this environment");let h,g;if(s.formData)h=id(s.formData),g=s.formData;else if(s.body instanceof FormData)h=id(s.body),g=s.body;else if(s.body instanceof URLSearchParams)h=s.body,g=Aw(h);else if(s.body==null)h=new URLSearchParams,g=new FormData;else try{h=new URLSearchParams(s.body),g=Aw(h)}catch{return i()}let f={formMethod:c,formAction:d,formEncType:s&&s.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(gn(f.formMethod))return{path:a,submission:f};let m=Mr(a);return n&&m.search&&kd(m.search)&&h.append("index",""),m.search=`?${h}`,{path:ra(m),submission:f}}function xw(n,a,s,i,l,c,d,h,g,f,m,y,v,_,A,M,U,E,j,F){var he;let se=F?fn(F[1])?F[1].error:F[1].data:void 0,J=l.createURL(c.location),T=l.createURL(g),pe;if(m&&c.errors){let ne=Object.keys(c.errors)[0];pe=d.findIndex(ue=>ue.route.id===ne)}else if(F&&fn(F[1])){let ne=F[0];pe=d.findIndex(ue=>ue.route.id===ne)-1}let ve=F?F[1].statusCode:void 0,Q=ve&&ve>=400,de={currentUrl:J,currentParams:((he=c.matches[0])==null?void 0:he.params)||{},nextUrl:T,nextParams:d[0].params,...h,actionResult:se,actionStatus:ve},fe=d.map((ne,ue)=>{let{route:G}=ne,ae=null;if(pe!=null&&ue>pe?ae=!1:G.lazy?ae=!0:G.loader==null?ae=!1:m?ae=sd(G,c.loaderData,c.errors):rT(c.loaderData,c.matches[ue],ne)&&(ae=!0),ae!==null)return od(s,i,n,ne,f,a,ae);let ge=Q?!1:y||J.pathname+J.search===T.pathname+T.search||J.search!==T.search||aT(c.matches[ue],ne),Me={...de,defaultShouldRevalidate:ge},w=pl(ne,Me);return od(s,i,n,ne,f,a,w,Me)}),be=[];return A.forEach((ne,ue)=>{if(m||!d.some(S=>S.route.id===ne.routeId)||_.has(ue))return;let G=c.fetchers.get(ue),ae=G&&G.state!=="idle"&&G.data===void 0,ge=na(U,ne.path,E);if(!ge){if(j&&ae)return;be.push({key:ue,routeId:ne.routeId,path:ne.path,matches:null,match:null,request:null,controller:null});return}if(M.has(ue))return;let Me=Eo(ge,ne.path),w=new AbortController,Z=bs(l,ne.path,w.signal),me=null;if(v.has(ue))v.delete(ue),me=ys(s,i,Z,ge,Me,f,a);else if(ae)y&&(me=ys(s,i,Z,ge,Me,f,a));else{let S={...de,defaultShouldRevalidate:Q?!1:y};pl(Me,S)&&(me=ys(s,i,Z,ge,Me,f,a,S))}me&&be.push({key:ue,routeId:ne.routeId,path:ne.path,matches:me,match:Me,request:Z,controller:w})}),{dsMatches:fe,revalidatingFetchers:be}}function sd(n,a,s){if(n.lazy)return!0;if(!n.loader)return!1;let i=a!=null&&n.id in a,l=s!=null&&s[n.id]!==void 0;return!i&&l?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!l}function rT(n,a,s){let i=!a||s.route.id!==a.route.id,l=!n.hasOwnProperty(s.route.id);return i||l}function aT(n,a){let s=n.route.path;return n.pathname!==a.pathname||s!=null&&s.endsWith("*")&&n.params["*"]!==a.params["*"]}function pl(n,a){if(n.route.shouldRevalidate){let s=n.route.shouldRevalidate(a);if(typeof s=="boolean")return s}return a.defaultShouldRevalidate}function Sw(n,a,s,i,l){let c;if(n){let g=i[n];Ye(g,`No route found to patch children into: routeId = ${n}`),g.children||(g.children=[]),c=g.children}else c=s;let d=a.filter(g=>!c.some(f=>G_(g,f))),h=cl(d,l,[n||"_","patch",String((c==null?void 0:c.length)||"0")],i);c.push(...h)}function G_(n,a){return"id"in n&&"id"in a&&n.id===a.id?!0:n.index===a.index&&n.path===a.path&&n.caseSensitive===a.caseSensitive?(!n.children||n.children.length===0)&&(!a.children||a.children.length===0)?!0:n.children.every((s,i)=>{var l;return(l=a.children)==null?void 0:l.some(c=>G_(s,c))}):!1}var kw=new WeakMap,Y_=({key:n,route:a,manifest:s,mapRouteProperties:i})=>{let l=s[a.id];if(Ye(l,"No route found in manifest"),!l.lazy||typeof l.lazy!="object")return;let c=l.lazy[n];if(!c)return;let d=kw.get(l);d||(d={},kw.set(l,d));let h=d[n];if(h)return h;let g=(async()=>{let f=Dk(n),y=l[n]!==void 0&&n!=="hasErrorBoundary";if(f)Ct(!f,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),d[n]=Promise.resolve();else if(y)Ct(!1,`Route "${l.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let v=await c();v!=null&&(Object.assign(l,{[n]:v}),Object.assign(l,i(l)))}typeof l.lazy=="object"&&(l.lazy[n]=void 0,Object.values(l.lazy).every(v=>v===void 0)&&(l.lazy=void 0))})();return d[n]=g,g},Tw=new WeakMap;function sT(n,a,s,i,l){let c=s[n.id];if(Ye(c,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let m=Tw.get(c);if(m)return{lazyRoutePromise:m,lazyHandlerPromise:m};let y=(async()=>{Ye(typeof n.lazy=="function","No lazy route function found");let v=await n.lazy(),_={};for(let A in v){let M=v[A];if(M===void 0)continue;let U=Ak(A),j=c[A]!==void 0&&A!=="hasErrorBoundary";U?Ct(!U,"Route property "+A+" is not a supported property to be returned from a lazy route function. This property will be ignored."):j?Ct(!j,`Route "${c.id}" has a static property "${A}" defined but its lazy function is also returning a value for this property. The lazy route property "${A}" will be ignored.`):_[A]=M}Object.assign(c,_),Object.assign(c,{...i(c),lazy:void 0})})();return Tw.set(c,y),y.catch(()=>{}),{lazyRoutePromise:y,lazyHandlerPromise:y}}let d=Object.keys(n.lazy),h=[],g;for(let m of d){if(l&&l.includes(m))continue;let y=Y_({key:m,route:n,manifest:s,mapRouteProperties:i});y&&(h.push(y),m===a&&(g=y))}let f=h.length>0?Promise.all(h).then(()=>{}):void 0;return f==null||f.catch(()=>{}),g==null||g.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:g}}async function Dw(n){let a=n.matches.filter(l=>l.shouldLoad),s={};return(await Promise.all(a.map(l=>l.resolve()))).forEach((l,c)=>{s[a[c].route.id]=l}),s}async function oT(n){return n.matches.some(a=>a.route.unstable_middleware)?Q_(n,!1,()=>Dw(n),(a,s)=>({[s]:{type:"error",result:a}})):Dw(n)}async function Q_(n,a,s,i){let{matches:l,request:c,params:d,context:h}=n,g={handlerResult:void 0};try{let f=l.flatMap(y=>y.route.unstable_middleware?y.route.unstable_middleware.map(v=>[y.route.id,v]):[]),m=await X_({request:c,params:d,context:h},f,a,g,s);return a?m:g.handlerResult}catch(f){if(!g.middlewareError)throw f;let m=await i(g.middlewareError.error,g.middlewareError.routeId);return g.handlerResult?Object.assign(g.handlerResult,m):m}}async function X_(n,a,s,i,l,c=0){let{request:d}=n;if(d.signal.aborted)throw d.signal.reason?d.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${d.method} ${d.url}`);let h=a[c];if(!h)return i.handlerResult=await l(),i.handlerResult;let[g,f]=h,m=!1,y,v=async()=>{if(m)throw new Error("You may only call `next()` once per middleware");m=!0,await X_(n,a,s,i,l,c+1)};try{let _=await f({request:n.request,params:n.params,context:n.context},v);return m?_===void 0?y:_:v()}catch(_){throw i.middlewareError?i.middlewareError.error!==_&&(i.middlewareError={routeId:g,error:_}):i.middlewareError={routeId:g,error:_},_}}function W_(n,a,s,i,l){let c=Y_({key:"unstable_middleware",route:i.route,manifest:a,mapRouteProperties:n}),d=sT(i.route,gn(s.method)?"action":"loader",a,n,l);return{middleware:c,route:d.lazyRoutePromise,handler:d.lazyHandlerPromise}}function od(n,a,s,i,l,c,d,h=null){let g=!1,f=W_(n,a,s,i,l);return{...i,_lazyPromises:f,shouldLoad:d,unstable_shouldRevalidateArgs:h,unstable_shouldCallHandler(m){return g=!0,h?typeof m=="boolean"?pl(i,{...h,defaultShouldRevalidate:m}):pl(i,h):d},resolve(m){return g||d||m&&s.method==="GET"&&(i.route.lazy||i.route.loader)?lT({request:s,match:i,lazyHandlerPromise:f==null?void 0:f.handler,lazyRoutePromise:f==null?void 0:f.route,handlerOverride:m,scopedContext:c}):Promise.resolve({type:"data",result:void 0})}}}function ys(n,a,s,i,l,c,d,h=null){return i.map(g=>g.route.id!==l.route.id?{...g,shouldLoad:!1,unstable_shouldRevalidateArgs:h,unstable_shouldCallHandler:()=>!1,_lazyPromises:W_(n,a,s,g,c),resolve:()=>Promise.resolve({type:"data",result:void 0})}:od(n,a,s,g,c,d,!0,h))}async function iT(n,a,s,i,l,c){s.some(f=>{var m;return(m=f._lazyPromises)==null?void 0:m.middleware})&&await Promise.all(s.map(f=>{var m;return(m=f._lazyPromises)==null?void 0:m.middleware}));let d={request:a,params:s[0].params,context:l,matches:s},g=await n({...d,fetcherKey:i,unstable_runClientMiddleware:f=>{let m=d;return Q_(m,!1,()=>f({...m,fetcherKey:i,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(y,v)=>({[v]:{type:"error",result:y}}))}});try{await Promise.all(s.flatMap(f=>{var m,y;return[(m=f._lazyPromises)==null?void 0:m.handler,(y=f._lazyPromises)==null?void 0:y.route]}))}catch{}return g}async function lT({request:n,match:a,lazyHandlerPromise:s,lazyRoutePromise:i,handlerOverride:l,scopedContext:c}){let d,h,g=gn(n.method),f=g?"action":"loader",m=y=>{let v,_=new Promise((U,E)=>v=E);h=()=>v(),n.signal.addEventListener("abort",h);let A=U=>typeof y!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${f}" [routeId: ${a.route.id}]`)):y({request:n,params:a.params,context:c},...U!==void 0?[U]:[]),M=(async()=>{try{return{type:"data",result:await(l?l(E=>A(E)):A())}}catch(U){return{type:"error",result:U}}})();return Promise.race([M,_])};try{let y=g?a.route.action:a.route.loader;if(s||i)if(y){let v,[_]=await Promise.all([m(y).catch(A=>{v=A}),s,i]);if(v!==void 0)throw v;d=_}else{await s;let v=g?a.route.action:a.route.loader;if(v)[d]=await Promise.all([m(v),i]);else if(f==="action"){let _=new URL(n.url),A=_.pathname+_.search;throw Ln(405,{method:n.method,pathname:A,routeId:a.route.id})}else return{type:"data",result:void 0}}else if(y)d=await m(y);else{let v=new URL(n.url),_=v.pathname+v.search;throw Ln(404,{pathname:_})}}catch(y){return{type:"error",result:y}}finally{h&&n.signal.removeEventListener("abort",h)}return d}async function uT(n){var i,l,c,d,h,g;let{result:a,type:s}=n;if(K_(a)){let f;try{let m=a.headers.get("Content-Type");m&&/\bapplication\/json\b/.test(m)?a.body==null?f=null:f=await a.json():f=await a.text()}catch(m){return{type:"error",error:m}}return s==="error"?{type:"error",error:new hl(a.status,a.statusText,f),statusCode:a.status,headers:a.headers}:{type:"data",data:f,statusCode:a.status,headers:a.headers}}return s==="error"?zw(a)?a.data instanceof Error?{type:"error",error:a.data,statusCode:(i=a.init)==null?void 0:i.status,headers:(l=a.init)!=null&&l.headers?new Headers(a.init.headers):void 0}:{type:"error",error:new hl(((c=a.init)==null?void 0:c.status)||500,void 0,a.data),statusCode:No(a)?a.status:void 0,headers:(d=a.init)!=null&&d.headers?new Headers(a.init.headers):void 0}:{type:"error",error:a,statusCode:No(a)?a.status:void 0}:zw(a)?{type:"data",data:a.data,statusCode:(h=a.init)==null?void 0:h.status,headers:(g=a.init)!=null&&g.headers?new Headers(a.init.headers):void 0}:{type:"data",data:a}}function cT(n,a,s,i,l){let c=n.headers.get("Location");if(Ye(c,"Redirects returned/thrown from loaders/actions must have a Location header"),!Sd.test(c)){let d=i.slice(0,i.findIndex(h=>h.route.id===s)+1);c=ad(new URL(a.url),d,l,c),n.headers.set("Location",c)}return n}function Cw(n,a,s){if(Sd.test(n)){let i=n,l=i.startsWith("//")?new URL(a.protocol+i):new URL(i),c=Pn(l.pathname,s)!=null;if(l.origin===a.origin&&c)return l.pathname+l.search+l.hash}return n}function bs(n,a,s,i){let l=n.createURL(Z_(a)).toString(),c={signal:s};if(i&&gn(i.formMethod)){let{formMethod:d,formEncType:h}=i;c.method=d.toUpperCase(),h==="application/json"?(c.headers=new Headers({"Content-Type":h}),c.body=JSON.stringify(i.json)):h==="text/plain"?c.body=i.text:h==="application/x-www-form-urlencoded"&&i.formData?c.body=id(i.formData):c.body=i.formData}return new Request(l,c)}function id(n){let a=new URLSearchParams;for(let[s,i]of n.entries())a.append(s,typeof i=="string"?i:i.name);return a}function Aw(n){let a=new FormData;for(let[s,i]of n.entries())a.append(s,i);return a}function dT(n,a,s,i=!1,l=!1){let c={},d=null,h,g=!1,f={},m=s&&fn(s[1])?s[1].error:void 0;return n.forEach(y=>{if(!(y.route.id in a))return;let v=y.route.id,_=a[v];if(Ye(!Aa(_),"Cannot handle redirect results in processLoaderData"),fn(_)){let A=_.error;if(m!==void 0&&(A=m,m=void 0),d=d||{},l)d[v]=A;else{let M=Ca(n,v);d[M.route.id]==null&&(d[M.route.id]=A)}i||(c[v]=V_),g||(g=!0,h=No(_.error)?_.error.status:500),_.headers&&(f[v]=_.headers)}else c[v]=_.data,_.statusCode&&_.statusCode!==200&&!g&&(h=_.statusCode),_.headers&&(f[v]=_.headers)}),m!==void 0&&s&&(d={[s[0]]:m},s[2]&&(c[s[2]]=void 0)),{loaderData:c,errors:d,statusCode:h||200,loaderHeaders:f}}function Ew(n,a,s,i,l,c){let{loaderData:d,errors:h}=dT(a,s,i);return l.filter(g=>!g.matches||g.matches.some(f=>f.shouldLoad)).forEach(g=>{let{key:f,match:m,controller:y}=g,v=c[f];if(Ye(v,"Did not find corresponding fetcher result"),!(y&&y.signal.aborted))if(fn(v)){let _=Ca(n.matches,m==null?void 0:m.route.id);h&&h[_.route.id]||(h={...h,[_.route.id]:v.error}),n.fetchers.delete(f)}else if(Aa(v))Ye(!1,"Unhandled fetcher revalidation redirect");else{let _=ta(v.data);n.fetchers.set(f,_)}}),{loaderData:d,errors:h}}function Ow(n,a,s,i){let l=Object.entries(a).filter(([,c])=>c!==V_).reduce((c,[d,h])=>(c[d]=h,c),{});for(let c of s){let d=c.route.id;if(!a.hasOwnProperty(d)&&n.hasOwnProperty(d)&&c.route.loader&&(l[d]=n[d]),i&&i.hasOwnProperty(d))break}return l}function Mw(n){return n?fn(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Ca(n,a){return(a?n.slice(0,n.findIndex(i=>i.route.id===a)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function Lw(n){let a=n.length===1?n[0]:n.find(s=>s.index||!s.path||s.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:a}],route:a}}function Ln(n,{pathname:a,routeId:s,method:i,type:l,message:c}={}){let d="Unknown Server Error",h="Unknown @remix-run/router error";return n===400?(d="Bad Request",i&&a&&s?h=`You made a ${i} request to "${a}" but did not provide a \`loader\` for route "${s}", so there is no way to handle the request.`:l==="invalid-body"&&(h="Unable to encode submission body")):n===403?(d="Forbidden",h=`Route "${s}" does not match URL "${a}"`):n===404?(d="Not Found",h=`No route matches URL "${a}"`):n===405&&(d="Method Not Allowed",i&&a&&s?h=`You made a ${i.toUpperCase()} request to "${a}" but did not provide an \`action\` for route "${s}", so there is no way to handle the request.`:i&&(h=`Invalid request method "${i.toUpperCase()}"`)),new hl(n||500,d,new Error(h),!0)}function $i(n){let a=Object.entries(n);for(let s=a.length-1;s>=0;s--){let[i,l]=a[s];if(Aa(l))return{key:i,result:l}}}function Z_(n){let a=typeof n=="string"?Mr(n):n;return ra({...a,hash:""})}function hT(n,a){return n.pathname!==a.pathname||n.search!==a.search?!1:n.hash===""?a.hash!=="":n.hash===a.hash?!0:a.hash!==""}function pT(n){return K_(n.result)&&Kk.has(n.result.status)}function fn(n){return n.type==="error"}function Aa(n){return(n&&n.type)==="redirect"}function zw(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function K_(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function fT(n){return Zk.has(n.toUpperCase())}function gn(n){return Xk.has(n.toUpperCase())}function kd(n){return new URLSearchParams(n).getAll("index").some(a=>a==="")}function Eo(n,a){let s=typeof a=="string"?Mr(a).search:a.search;if(n[n.length-1].route.index&&kd(s||""))return n[n.length-1];let i=F_(n);return i[i.length-1]}function Rw(n){let{formMethod:a,formAction:s,formEncType:i,text:l,formData:c,json:d}=n;if(!(!a||!s||!i)){if(l!=null)return{formMethod:a,formAction:s,formEncType:i,formData:void 0,json:void 0,text:l};if(c!=null)return{formMethod:a,formAction:s,formEncType:i,formData:c,json:void 0,text:void 0};if(d!==void 0)return{formMethod:a,formAction:s,formEncType:i,formData:void 0,json:d,text:void 0}}}function qc(n,a){return a?{state:"loading",location:n,formMethod:a.formMethod,formAction:a.formAction,formEncType:a.formEncType,formData:a.formData,json:a.json,text:a.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function gT(n,a){return{state:"submitting",location:n,formMethod:a.formMethod,formAction:a.formAction,formEncType:a.formEncType,formData:a.formData,json:a.json,text:a.text}}function xo(n,a){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:a}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:a}}function mT(n,a){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:a?a.data:void 0}}function ta(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function bT(n,a){try{let s=n.sessionStorage.getItem(q_);if(s){let i=JSON.parse(s);for(let[l,c]of Object.entries(i||{}))c&&Array.isArray(c)&&a.set(l,new Set(c||[]))}}catch{}}function yT(n,a){if(a.size>0){let s={};for(let[i,l]of a)s[i]=[...l];try{n.sessionStorage.setItem(q_,JSON.stringify(s))}catch(i){Ct(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function vT(){let n,a,s=new Promise((i,l)=>{n=async c=>{i(c);try{await s}catch{}},a=async c=>{l(c);try{await s}catch{}}});return{promise:s,resolve:n,reject:a}}var Oa=R.createContext(null);Oa.displayName="DataRouter";var jo=R.createContext(null);jo.displayName="DataRouterState";var Td=R.createContext({isTransitioning:!1});Td.displayName="ViewTransition";var J_=R.createContext(new Map);J_.displayName="Fetchers";var wT=R.createContext(null);wT.displayName="Await";var dr=R.createContext(null);dr.displayName="Navigation";var vl=R.createContext(null);vl.displayName="Location";var Xn=R.createContext({outlet:null,matches:[],isDataRoute:!1});Xn.displayName="Route";var Dd=R.createContext(null);Dd.displayName="RouteError";function _T(n,{relative:a}={}){Ye(Fo(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:i}=R.useContext(dr),{hash:l,pathname:c,search:d}=qo(n,{relative:a}),h=c;return s!=="/"&&(h=c==="/"?s:ur([s,c])),i.createHref({pathname:h,search:d,hash:l})}function Fo(){return R.useContext(vl)!=null}function Wn(){return Ye(Fo(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(vl).location}var $_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function e3(n){R.useContext(dr).static||R.useLayoutEffect(n)}function xT(){let{isDataRoute:n}=R.useContext(Xn);return n?BT():ST()}function ST(){Ye(Fo(),"useNavigate() may be used only in the context of a <Router> component.");let n=R.useContext(Oa),{basename:a,navigator:s}=R.useContext(dr),{matches:i}=R.useContext(Xn),{pathname:l}=Wn(),c=JSON.stringify(_d(i)),d=R.useRef(!1);return e3(()=>{d.current=!0}),R.useCallback((g,f={})=>{if(Ct(d.current,$_),!d.current)return;if(typeof g=="number"){s.go(g);return}let m=xd(g,JSON.parse(c),l,f.relative==="path");n==null&&a!=="/"&&(m.pathname=m.pathname==="/"?a:ur([a,m.pathname])),(f.replace?s.replace:s.push)(m,f.state,f)},[a,s,c,l,n])}var kT=R.createContext(null);function TT(n){let a=R.useContext(Xn).outlet;return a&&R.createElement(kT.Provider,{value:n},a)}function Ho(){let{matches:n}=R.useContext(Xn),a=n[n.length-1];return a?a.params:{}}function qo(n,{relative:a}={}){let{matches:s}=R.useContext(Xn),{pathname:i}=Wn(),l=JSON.stringify(_d(s));return R.useMemo(()=>xd(n,JSON.parse(l),i,a==="path"),[n,l,i,a])}function DT(n,a,s,i){Ye(Fo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=R.useContext(dr),{matches:c}=R.useContext(Xn),d=c[c.length-1],h=d?d.params:{},g=d?d.pathname:"/",f=d?d.pathnameBase:"/",m=d&&d.route;{let E=m&&m.path||"";t3(g,!m||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let y=Wn(),v;v=y;let _=v.pathname||"/",A=_;if(f!=="/"){let E=f.replace(/^\//,"").split("/");A="/"+_.replace(/^\//,"").split("/").slice(E.length).join("/")}let M=na(n,{pathname:A});return Ct(m||M!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Ct(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),MT(M&&M.map(E=>Object.assign({},E,{params:Object.assign({},h,E.params),pathname:ur([f,l.encodeLocation?l.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?f:ur([f,l.encodeLocation?l.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),c,s,i)}function CT(){let n=PT(),a=No(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),s=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:i},c={padding:"2px 4px",backgroundColor:i},d=null;return console.error("Error handled by React Router default ErrorBoundary:",n),d=R.createElement(R.Fragment,null,R.createElement("p",null,"💿 Hey developer 👋"),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:c},"ErrorBoundary")," or"," ",R.createElement("code",{style:c},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},a),s?R.createElement("pre",{style:l},s):null,d)}var AT=R.createElement(CT,null),ET=class extends R.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,a){return a.location!==n.location||a.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:a.error,location:a.location,revalidation:n.revalidation||a.revalidation}}componentDidCatch(n,a){console.error("React Router caught the following error during render",n,a)}render(){return this.state.error!==void 0?R.createElement(Xn.Provider,{value:this.props.routeContext},R.createElement(Dd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function OT({routeContext:n,match:a,children:s}){let i=R.useContext(Oa);return i&&i.static&&i.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=a.route.id),R.createElement(Xn.Provider,{value:n},s)}function MT(n,a=[],s=null,i=null){if(n==null){if(!s)return null;if(s.errors)n=s.matches;else if(a.length===0&&!s.initialized&&s.matches.length>0)n=s.matches;else return null}let l=n,c=s==null?void 0:s.errors;if(c!=null){let g=l.findIndex(f=>f.route.id&&(c==null?void 0:c[f.route.id])!==void 0);Ye(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let d=!1,h=-1;if(s)for(let g=0;g<l.length;g++){let f=l[g];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(h=g),f.route.id){let{loaderData:m,errors:y}=s,v=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!y||y[f.route.id]===void 0);if(f.route.lazy||v){d=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((g,f,m)=>{let y,v=!1,_=null,A=null;s&&(y=c&&f.route.id?c[f.route.id]:void 0,_=f.route.errorElement||AT,d&&(h<0&&m===0?(t3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,A=null):h===m&&(v=!0,A=f.route.hydrateFallbackElement||null)));let M=a.concat(l.slice(0,m+1)),U=()=>{let E;return y?E=_:v?E=A:f.route.Component?E=R.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=g,R.createElement(OT,{match:f,routeContext:{outlet:g,matches:M,isDataRoute:s!=null},children:E})};return s&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?R.createElement(ET,{location:s.location,revalidation:s.revalidation,component:_,error:y,children:U(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):U()},null)}function Cd(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LT(n){let a=R.useContext(Oa);return Ye(a,Cd(n)),a}function zT(n){let a=R.useContext(jo);return Ye(a,Cd(n)),a}function RT(n){let a=R.useContext(Xn);return Ye(a,Cd(n)),a}function Ad(n){let a=RT(n),s=a.matches[a.matches.length-1];return Ye(s.route.id,`${n} can only be used on routes that contain a unique "id"`),s.route.id}function IT(){return Ad("useRouteId")}function PT(){var i;let n=R.useContext(Dd),a=zT("useRouteError"),s=Ad("useRouteError");return n!==void 0?n:(i=a.errors)==null?void 0:i[s]}function BT(){let{router:n}=LT("useNavigate"),a=Ad("useNavigate"),s=R.useRef(!1);return e3(()=>{s.current=!0}),R.useCallback(async(l,c={})=>{Ct(s.current,$_),s.current&&(typeof l=="number"?n.navigate(l):await n.navigate(l,{fromRouteId:a,...c}))},[n,a])}var Iw={};function t3(n,a,s){!a&&!Iw[n]&&(Iw[n]=!0,Ct(!1,s))}var Pw={};function Bw(n,a){!n&&!Pw[a]&&(Pw[a]=!0,console.warn(a))}function NT(n){let a={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&Ct(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(a,{element:R.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&Ct(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(a,{hydrateFallbackElement:R.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&Ct(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(a,{errorElement:R.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),a}var UT=["HydrateFallback","hydrateFallbackElement"],jT=class{constructor(){this.status="pending",this.promise=new Promise((n,a)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",n(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",a(s))}})}};function FT({router:n,flushSync:a}){let[s,i]=R.useState(n.state),[l,c]=R.useState(),[d,h]=R.useState({isTransitioning:!1}),[g,f]=R.useState(),[m,y]=R.useState(),[v,_]=R.useState(),A=R.useRef(new Map),M=R.useCallback((F,{deletedFetchers:se,flushSync:J,viewTransitionOpts:T})=>{F.fetchers.forEach((ve,Q)=>{ve.data!==void 0&&A.current.set(Q,ve.data)}),se.forEach(ve=>A.current.delete(ve)),Bw(J===!1||a!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let pe=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(Bw(T==null||pe,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!T||!pe){a&&J?a(()=>i(F)):R.startTransition(()=>i(F));return}if(a&&J){a(()=>{m&&(g&&g.resolve(),m.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:T.currentLocation,nextLocation:T.nextLocation})});let ve=n.window.document.startViewTransition(()=>{a(()=>i(F))});ve.finished.finally(()=>{a(()=>{f(void 0),y(void 0),c(void 0),h({isTransitioning:!1})})}),a(()=>y(ve));return}m?(g&&g.resolve(),m.skipTransition(),_({state:F,currentLocation:T.currentLocation,nextLocation:T.nextLocation})):(c(F),h({isTransitioning:!0,flushSync:!1,currentLocation:T.currentLocation,nextLocation:T.nextLocation}))},[n.window,a,m,g]);R.useLayoutEffect(()=>n.subscribe(M),[n,M]),R.useEffect(()=>{d.isTransitioning&&!d.flushSync&&f(new jT)},[d]),R.useEffect(()=>{if(g&&l&&n.window){let F=l,se=g.promise,J=n.window.document.startViewTransition(async()=>{R.startTransition(()=>i(F)),await se});J.finished.finally(()=>{f(void 0),y(void 0),c(void 0),h({isTransitioning:!1})}),y(J)}},[l,g,n.window]),R.useEffect(()=>{g&&l&&s.location.key===l.location.key&&g.resolve()},[g,m,s.location,l]),R.useEffect(()=>{!d.isTransitioning&&v&&(c(v.state),h({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),_(void 0))},[d.isTransitioning,v]);let U=R.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:F=>n.navigate(F),push:(F,se,J)=>n.navigate(F,{state:se,preventScrollReset:J==null?void 0:J.preventScrollReset}),replace:(F,se,J)=>n.navigate(F,{replace:!0,state:se,preventScrollReset:J==null?void 0:J.preventScrollReset})}),[n]),E=n.basename||"/",j=R.useMemo(()=>({router:n,navigator:U,static:!1,basename:E}),[n,U,E]);return R.createElement(R.Fragment,null,R.createElement(Oa.Provider,{value:j},R.createElement(jo.Provider,{value:s},R.createElement(J_.Provider,{value:A.current},R.createElement(Td.Provider,{value:d},R.createElement(GT,{basename:E,location:s.location,navigationType:s.historyAction,navigator:U},R.createElement(HT,{routes:n.routes,future:n.future,state:s})))))),null)}var HT=R.memo(qT);function qT({routes:n,future:a,state:s}){return DT(n,void 0,s,a)}function VT(n){return TT(n.context)}function GT({basename:n="/",children:a=null,location:s,navigationType:i="POP",navigator:l,static:c=!1}){Ye(!Fo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),h=R.useMemo(()=>({basename:d,navigator:l,static:c,future:{}}),[d,l,c]);typeof s=="string"&&(s=Mr(s));let{pathname:g="/",search:f="",hash:m="",state:y=null,key:v="default"}=s,_=R.useMemo(()=>{let A=Pn(g,d);return A==null?null:{location:{pathname:A,search:f,hash:m,state:y,key:v},navigationType:i}},[d,g,f,m,y,v,i]);return Ct(_!=null,`<Router basename="${d}"> is not able to match the URL "${g}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:R.createElement(dr.Provider,{value:h},R.createElement(vl.Provider,{children:a,value:_}))}var ol="get",il="application/x-www-form-urlencoded";function wl(n){return n!=null&&typeof n.tagName=="string"}function YT(n){return wl(n)&&n.tagName.toLowerCase()==="button"}function QT(n){return wl(n)&&n.tagName.toLowerCase()==="form"}function XT(n){return wl(n)&&n.tagName.toLowerCase()==="input"}function WT(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function ZT(n,a){return n.button===0&&(!a||a==="_self")&&!WT(n)}var el=null;function KT(){if(el===null)try{new FormData(document.createElement("form"),0),el=!1}catch{el=!0}return el}var JT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vc(n){return n!=null&&!JT.has(n)?(Ct(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${il}"`),null):n}function $T(n,a){let s,i,l,c,d;if(QT(n)){let h=n.getAttribute("action");i=h?Pn(h,a):null,s=n.getAttribute("method")||ol,l=Vc(n.getAttribute("enctype"))||il,c=new FormData(n)}else if(YT(n)||XT(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=n.getAttribute("formaction")||h.getAttribute("action");if(i=g?Pn(g,a):null,s=n.getAttribute("formmethod")||h.getAttribute("method")||ol,l=Vc(n.getAttribute("formenctype"))||Vc(h.getAttribute("enctype"))||il,c=new FormData(h,n),!KT()){let{name:f,type:m,value:y}=n;if(m==="image"){let v=f?`${f}.`:"";c.append(`${v}x`,"0"),c.append(`${v}y`,"0")}else f&&c.append(f,y)}}else{if(wl(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=ol,i=null,l=il,d=n}return c&&l==="text/plain"&&(d=c,c=void 0),{action:i,method:s.toLowerCase(),encType:l,formData:c,body:d}}function Ed(n,a){if(n===!1||n===null||typeof n>"u")throw new Error(a)}async function eD(n,a){if(n.id in a)return a[n.id];try{let s=await import(n.module);return a[n.id]=s,s}catch(s){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tD(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function nD(n,a,s){let i=await Promise.all(n.map(async l=>{let c=a.routes[l.route.id];if(c){let d=await eD(c,s);return d.links?d.links():[]}return[]}));return oD(i.flat(1).filter(tD).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Nw(n,a,s,i,l,c){let d=(g,f)=>s[f]?g.route.id!==s[f].route.id:!0,h=(g,f)=>{var m;return s[f].pathname!==g.pathname||((m=s[f].route.path)==null?void 0:m.endsWith("*"))&&s[f].params["*"]!==g.params["*"]};return c==="assets"?a.filter((g,f)=>d(g,f)||h(g,f)):c==="data"?a.filter((g,f)=>{var y;let m=i.routes[g.route.id];if(!m||!m.hasLoader)return!1;if(d(g,f)||h(g,f))return!0;if(g.route.shouldRevalidate){let v=g.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((y=s[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function rD(n,a,{includeHydrateFallback:s}={}){return aD(n.map(i=>{let l=a.routes[i.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),s&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function aD(n){return[...new Set(n)]}function sD(n){let a={},s=Object.keys(n).sort();for(let i of s)a[i]=n[i];return a}function oD(n,a){let s=new Set;return new Set(a),n.reduce((i,l)=>{let c=JSON.stringify(sD(l));return s.has(c)||(s.add(c),i.push({key:c,link:l})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var iD=new Set([100,101,204,205]);function lD(n,a){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s.pathname==="/"?s.pathname="_root.data":a&&Pn(s.pathname,a)==="/"?s.pathname=`${a.replace(/\/$/,"")}/_root.data`:s.pathname=`${s.pathname.replace(/\/$/,"")}.data`,s}function n3(){let n=R.useContext(Oa);return Ed(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function uD(){let n=R.useContext(jo);return Ed(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Od=R.createContext(void 0);Od.displayName="FrameworkContext";function r3(){let n=R.useContext(Od);return Ed(n,"You must render this element inside a <HydratedRouter> element"),n}function cD(n,a){let s=R.useContext(Od),[i,l]=R.useState(!1),[c,d]=R.useState(!1),{onFocus:h,onBlur:g,onMouseEnter:f,onMouseLeave:m,onTouchStart:y}=a,v=R.useRef(null);R.useEffect(()=>{if(n==="render"&&d(!0),n==="viewport"){let M=E=>{E.forEach(j=>{d(j.isIntersecting)})},U=new IntersectionObserver(M,{threshold:.5});return v.current&&U.observe(v.current),()=>{U.disconnect()}}},[n]),R.useEffect(()=>{if(i){let M=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(M)}}},[i]);let _=()=>{l(!0)},A=()=>{l(!1),d(!1)};return s?n!=="intent"?[c,v,{}]:[c,v,{onFocus:So(h,_),onBlur:So(g,A),onMouseEnter:So(f,_),onMouseLeave:So(m,A),onTouchStart:So(y,_)}]:[!1,v,{}]}function So(n,a){return s=>{n&&n(s),s.defaultPrevented||a(s)}}function dD({page:n,...a}){let{router:s}=n3(),i=R.useMemo(()=>na(s.routes,n,s.basename),[s.routes,n,s.basename]);return i?R.createElement(pD,{page:n,matches:i,...a}):null}function hD(n){let{manifest:a,routeModules:s}=r3(),[i,l]=R.useState([]);return R.useEffect(()=>{let c=!1;return nD(n,a,s).then(d=>{c||l(d)}),()=>{c=!0}},[n,a,s]),i}function pD({page:n,matches:a,...s}){let i=Wn(),{manifest:l,routeModules:c}=r3(),{basename:d}=n3(),{loaderData:h,matches:g}=uD(),f=R.useMemo(()=>Nw(n,a,g,l,i,"data"),[n,a,g,l,i]),m=R.useMemo(()=>Nw(n,a,g,l,i,"assets"),[n,a,g,l,i]),y=R.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let A=new Set,M=!1;if(a.forEach(E=>{var F;let j=l.routes[E.route.id];!j||!j.hasLoader||(!f.some(se=>se.route.id===E.route.id)&&E.route.id in h&&((F=c[E.route.id])!=null&&F.shouldRevalidate)||j.hasClientLoader?M=!0:A.add(E.route.id))}),A.size===0)return[];let U=lD(n,d);return M&&A.size>0&&U.searchParams.set("_routes",a.filter(E=>A.has(E.route.id)).map(E=>E.route.id).join(",")),[U.pathname+U.search]},[d,h,i,l,f,a,n,c]),v=R.useMemo(()=>rD(m,l),[m,l]),_=hD(m);return R.createElement(R.Fragment,null,y.map(A=>R.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...s})),v.map(A=>R.createElement("link",{key:A,rel:"modulepreload",href:A,...s})),_.map(({key:A,link:M})=>R.createElement("link",{key:A,...M})))}function fD(...n){return a=>{n.forEach(s=>{typeof s=="function"?s(a):s!=null&&(s.current=a)})}}var a3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{a3&&(window.__reactRouterVersion="7.6.2")}catch{}function gD(n,a){return tT({basename:a==null?void 0:a.basename,unstable_getContext:a==null?void 0:a.unstable_getContext,future:a==null?void 0:a.future,history:xk({window:a==null?void 0:a.window}),hydrationData:mD(),routes:n,mapRouteProperties:NT,hydrationRouteProperties:UT,dataStrategy:a==null?void 0:a.dataStrategy,patchRoutesOnNavigation:a==null?void 0:a.patchRoutesOnNavigation,window:a==null?void 0:a.window}).initialize()}function mD(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:bD(n.errors)}),n}function bD(n){if(!n)return null;let a=Object.entries(n),s={};for(let[i,l]of a)if(l&&l.__type==="RouteErrorResponse")s[i]=new hl(l.status,l.statusText,l.data,l.internal===!0);else if(l&&l.__type==="Error"){if(l.__subType){let c=window[l.__subType];if(typeof c=="function")try{let d=new c(l.message);d.stack="",s[i]=d}catch{}}if(s[i]==null){let c=new Error(l.message);c.stack="",s[i]=c}}else s[i]=l;return s}var s3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lr=R.forwardRef(function({onClick:a,discover:s="render",prefetch:i="none",relative:l,reloadDocument:c,replace:d,state:h,target:g,to:f,preventScrollReset:m,viewTransition:y,...v},_){let{basename:A}=R.useContext(dr),M=typeof f=="string"&&s3.test(f),U,E=!1;if(typeof f=="string"&&M&&(U=f,a3))try{let Q=new URL(window.location.href),de=f.startsWith("//")?new URL(Q.protocol+f):new URL(f),fe=Pn(de.pathname,A);de.origin===Q.origin&&fe!=null?f=fe+de.search+de.hash:E=!0}catch{Ct(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=_T(f,{relative:l}),[F,se,J]=cD(i,v),T=wD(f,{replace:d,state:h,target:g,preventScrollReset:m,relative:l,viewTransition:y});function pe(Q){a&&a(Q),Q.defaultPrevented||T(Q)}let ve=R.createElement("a",{...v,...J,href:U||j,onClick:E||c?a:pe,ref:fD(_,se),target:g,"data-discover":!M&&s==="render"?"true":void 0});return F&&!M?R.createElement(R.Fragment,null,ve,R.createElement(dD,{page:j})):ve});Lr.displayName="Link";var Md=R.forwardRef(function({"aria-current":a="page",caseSensitive:s=!1,className:i="",end:l=!1,style:c,to:d,viewTransition:h,children:g,...f},m){let y=qo(d,{relative:f.relative}),v=Wn(),_=R.useContext(jo),{navigator:A,basename:M}=R.useContext(dr),U=_!=null&&TD(y)&&h===!0,E=A.encodeLocation?A.encodeLocation(y).pathname:y.pathname,j=v.pathname,F=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;s||(j=j.toLowerCase(),F=F?F.toLowerCase():null,E=E.toLowerCase()),F&&M&&(F=Pn(F,M)||F);const se=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let J=j===E||!l&&j.startsWith(E)&&j.charAt(se)==="/",T=F!=null&&(F===E||!l&&F.startsWith(E)&&F.charAt(E.length)==="/"),pe={isActive:J,isPending:T,isTransitioning:U},ve=J?a:void 0,Q;typeof i=="function"?Q=i(pe):Q=[i,J?"active":null,T?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let de=typeof c=="function"?c(pe):c;return R.createElement(Lr,{...f,"aria-current":ve,className:Q,ref:m,style:de,to:d,viewTransition:h},typeof g=="function"?g(pe):g)});Md.displayName="NavLink";var yD=R.forwardRef(({discover:n="render",fetcherKey:a,navigate:s,reloadDocument:i,replace:l,state:c,method:d=ol,action:h,onSubmit:g,relative:f,preventScrollReset:m,viewTransition:y,...v},_)=>{let A=SD(),M=kD(h,{relative:f}),U=d.toLowerCase()==="get"?"get":"post",E=typeof h=="string"&&s3.test(h),j=F=>{if(g&&g(F),F.defaultPrevented)return;F.preventDefault();let se=F.nativeEvent.submitter,J=(se==null?void 0:se.getAttribute("formmethod"))||d;A(se||F.currentTarget,{fetcherKey:a,method:J,navigate:s,replace:l,state:c,relative:f,preventScrollReset:m,viewTransition:y})};return R.createElement("form",{ref:_,method:U,action:M,onSubmit:i?g:j,...v,"data-discover":!E&&n==="render"?"true":void 0})});yD.displayName="Form";function vD(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function o3(n){let a=R.useContext(Oa);return Ye(a,vD(n)),a}function wD(n,{target:a,replace:s,state:i,preventScrollReset:l,relative:c,viewTransition:d}={}){let h=xT(),g=Wn(),f=qo(n,{relative:c});return R.useCallback(m=>{if(ZT(m,a)){m.preventDefault();let y=s!==void 0?s:ra(g)===ra(f);h(n,{replace:y,state:i,preventScrollReset:l,relative:c,viewTransition:d})}},[g,h,f,s,i,a,n,l,c,d])}var _D=0,xD=()=>`__${String(++_D)}__`;function SD(){let{router:n}=o3("useSubmit"),{basename:a}=R.useContext(dr),s=IT();return R.useCallback(async(i,l={})=>{let{action:c,method:d,encType:h,formData:g,body:f}=$T(i,a);if(l.navigate===!1){let m=l.fetcherKey||xD();await n.fetch(m,s,l.action||c,{preventScrollReset:l.preventScrollReset,formData:g,body:f,formMethod:l.method||d,formEncType:l.encType||h,flushSync:l.flushSync})}else await n.navigate(l.action||c,{preventScrollReset:l.preventScrollReset,formData:g,body:f,formMethod:l.method||d,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:s,flushSync:l.flushSync,viewTransition:l.viewTransition})},[n,a,s])}function kD(n,{relative:a}={}){let{basename:s}=R.useContext(dr),i=R.useContext(Xn);Ye(i,"useFormAction must be used inside a RouteContext");let[l]=i.matches.slice(-1),c={...qo(n||".",{relative:a})},d=Wn();if(n==null){c.search=d.search;let h=new URLSearchParams(c.search),g=h.getAll("index");if(g.some(m=>m==="")){h.delete("index"),g.filter(y=>y).forEach(y=>h.append("index",y));let m=h.toString();c.search=m?`?${m}`:""}}return(!n||n===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(c.pathname=c.pathname==="/"?s:ur([s,c.pathname])),ra(c)}function TD(n,a={}){let s=R.useContext(Td);Ye(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=o3("useViewTransitionState"),l=qo(n,{relative:a.relative});if(!s.isTransitioning)return!1;let c=Pn(s.currentLocation.pathname,i)||s.currentLocation.pathname,d=Pn(s.nextLocation.pathname,i)||s.nextLocation.pathname;return dl(l.pathname,d)!=null||dl(l.pathname,c)!=null}[...iD];var DD=P_();/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function CD(n){return R.createElement(FT,{flushSync:DD.flushSync,...n})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ld=function(){return ld=Object.assign||function(a){for(var s,i=1,l=arguments.length;i<l;i++){s=arguments[i];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(a[c]=s[c])}return a},ld.apply(this,arguments)};function AD(n,a){var s={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&a.indexOf(i)<0&&(s[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(n);l<i.length;l++)a.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(n,i[l])&&(s[i[l]]=n[i[l]]);return s}var vs="",Mo=null,ll=null,i3=null;function Ld(){vs="",Mo!==null&&Mo.disconnect(),ll!==null&&(window.clearTimeout(ll),ll=null)}function Uw(n){var a=["BUTTON","INPUT","SELECT","TEXTAREA"],s=["A","AREA"];return a.includes(n.tagName)&&!n.hasAttribute("disabled")||s.includes(n.tagName)&&n.hasAttribute("href")}function jw(){var n=null;if(vs==="#")n=document.body;else{var a=vs.replace("#","");n=document.getElementById(a),n===null&&vs==="#top"&&(n=document.body)}if(n!==null){i3(n);var s=n.getAttribute("tabindex");return s===null&&!Uw(n)&&n.setAttribute("tabindex",-1),n.focus({preventScroll:!0}),s===null&&!Uw(n)&&(n.blur(),n.removeAttribute("tabindex")),Ld(),!0}return!1}function ED(n){window.setTimeout(function(){jw()===!1&&(Mo===null&&(Mo=new MutationObserver(jw)),Mo.observe(document,{attributes:!0,childList:!0,subtree:!0}),ll=window.setTimeout(function(){Ld()},n||1e4))},0)}function l3(n){return uw.forwardRef(function(a,s){var i="";typeof a.to=="string"&&a.to.includes("#")?i="#"+a.to.split("#").slice(1).join("#"):typeof a.to=="object"&&typeof a.to.hash=="string"&&(i=a.to.hash);var l={};n===Md&&(l.isActive=function(h,g){return h&&h.isExact&&g.hash===i});function c(h){Ld(),vs=a.elementId?"#"+a.elementId:i,a.onClick&&a.onClick(h),vs!==""&&!h.defaultPrevented&&h.button===0&&(!a.target||a.target==="_self")&&!(h.metaKey||h.altKey||h.ctrlKey||h.shiftKey)&&(i3=a.scroll||function(g){return a.smooth?g.scrollIntoView({behavior:"smooth"}):g.scrollIntoView()},ED(a.timeout))}var d=AD(a,["scroll","smooth","timeout","elementId"]);return uw.createElement(n,ld({},l,d,{onClick:c,ref:s}),a.children)})}var Oo=l3(Lr);l3(Md);function OD(){const a=Wn().pathname;return D.jsx("nav",{id:"menu-header",children:D.jsxs("ul",{children:[D.jsx("li",{className:a==="/"?"menu-header-highlight":"menu-header",children:D.jsx(Oo,{to:"/",children:"ABOUT"})}),D.jsx("li",{className:a.includes("/portfolio")?"menu-header-highlight":"menu-header",children:D.jsx(Oo,{to:"/portfolio",children:"PORTFOLIO"})}),D.jsx("li",{className:a.includes("/blog")?"menu-header-highlight":"menu-header",children:D.jsx(Oo,{to:"/blog",children:"BLOG"})}),D.jsx("li",{className:a.includes("/readings")?"menu-header-highlight":"menu-header",children:D.jsx(Oo,{to:"/readings",children:"READINGS"})})]})})}const MD="modulepreload",LD=function(n){return"/"+n},Fw={},ps=function(a,s,i){let l=Promise.resolve();if(s&&s.length>0){let d=function(f){return Promise.all(f.map(m=>Promise.resolve(m).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),g=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));l=d(s.map(f=>{if(f=LD(f),f in Fw)return;Fw[f]=!0;const m=f.endsWith(".css"),y=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${y}`))return;const v=document.createElement("link");if(v.rel=m?"stylesheet":MD,m||(v.as="script"),v.crossOrigin="",v.href=f,g&&v.setAttribute("nonce",g),document.head.appendChild(v),m)return new Promise((_,A)=>{v.addEventListener("load",_),v.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${f}`)))})}))}function c(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return l.then(d=>{for(const h of d||[])h.status==="rejected"&&c(h.reason);return a().catch(c)})},zD="/assets/avatar-vertical-transparent-bg-DDp9KiZP.png",RD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVEAAACJBAMAAABnQhaHAAAAG1BMVEX////n5+fX2Nff4N/HyMfv7+/P0M/39/fAwb/0oz3zAAAAAXRSTlMAQObYZgAAAZZJREFUeJzt27tOwzAUgGFzEWHkEbrB2IXLWKEKMiIWGDsgmrESl3ZE0IsfG4WQpGnOcZVIroP4//Eojr8QkKgqG0NERERE/zObt2q+9uXJVrs++ZnfDzfmN5fVhdFFbOsNz31J9+ubzVPqu6DoVVaeCVekjf1Io0TY68uYPcmwnKytlB4le9A7L9IjcbO+eRTno7WV0iNm3XqRXol7LUwszj/LhQcq1C59SCNlL81Rvv6ZLrWO199aqolelXm/WCm/jKyeB6n8a2qt5hgVKxOHdOBBeqjsFW81aFekfXiQHjv2cxtcVzkUSJEiRYoUaWPpw/S3WX305pIu8qumO5JOHKPyf0NBunKNkCJFihQpUqRIkSJF+uelQkiRIkWKFClSpEiRIkUaQMp3J0iRIkWKtBg95427Lm35c0eKFClSpJq02eeCkFIhpEiRIkWKNKQ0dkjLO3VBmjikg05JW55LCyBtedYvgLTl+ckA0pZnUkNItQONdl7cuyNS9W/qtCnUu1Q5j75xar0LUiIiIiIiIiIi2tI3lF4vTER7mbIAAAAASUVORK5CYII=",ID="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOAAAACJBAMAAADH+ClAAAAAG1BMVEX////X2Nfv7+/f4N/n5+fHyMfP0M/39/fAwb+yfcs9AAAAAXRSTlMAQObYZgAAAbxJREFUaIHt2rFPg1AQBnAaU3Xs5sqmo3FyZGRsYqIri8kbTRx0lCqVP9vp3d3jgWLgu3T4vqnvCPzacOlRSlEwDMMwzOmlj/mWUpBaJ7VLqb0sLOXghZT6LxfwTMG9C7hV8NYFvFFQPCgYpPTpApqe0cZFgqZndi6g6RnZCwrWUmnVQ4Ihq2BB0zONC2h6pnQBtWeOxgOCtRQOPmCQQuMCmp6pXEDtGR2+UFB7RocvFKxlrcMXCgZZVy6g9kx6CmHgRpZm+CLBbbrEg7Us9foJCoZ8DyioPWOHLxDcJCsHULea6yckWOc7YMEQF8nwxYHaM8nwxYHaM40PqBtLH7COrwff3DAwxNfp8IWB2jPp8IWB2jOVBzjI490icCR/gH1/5Q12pTPYP3mDR2/Qft/4gDtvcO8NfniDC24MESRIkOAYeHiLWQO8jgd7nwT16GuAc38BEyRIkCBBggRPE5y+eACBIyFIkCDBVUDz0Euekbe1GDz/xfvf028zQfNMSJYWAZonGLIcEGBxPw02EHD6JHZy8FVB8/fwIObW+KrgVNu0+gHXBYvX5xGuezDezMschmEYhmEYhmHg+QGLtOzQiRVWKgAAAABJRU5ErkJggg==",PD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALcAAACJBAMAAACcMLRxAAAAGFBMVEX////X2Nfv7+/HyMfP0M/f4N/39/fAwb+AxnliAAAAAXRSTlMAQObYZgAAAQRJREFUaIHt2LsKwkAQheE0Wltpm0cQlOQNtJegrYVoKyq7r2+1IZDZcXCdYPGfMpz5imRz2VQVIYSQ6TLv2jjO5jDsCAWtFfpDq8zgzoBnWj1+yY09awsutnp8n51rLLjYSvgsP/Yy4VIr4TdlrrbgUivhJ2VsYcKFVsLzpzzGtQkXWglvlbG7CRdawTAWTLjQAgcH/zX+uKZoY7bWCFc6Xx8CBwcHBwe340L+4AXt+gmtfPyX48q2pRyvHXFtq1iMN464uj0vxZeVG/7hl0gZvj064sNV7nFBz46461L0vYlcb3/fB5frI9fysmA3Bw4ODg4ODg4ODg4ODk4IIYQQQibJG6M05SwabFWGAAAAAElFTkSuQmCC",BD="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20id='Layer_1'%20data-name='Layer%201'%20viewBox='0%200%2024%2024'%20width='512'%20height='512'%20style='fill:%2333A0FF'%3e%3cdefs%3e%3cfilter%20id='blue-shadow'%3e%3cfeDropShadow%20dx='0'%20dy='0'%20stdDeviation='0.5'%20flood-color='%2366B3FF'/%3e%3c/filter%3e%3c/defs%3e%3cg%20filter='url(%23blue-shadow)'%3e%3cpath%20d='M3,21.976a1,1,0,0,1-1-1V0H0V20.976a3,3,0,0,0,3,3H24v-2Z'/%3e%3crect%20x='5'%20y='12'%20width='2'%20height='7'/%3e%3crect%20x='10'%20y='10'%20width='2'%20height='9'/%3e%3crect%20x='15'%20y='13'%20width='2'%20height='6'/%3e%3crect%20x='20'%20y='9'%20width='2'%20height='10'/%3e%3cpolygon%20points='11%204.414%2016%209.414%2023.707%201.707%2022.293%200.293%2016%206.586%2011%201.586%205.293%207.293%206.707%208.707%2011%204.414'/%3e%3c/g%3e%3c/svg%3e",ND="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='512'%20height='512'%3e%3cdefs%3e%3cfilter%20id='blue-glow'%3e%3cfeGaussianBlur%20in='SourceAlpha'%20stdDeviation='0.5'/%3e%3cfeOffset%20dx='0'%20dy='0'%20result='offsetblur'/%3e%3cfeFlood%20flood-color='%2366B3FF'/%3e%3cfeComposite%20in2='offsetblur'%20operator='in'/%3e%3cfeMerge%3e%3cfeMergeNode/%3e%3cfeMergeNode%20in='SourceGraphic'/%3e%3c/feMerge%3e%3c/filter%3e%3c/defs%3e%3cg%20id='_01_align_center'%20data-name='01%20align%20center'%20style='fill:%2333A0FF'%20filter='url(%23blue-glow)'%3e%3cpath%20d='M5,19H9.414L23.057,5.357a3.125,3.125,0,0,0,0-4.414,3.194,3.194,0,0,0-4.414,0L5,14.586Zm2-3.586L20.057,2.357a1.148,1.148,0,0,1,1.586,0,1.123,1.123,0,0,1,0,1.586L8.586,17H7Z'/%3e%3cpath%20d='M23.621,7.622,22,9.243V16H16v6H2V3A1,1,0,0,1,3,2H14.758L16.379.379A5.013,5.013,0,0,1,16.84,0H3A3,3,0,0,0,0,3V24H18.414L24,18.414V7.161A5.15,5.15,0,0,1,23.621,7.622ZM18,21.586V18h3.586Z'/%3e%3c/g%3e%3c/svg%3e",UD="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20id='Layer_1'%20data-name='Layer%201'%20viewBox='0%200%2024%2024'%20width='512'%20height='512'%20style='fill:%2333A0FF'%3e%3cdefs%3e%3cfilter%20id='blue-shadow'%3e%3cfeDropShadow%20dx='0'%20dy='0'%20stdDeviation='0.5'%20flood-color='%2366B3FF'/%3e%3c/filter%3e%3c/defs%3e%3cg%20filter='url(%23blue-shadow)'%3e%3cpath%20d='M21,24H16V22h5a1,1,0,0,0,1-1V16h2v5A3,3,0,0,1,21,24Z'/%3e%3cpath%20d='M2,8H0V3A3,3,0,0,1,3,0H8V2H3A1,1,0,0,0,2,3Z'/%3e%3cpath%20d='M8,24H3a3,3,0,0,1-3-3V16H2v5a1,1,0,0,0,1,1H8Z'/%3e%3cpath%20d='M24,8H22V3a1,1,0,0,0-1-1H16V0h5a3,3,0,0,1,3,3Z'/%3e%3cpath%20d='M12,11a4,4,0,1,1,4-4A4,4,0,0,1,12,11Zm0-6a2,2,0,1,0,2,2A2,2,0,0,0,12,5Z'/%3e%3cpath%20d='M19,20H17V16a1,1,0,0,0-1-1H8a1,1,0,0,0-1,1v4H5V16a3,3,0,0,1,3-3h8a3,3,0,0,1,3,3Z'/%3e%3c/g%3e%3c/svg%3e",jD="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20id='Layer_1'%20data-name='Layer%201'%20viewBox='0%200%2024%2024'%20width='512'%20height='512'%20style='fill:%2333A0FF'%3e%3cdefs%3e%3cfilter%20id='blue-shadow'%3e%3cfeDropShadow%20dx='0'%20dy='0'%20stdDeviation='0.5'%20flood-color='%2366B3FF'/%3e%3c/filter%3e%3c/defs%3e%3cg%20filter='url(%23blue-shadow)'%3e%3cpath%20d='M24,4.591V20.688l-12,3.332L0,20.688V4.591c0-.771,.339-1.496,.931-1.989,.021-.018,.047-.029,.069-.046V19.928l11,3.053,11-3.053V2.556c.022,.017,.047,.028,.069,.046,.592,.494,.931,1.219,.931,1.989ZM12,21.02l-9-2.572V3.501c0-.792,.363-1.519,.995-1.996,.633-.477,1.432-.624,2.192-.408l4.189,1.197c.679,.194,1.247,.624,1.624,1.185,.377-.561,.945-.991,1.624-1.185l4.189-1.197c.76-.217,1.56-.069,2.192,.408,.632,.477,.995,1.205,.995,1.996v14.947l-9,2.572Zm.5-1.183l7.5-2.143V3.501c0-.475-.218-.912-.597-1.198-.265-.199-.579-.303-.899-.303-.139,0-.278,.02-.416,.059l-4.19,1.197c-.823,.235-1.398,.998-1.398,1.854v14.727Zm-1-14.727c0-.857-.575-1.62-1.398-1.854l-4.189-1.197c-.457-.131-.935-.042-1.315,.244-.379,.286-.597,.723-.597,1.198v14.193l7.5,2.143V5.11Z'/%3e%3c/g%3e%3c/svg%3e",Hw="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20id='Layer_1'%20data-name='Layer%201'%20viewBox='0%200%2024%2024'%20width='512'%20height='512'%20style='fill:%23ffffff'%3e%3cdefs%3e%3cfilter%20id='white-shadow'%3e%3cfeDropShadow%20dx='0'%20dy='0'%20stdDeviation='0.5'%20flood-color='%23ffffff'/%3e%3c/filter%3e%3c/defs%3e%3cg%20filter='url(%23white-shadow)'%3e%3cpath%20d='M3,21.976a1,1,0,0,1-1-1V0H0V20.976a3,3,0,0,0,3,3H24v-2Z'/%3e%3crect%20x='5'%20y='12'%20width='2'%20height='7'/%3e%3crect%20x='10'%20y='10'%20width='2'%20height='9'/%3e%3crect%20x='15'%20y='13'%20width='2'%20height='6'/%3e%3crect%20x='20'%20y='9'%20width='2'%20height='10'/%3e%3cpolygon%20points='11%204.414%2016%209.414%2023.707%201.707%2022.293%200.293%2016%206.586%2011%201.586%205.293%207.293%206.707%208.707%2011%204.414'/%3e%3c/g%3e%3c/svg%3e",qw="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='512'%20height='512'%3e%3cdefs%3e%3cfilter%20id='white-glow'%3e%3cfeGaussianBlur%20in='SourceAlpha'%20stdDeviation='0.5'/%3e%3cfeOffset%20dx='0'%20dy='0'%20result='offsetblur'/%3e%3cfeFlood%20flood-color='%23ffffff'/%3e%3cfeComposite%20in2='offsetblur'%20operator='in'/%3e%3cfeMerge%3e%3cfeMergeNode/%3e%3cfeMergeNode%20in='SourceGraphic'/%3e%3c/feMerge%3e%3c/filter%3e%3c/defs%3e%3cg%20id='_01_align_center'%20data-name='01%20align%20center'%20style='fill:%23ffffff'%20filter='url(%23white-glow)'%3e%3cpath%20d='M5,19H9.414L23.057,5.357a3.125,3.125,0,0,0,0-4.414,3.194,3.194,0,0,0-4.414,0L5,14.586Zm2-3.586L20.057,2.357a1.148,1.148,0,0,1,1.586,0,1.123,1.123,0,0,1,0,1.586L8.586,17H7Z'/%3e%3cpath%20d='M23.621,7.622,22,9.243V16H16v6H2V3A1,1,0,0,1,3,2H14.758L16.379.379A5.013,5.013,0,0,1,16.84,0H3A3,3,0,0,0,0,3V24H18.414L24,18.414V7.161A5.15,5.15,0,0,1,23.621,7.622ZM18,21.586V18h3.586Z'/%3e%3c/g%3e%3c/svg%3e",Vw="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20id='Layer_1'%20data-name='Layer%201'%20viewBox='0%200%2024%2024'%20width='512'%20height='512'%20style='fill:%23ffffff'%3e%3cdefs%3e%3cfilter%20id='white-shadow'%3e%3cfeDropShadow%20dx='0'%20dy='0'%20stdDeviation='0.5'%20flood-color='%23ffffff'/%3e%3c/filter%3e%3c/defs%3e%3cg%20filter='url(%23white-shadow)'%3e%3cpath%20d='M21,24H16V22h5a1,1,0,0,0,1-1V16h2v5A3,3,0,0,1,21,24Z'/%3e%3cpath%20d='M2,8H0V3A3,3,0,0,1,3,0H8V2H3A1,1,0,0,0,2,3Z'/%3e%3cpath%20d='M8,24H3a3,3,0,0,1-3-3V16H2v5a1,1,0,0,0,1,1H8Z'/%3e%3cpath%20d='M24,8H22V3a1,1,0,0,0-1-1H16V0h5a3,3,0,0,1,3,3Z'/%3e%3cpath%20d='M12,11a4,4,0,1,1,4-4A4,4,0,0,1,12,11Zm0-6a2,2,0,1,0,2,2A2,2,0,0,0,12,5Z'/%3e%3cpath%20d='M19,20H17V16a1,1,0,0,0-1-1H8a1,1,0,0,0-1,1v4H5V16a3,3,0,0,1,3-3h8a3,3,0,0,1,3,3Z'/%3e%3c/g%3e%3c/svg%3e",Gw="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20id='Layer_1'%20data-name='Layer%201'%20viewBox='0%200%2024%2024'%20width='512'%20height='512'%20style='fill:%23ffffff'%3e%3cdefs%3e%3cfilter%20id='white-shadow'%3e%3cfeDropShadow%20dx='0'%20dy='0'%20stdDeviation='0.5'%20flood-color='%23ffffff'/%3e%3c/filter%3e%3c/defs%3e%3cg%20filter='url(%23white-shadow)'%3e%3cpath%20d='M24,4.591V20.688l-12,3.332L0,20.688V4.591c0-.771,.339-1.496,.931-1.989,.021-.018,.047-.029,.069-.046V19.928l11,3.053,11-3.053V2.556c.022,.017,.047,.028,.069,.046,.592,.494,.931,1.219,.931,1.989ZM12,21.02l-9-2.572V3.501c0-.792,.363-1.519,.995-1.996,.633-.477,1.432-.624,2.192-.408l4.189,1.197c.679,.194,1.247,.624,1.624,1.185,.377-.561,.945-.991,1.624-1.185l4.189-1.197c.76-.217,1.56-.069,2.192,.408,.632,.477,.995,1.205,.995,1.996v14.947l-9,2.572Zm.5-1.183l7.5-2.143V3.501c0-.475-.218-.912-.597-1.198-.265-.199-.579-.303-.899-.303-.139,0-.278,.02-.416,.059l-4.19,1.197c-.823,.235-1.398,.998-1.398,1.854v14.727Zm-1-14.727c0-.857-.575-1.62-1.398-1.854l-4.189-1.197c-.457-.131-.935-.042-1.315,.244-.379,.286-.597,.723-.597,1.198v14.193l7.5,2.143V5.11Z'/%3e%3c/g%3e%3c/svg%3e",FD="data:image/svg+xml,%3c?xml%20version='1.0'?%3e%3csvg%20height='72'%20viewBox='0%200%2072%2072'%20width='72'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20fill='none'%20fill-rule='evenodd'%3e%3cpath%20d='M8,72%20L64,72%20C68.418278,72%2072,68.418278%2072,64%20L72,8%20C72,3.581722%2068.418278,0%2064,0%20L8,0%20C3.581722,0%200,3.581722%200,8%20L0,64%20C0,68.418278%203.581722,72%208,72%20Z'%20fill='none'/%3e%3cpath%20d='M62,62%20L51.315625,62%20L51.315625,43.8021149%20C51.315625,38.8127542%2049.4197917,36.0245323%2045.4707031,36.0245323%20C41.1746094,36.0245323%2038.9300781,38.9261103%2038.9300781,43.8021149%20L38.9300781,62%20L28.6333333,62%20L28.6333333,27.3333333%20L38.9300781,27.3333333%20L38.9300781,32.0029283%20C38.9300781,32.0029283%2042.0260417,26.2742151%2049.3825521,26.2742151%20C56.7356771,26.2742151%2062,30.7644705%2062,40.051212%20L62,62%20Z%20M16.349349,22.7940133%20C12.8420573,22.7940133%2010,19.9296567%2010,16.3970067%20C10,12.8643566%2012.8420573,10%2016.349349,10%20C19.8566406,10%2022.6970052,12.8643566%2022.6970052,16.3970067%20C22.6970052,19.9296567%2019.8566406,22.7940133%2016.349349,22.7940133%20Z%20M11.0325521,62%20L21.769401,62%20L21.769401,27.3333333%20L11.0325521,27.3333333%20L11.0325521,62%20Z'%20fill='%2333A0FF'/%3e%3c/g%3e%3c/svg%3e",HD="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='100px'%20height='100px'%3e%3cpath%20d='M%205.9199219%206%20L%2020.582031%2027.375%20L%206.2304688%2044%20L%209.4101562%2044%20L%2021.986328%2029.421875%20L%2031.986328%2044%20L%2044%2044%20L%2028.681641%2021.669922%20L%2042.199219%206%20L%2039.029297%206%20L%2027.275391%2019.617188%20L%2017.933594%206%20L%205.9199219%206%20z%20M%209.7167969%208%20L%2016.880859%208%20L%2040.203125%2042%20L%2033.039062%2042%20L%209.7167969%208%20z'%20fill='%2333A0FF'/%3e%3c/svg%3e",qD="data:image/svg+xml,%3csvg%20width='1024'%20height='1024'%20viewBox='0%200%201024%201024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M8%200C3.58%200%200%203.58%200%208C0%2011.54%202.29%2014.53%205.47%2015.59C5.87%2015.66%206.02%2015.42%206.02%2015.21C6.02%2015.02%206.01%2014.39%206.01%2013.72C4%2014.09%203.48%2013.23%203.32%2012.78C3.23%2012.55%202.84%2011.84%202.5%2011.65C2.22%2011.5%201.82%2011.13%202.49%2011.12C3.12%2011.11%203.57%2011.7%203.72%2011.94C4.44%2013.15%205.59%2012.81%206.05%2012.6C6.12%2012.08%206.33%2011.73%206.56%2011.53C4.78%2011.33%202.92%2010.64%202.92%207.58C2.92%206.71%203.23%205.99%203.74%205.43C3.66%205.23%203.38%204.41%203.82%203.31C3.82%203.31%204.49%203.1%206.02%204.13C6.66%203.95%207.34%203.86%208.02%203.86C8.7%203.86%209.38%203.95%2010.02%204.13C11.55%203.09%2012.22%203.31%2012.22%203.31C12.66%204.41%2012.38%205.23%2012.3%205.43C12.81%205.99%2013.12%206.7%2013.12%207.58C13.12%2010.65%2011.25%2011.33%209.47%2011.53C9.76%2011.78%2010.01%2012.26%2010.01%2013.01C10.01%2014.08%2010%2014.94%2010%2015.21C10%2015.42%2010.15%2015.67%2010.55%2015.59C13.71%2014.53%2016%2011.53%2016%208C16%203.58%2012.42%200%208%200Z'%20transform='scale(64)'%20fill='%2333A0FF'/%3e%3c/svg%3e",VD="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='630px'%20height='630px'%20viewBox='0%200%20630%20630'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3ctitle%3ePBI%20Logo%3c/title%3e%3cdesc%3eConverted%20to%20a%20blue%20monochrome%20gradient%20based%20on%20%2333A0FF.%3c/desc%3e%3cdefs%3e%3clinearGradient%20x1='50%25'%20y1='0%25'%20x2='50%25'%20y2='100%25'%20id='linearGradient-1'%3e%3cstop%20stop-color='%2366B3FF'%20offset='0%25'%3e%3c/stop%3e%3cstop%20stop-color='%233388FF'%20offset='100%25'%3e%3c/stop%3e%3c/linearGradient%3e%3clinearGradient%20x1='50%25'%20y1='0%25'%20x2='50%25'%20y2='100%25'%20id='linearGradient-2'%3e%3cstop%20stop-color='%2366B3FF'%20offset='0%25'%3e%3c/stop%3e%3cstop%20stop-color='%233399FF'%20offset='100%25'%3e%3c/stop%3e%3c/linearGradient%3e%3cpath%20d='M346,604%20L346,630%20L320,630%20L153,630%20C138.640597,630%20127,618.359403%20127,604%20L127,183%20C127,168.640597%20138.640597,157%20153,157%20L320,157%20C334.359403,157%20346,168.640597%20346,183%20L346,604%20Z'%20id='path-3'%3e%3c/path%3e%3cfilter%20x='-9.1%25'%20y='-6.3%25'%20width='136.5%25'%20height='116.9%25'%20filterUnits='objectBoundingBox'%20id='filter-4'%3e%3cfeOffset%20dx='20'%20dy='10'%20in='SourceAlpha'%20result='shadowOffsetOuter1'%3e%3c/feOffset%3e%3cfeGaussianBlur%20stdDeviation='10'%20in='shadowOffsetOuter1'%20result='shadowBlurOuter1'%3e%3c/feGaussianBlur%3e%3cfeColorMatrix%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.15%200'%20type='matrix'%20in='shadowBlurOuter1'%3e%3c/feColorMatrix%3e%3c/filter%3e%3clinearGradient%20x1='50%25'%20y1='0%25'%20x2='50%25'%20y2='100%25'%20id='linearGradient-5'%3e%3cstop%20stop-color='%2366B3FF'%20offset='0%25'%3e%3c/stop%3e%3cstop%20stop-color='%2333A0FF'%20offset='100%25'%3e%3c/stop%3e%3c/linearGradient%3e%3c/defs%3e%3cg%20id='PBI-Logo'%20stroke='none'%20stroke-width='1'%20fill='none'%20fill-rule='evenodd'%3e%3cg%20id='Group'%20transform='translate(77.500000,%200.000000)'%3e%3crect%20id='Rectangle'%20fill='url(%23linearGradient-1)'%20x='256'%20y='0'%20width='219'%20height='630'%20rx='26'%3e%3c/rect%3e%3cg%20id='Combined-Shape'%3e%3cuse%20fill='black'%20fill-opacity='1'%20filter='url(%23filter-4)'%20xlink:href='%23path-3'%3e%3c/use%3e%3cuse%20fill='url(%23linearGradient-2)'%20fill-rule='evenodd'%20xlink:href='%23path-3'%3e%3c/use%3e%3c/g%3e%3cpath%20d='M219,604%20L219,630%20L193,630%20L26,630%20C11.6405965,630%201.75851975e-15,618.359403%200,604%20L0,341%20C-1.75851975e-15,326.640597%2011.6405965,315%2026,315%20L193,315%20C207.359403,315%20219,326.640597%20219,341%20L219,604%20Z'%20id='Combined-Shape'%20fill='url(%23linearGradient-5)'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/svg%3e",GD="data:image/svg+xml,%3csvg%20height='2467'%20width='2500'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2060.3%2059.5'%3e%3cpath%20d='M28.5%2040.2h3.3v-9h8.3V28h-8.3v-9h-3.3v9h-8.2v3.2h8.2z'%20fill='%2333A0FF'/%3e%3cpath%20d='M13.2%2053.2H16v-8h7.4v-2.5H16v-8.1h-2.8v8.1H5.8v2.5h7.4z'%20fill='%233FA6FF'/%3e%3cpath%20d='M44.3%2024.3h2.8v-8h7.5v-2.4h-7.5V5.8h-2.8v8.1h-7.4v2.4h7.4z'%20fill='%234CACFF'/%3e%3cpath%20d='M29%2059.5h2.4v-5.7h5.1v-2.1h-5.1V46H29v5.7h-5v2.1h5z'%20fill='%2355B2FF'/%3e%3cpath%20d='M13.3%2024.3h2.6v-8.1h7.5v-2.3h-7.5V5.8h-2.6v8.1H5.8v2.3h7.5z'%20fill='%2366B3FF'/%3e%3cpath%20d='M52.8%2036.3h2.4v-5.6h5.1v-2.2h-5.1v-5.6h-2.4v5.6h-5v2.2h5z'%20fill='%234CACFF'/%3e%3cpath%20clip-rule='evenodd'%20d='M44.3%2053.2h2.8v-8h7.5v-2.5h-7.5v-8.1h-2.8v8.1h-7.4v2.5h7.4z'%20fill='%2333A0FF'%20fill-rule='evenodd'/%3e%3cpath%20d='M36.1%207.2V5.5h-5V0h-1.8v5.5h-5v1.7h5v5.5h1.8V7.2zM5%2035.9h1.8v-5.5h5v-1.7h-5v-5.4H5v5.4H0v1.8l5-.1z'%20fill='%2355B2FF'/%3e%3c/svg%3e",YD="data:image/svg+xml,%3c?xml%20version='1.0'?%3e%3csvg%20height='72'%20viewBox='0%200%2072%2072'%20width='72'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20fill='none'%20fill-rule='evenodd'%3e%3cpath%20d='M8,72%20L64,72%20C68.418278,72%2072,68.418278%2072,64%20L72,8%20C72,3.581722%2068.418278,0%2064,0%20L8,0%20C3.581722,0%200,3.581722%200,8%20L0,64%20C0,68.418278%203.581722,72%208,72%20Z'%20fill='none'/%3e%3cpath%20d='M62,62%20L51.315625,62%20L51.315625,43.8021149%20C51.315625,38.8127542%2049.4197917,36.0245323%2045.4707031,36.0245323%20C41.1746094,36.0245323%2038.9300781,38.9261103%2038.9300781,43.8021149%20L38.9300781,62%20L28.6333333,62%20L28.6333333,27.3333333%20L38.9300781,27.3333333%20L38.9300781,32.0029283%20C38.9300781,32.0029283%2042.0260417,26.2742151%2049.3825521,26.2742151%20C56.7356771,26.2742151%2062,30.7644705%2062,40.051212%20L62,62%20Z%20M16.349349,22.7940133%20C12.8420573,22.7940133%2010,19.9296567%2010,16.3970067%20C10,12.8643566%2012.8420573,10%2016.349349,10%20C19.8566406,10%2022.6970052,12.8643566%2022.6970052,16.3970067%20C22.6970052,19.9296567%2019.8566406,22.7940133%2016.349349,22.7940133%20Z%20M11.0325521,62%20L21.769401,62%20L21.769401,27.3333333%20L11.0325521,27.3333333%20L11.0325521,62%20Z'%20fill='white'/%3e%3c/g%3e%3c/svg%3e",QD="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='100px'%20height='100px'%3e%3cpath%20d='M%205.9199219%206%20L%2020.582031%2027.375%20L%206.2304688%2044%20L%209.4101562%2044%20L%2021.986328%2029.421875%20L%2031.986328%2044%20L%2044%2044%20L%2028.681641%2021.669922%20L%2042.199219%206%20L%2039.029297%206%20L%2027.275391%2019.617188%20L%2017.933594%206%20L%205.9199219%206%20z%20M%209.7167969%208%20L%2016.880859%208%20L%2040.203125%2042%20L%2033.039062%2042%20L%209.7167969%208%20z'%20fill='white'/%3e%3c/svg%3e",XD="data:image/svg+xml,%3csvg%20width='1024'%20height='1024'%20viewBox='0%200%201024%201024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M8%200C3.58%200%200%203.58%200%208C0%2011.54%202.29%2014.53%205.47%2015.59C5.87%2015.66%206.02%2015.42%206.02%2015.21C6.02%2015.02%206.01%2014.39%206.01%2013.72C4%2014.09%203.48%2013.23%203.32%2012.78C3.23%2012.55%202.84%2011.84%202.5%2011.65C2.22%2011.5%201.82%2011.13%202.49%2011.12C3.12%2011.11%203.57%2011.7%203.72%2011.94C4.44%2013.15%205.59%2012.81%206.05%2012.6C6.12%2012.08%206.33%2011.73%206.56%2011.53C4.78%2011.33%202.92%2010.64%202.92%207.58C2.92%206.71%203.23%205.99%203.74%205.43C3.66%205.23%203.38%204.41%203.82%203.31C3.82%203.31%204.49%203.1%206.02%204.13C6.66%203.95%207.34%203.86%208.02%203.86C8.7%203.86%209.38%203.95%2010.02%204.13C11.55%203.09%2012.22%203.31%2012.22%203.31C12.66%204.41%2012.38%205.23%2012.3%205.43C12.81%205.99%2013.12%206.7%2013.12%207.58C13.12%2010.65%2011.25%2011.33%209.47%2011.53C9.76%2011.78%2010.01%2012.26%2010.01%2013.01C10.01%2014.08%2010%2014.94%2010%2015.21C10%2015.42%2010.15%2015.67%2010.55%2015.59C13.71%2014.53%2016%2011.53%2016%208C16%203.58%2012.42%200%208%200Z'%20transform='scale(64)'%20fill='white'/%3e%3c/svg%3e",WD="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='630px'%20height='630px'%20viewBox='0%200%20630%20630'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3ctitle%3ePBI%20Logo%3c/title%3e%3cdesc%3eBrighter%20monochrome%20gradient.%3c/desc%3e%3cdefs%3e%3clinearGradient%20x1='50%25'%20y1='0%25'%20x2='50%25'%20y2='100%25'%20id='linearGradient-1'%3e%3cstop%20stop-color='%23FFFFFF'%20offset='0%25'%3e%3c/stop%3e%3cstop%20stop-color='%23DDDDDD'%20offset='100%25'%3e%3c/stop%3e%3c/linearGradient%3e%3clinearGradient%20x1='50%25'%20y1='0%25'%20x2='50%25'%20y2='100%25'%20id='linearGradient-2'%3e%3cstop%20stop-color='%23FFFFFF'%20offset='0%25'%3e%3c/stop%3e%3cstop%20stop-color='%23EEEEEE'%20offset='100%25'%3e%3c/stop%3e%3c/linearGradient%3e%3cpath%20d='M346,604%20L346,630%20L320,630%20L153,630%20C138.640597,630%20127,618.359403%20127,604%20L127,183%20C127,168.640597%20138.640597,157%20153,157%20L320,157%20C334.359403,157%20346,168.640597%20346,183%20L346,604%20Z'%20id='path-3'%3e%3c/path%3e%3cfilter%20x='-9.1%25'%20y='-6.3%25'%20width='136.5%25'%20height='116.9%25'%20filterUnits='objectBoundingBox'%20id='filter-4'%3e%3cfeOffset%20dx='20'%20dy='10'%20in='SourceAlpha'%20result='shadowOffsetOuter1'%3e%3c/feOffset%3e%3cfeGaussianBlur%20stdDeviation='10'%20in='shadowOffsetOuter1'%20result='shadowBlurOuter1'%3e%3c/feGaussianBlur%3e%3cfeColorMatrix%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.15%200'%20type='matrix'%20in='shadowBlurOuter1'%3e%3c/feColorMatrix%3e%3c/filter%3e%3clinearGradient%20x1='50%25'%20y1='0%25'%20x2='50%25'%20y2='100%25'%20id='linearGradient-5'%3e%3cstop%20stop-color='%23FFFFFF'%20offset='0%25'%3e%3c/stop%3e%3cstop%20stop-color='%23F0F0F0'%20offset='100%25'%3e%3c/stop%3e%3c/linearGradient%3e%3c/defs%3e%3cg%20id='PBI-Logo'%20stroke='none'%20stroke-width='1'%20fill='none'%20fill-rule='evenodd'%3e%3cg%20id='Group'%20transform='translate(77.500000,%200.000000)'%3e%3crect%20id='Rectangle'%20fill='url(%23linearGradient-1)'%20x='256'%20y='0'%20width='219'%20height='630'%20rx='26'%3e%3c/rect%3e%3cg%20id='Combined-Shape'%3e%3cuse%20fill='black'%20fill-opacity='1'%20filter='url(%23filter-4)'%20xlink:href='%23path-3'%3e%3c/use%3e%3cuse%20fill='url(%23linearGradient-2)'%20fill-rule='evenodd'%20xlink:href='%23path-3'%3e%3c/use%3e%3c/g%3e%3cpath%20d='M219,604%20L219,630%20L193,630%20L26,630%20C11.6405965,630%201.75851975e-15,618.359403%200,604%20L0,341%20C-1.75851975e-15,326.640597%2011.6405965,315%2026,315%20L193,315%20C207.359403,315%20219,326.640597%20219,341%20L219,604%20Z'%20id='Combined-Shape'%20fill='url(%23linearGradient-5)'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/svg%3e",ZD="data:image/svg+xml,%3csvg%20height='2467'%20width='2500'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2060.3%2059.5'%3e%3cpath%20d='M28.5%2040.2h3.3v-9h8.3V28h-8.3v-9h-3.3v9h-8.2v3.2h8.2z'%20fill='%23DDDDDD'/%3e%3cpath%20d='M13.2%2053.2H16v-8h7.4v-2.5H16v-8.1h-2.8v8.1H5.8v2.5h7.4z'%20fill='%23EEEEEE'/%3e%3cpath%20d='M44.3%2024.3h2.8v-8h7.5v-2.4h-7.5V5.8h-2.8v8.1h-7.4v2.4h7.4z'%20fill='%23FFFFFF'/%3e%3cpath%20d='M29%2059.5h2.4v-5.7h5.1v-2.1h-5.1V46H29v5.7h-5v2.1h5z'%20fill='%23FFFFFF'/%3e%3cpath%20d='M13.3%2024.3h2.6v-8.1h7.5v-2.3h-7.5V5.8h-2.6v8.1H5.8v2.3h7.5z'%20fill='%23FFFFFF'/%3e%3cpath%20d='M52.8%2036.3h2.4v-5.6h5.1v-2.2h-5.1v-5.6h-2.4v5.6h-5v2.2h5z'%20fill='%23FFFFFF'/%3e%3cpath%20clip-rule='evenodd'%20d='M44.3%2053.2h2.8v-8h7.5v-2.5h-7.5v-8.1h-2.8v8.1h-7.4v2.5h7.4z'%20fill='%23DDDDDD'%20fill-rule='evenodd'/%3e%3cpath%20d='M36.1%207.2V5.5h-5V0h-1.8v5.5h-5v1.7h5v5.5h1.8V7.2zM5%2035.9h1.8v-5.5h5v-1.7h-5v-5.4H5v5.4H0v1.8l5-.1z'%20fill='%23FFFFFF'/%3e%3c/svg%3e",Yw="/assets/neo4j-DAEp3yR2.svg",KD=[{path:"/",script:()=>ps(()=>import("./bg-space-4OESokuI.js"),__vite__mapDeps([0,1]))},{path:"/portfolio",script:()=>ps(()=>import("./bg-space-4OESokuI.js"),__vite__mapDeps([0,1]))},{path:"/blog",script:()=>ps(()=>import("./bg-space-4OESokuI.js"),__vite__mapDeps([0,1]))},{path:"/readings",script:()=>ps(()=>import("./bg-space-4OESokuI.js"),__vite__mapDeps([0,1]))},{path:"/applications",script:()=>ps(()=>import("./bg-space-4OESokuI.js"),__vite__mapDeps([0,1]))},{path:"/test",script:()=>ps(()=>import("./bg-avatarsummon-DJDQF9TU.js"),__vite__mapDeps([2,1]))}];function JD(){const a=Wn().pathname,[s,i]=R.useState(null),l=[{to:"/",label:"ABOUT",defaultIcon:UD,activeIcon:Vw,hoverIcon:Vw,isActive:a==="/"},{to:"/portfolio",label:"PORTFOLIO",defaultIcon:BD,activeIcon:Hw,hoverIcon:Hw,isActive:a.includes("/portfolio")},{to:"/blog",label:"BLOG",defaultIcon:ND,activeIcon:qw,hoverIcon:qw,isActive:a.includes("/blog")},{to:"/readings",label:"READINGS",defaultIcon:jD,activeIcon:Gw,hoverIcon:Gw,isActive:a.includes("/readings")},{to:"/",label:"- - - - -",defaultIcon:null,activeIcon:null,hoverIcon:null,isActive:!1},{to:"/",label:"- - - - -",defaultIcon:null,activeIcon:null,hoverIcon:null,isActive:!1}];return D.jsx("nav",{id:"menu-footer",children:l.map((c,d)=>D.jsxs(Oo,{to:c.to,onMouseEnter:()=>i(d),onMouseLeave:()=>i(null),children:[D.jsx("div",{className:`menu-footer-button-border ${c.isActive?"menu-footer-button-border-highlight":"menu-footer-button-border"}`,children:c.defaultIcon&&D.jsx("img",{src:s===d?c.hoverIcon:c.isActive?c.activeIcon:c.defaultIcon,alt:c.label})}),D.jsx("div",{className:`menu-footer-button-light ${c.isActive?"menu-footer-button-light-highlight":"menu-footer-button-light-white"}`}),D.jsx("h6",{className:c.isActive?"menu-footer":"",children:c.label})]},d))})}const $D=()=>{const{pathname:n}=Wn();R.useEffect(()=>{const a=setTimeout(()=>{window.scrollTo(0,0)},500);return()=>clearTimeout(a)},[n])},Qw=KD.reduce((n,{path:a,script:s})=>(n[a]=s,n),{});function e4(){$D();const n=R.useRef(null),a=Wn(),[s,i]=R.useState(null),l=R.useRef(null);return R.useEffect(()=>{let c=!0;return(async()=>{if(l.current&&(l.current(),l.current=null),n.current)for(;n.current.firstChild;)n.current.removeChild(n.current.firstChild);try{const h=Qw[a.pathname]||Qw["/"];console.log(`Loading background for path: ${a.pathname}`);const g=await h();if(c&&n.current){const f=g.initialiseBackground(n.current);l.current=f,i(a.pathname),console.log(`Background loaded for: ${a.pathname}`)}}catch(h){console.error(`Failed to load background for ${a.pathname}:`,h)}})(),()=>{c=!1,l.current&&(l.current(),l.current=null)}},[a.pathname]),D.jsxs(D.Fragment,{children:[D.jsx(OD,{}),D.jsx("div",{id:"outlet",children:D.jsx(VT,{})}),D.jsx(JD,{}),D.jsx("div",{id:"bg-space",ref:n,style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:-1}})]})}function t4(){return D.jsxs(D.Fragment,{children:[D.jsx("br",{}),D.jsx("br",{}),D.jsx("br",{}),D.jsxs("center",{children:[D.jsx("h2",{children:"Page not found"}),D.jsxs("h4",{children:["Please double-check the URL or return to the ",D.jsx("u",{children:D.jsx("a",{href:"/",children:"main page"})}),"."]})]})]})}const n4=[{name:"Neo4j Graph Data Science",date:"7 November 2023",tech:"Neo4j",logo:Yw,id:"C70E7300-B94F-4E92-9AE1-989E41CB42A8",url:"https://graphacademy.neo4j.com/c/c70e7300-b94f-4e92-9ae1-989e41cb42a8"},{name:"Neo4j Certified Professional",date:"21 October 2023",tech:"Neo4j",logo:Yw,id:"CEA1E9CF-A45D-42AC-A1DB-2EFFE5890AE5",url:"https://graphacademy.neo4j.com/c/cea1e9cf-a45d-42ac-a1db-2effe5890ae5"}],xs=({children:n})=>D.jsxs("div",{className:"panel-corners",children:[D.jsx("div",{className:"panel-corner panel-corner-top-left",alt:"top left corner"}),D.jsx("div",{className:"panel-corner panel-corner-top-right",alt:"top right corner"}),D.jsx("div",{className:"panel-corner panel-corner-bottom-right",alt:"bottom right corner"}),D.jsx("div",{className:"panel-corner panel-corner-bottom-left",alt:"bottom left corner"}),D.jsx("div",{className:"panel-background",children:D.jsx("div",{className:"panel-content",children:n})})]});function r4(){const n=n4;return D.jsxs(D.Fragment,{children:[D.jsx("center",{children:D.jsx("h2",{children:"CERTIFICATIONS"})}),D.jsx("div",{id:"certification-list",children:n.map(a=>D.jsx(Lr,{to:a.url,target:"_blank",alt:a.name,children:D.jsxs(xs,{children:[D.jsx("h5",{children:a.date}),D.jsx("h3",{children:a.name}),D.jsx("h4",{children:a.id}),D.jsx("p",{children:a.url})]})},a.id))})]})}const a4="https://github.com/makuharistudio",s4="https://community.powerbi.com/t5/forums/recentpostspage/post-type/message/category-id/PBI_Comm_Galleries/user-id/331466",o4="https://x.com/makuhari_studio",i4="https://public.tableau.com/app/profile/makuharistudio/vizzes",l4="https://www.linkedin.com/in/",u4="MAKU",c4="HARI",d4=[{name:"LINKEDIN",icon:FD,hover:YD,link:l4+u4+c4},{name:"𝕏",icon:HD,hover:QD,link:o4},{name:"GITHUB",icon:qD,hover:XD,link:a4},{name:"POWER BI",icon:VD,hover:WD,link:s4},{name:"TABLEAU",icon:GD,hover:ZD,link:i4}];function h4(){const[n,a]=R.useState(null);return D.jsxs(D.Fragment,{children:[D.jsx("center",{children:D.jsx("h2",{children:"LINKS"})}),D.jsx("nav",{id:"link-list",children:d4.map((s,i)=>D.jsxs(Lr,{to:s.link,target:"_blank",onMouseEnter:()=>a(i),onMouseLeave:()=>a(null),children:[D.jsx("img",{src:n===i?s.hover:s.icon,className:"link-icon",loading:"lazy",alt:s.name}),D.jsx("h6",{children:s.name})]},s.name))})]})}const zd=JSON.parse(`[{"id":1669294800,"title":"AppSource Deneb maps\\r","name":"appsource-deneb-maps","tech":"logo-powerbi\\r","tags":"[\\"Power BI\\", \\"Deneb\\", \\"Vega-Lite\\", \\"Vega\\"]\\r","date":"25 November 2022\\r","content":"You can view (but not download) my report from the official Power BI Data Stories Gallery:\\r\\n**[https://community.powerbi.com/t5/Data-Stories-Gallery/AppSource-Deneb-Maps/m-p/2930366](https://community.powerbi.com/t5/Data-Stories-Gallery/AppSource-Deneb-Maps/m-p/2930366)**\\r\\n\\r\\n![Animated preview of project](/src/assets/portfolio/img-2022-11-power-bi-appsource-deneb-maps.gif)\\r\\n\\r\\nThis Power BI report demonstrates custom AppSource Deneb maps using embedded geometry JSON data.\\r\\n\\r\\nThis is by no means an efficient way to create geographic maps with AppSource Deneb, but it does prove that it can be done, if for whatever reason you are not allowed to use the standalone Deneb version.\\r\\n \\r\\nAs this is a personal portfolio project, the pbix file won't be provided.\\r\\n \\r\\nAlternatively, if you would like a tutorial outline to learn how to get this geographic map data or how to embed it into AppSource Deneb, please see my blog post: **[https://makuharistudio.github.io/#/blog/how-to-use-geographic-maps-in-power-bi-with-appsource-deneb](https://makuharistudio.github.io/#/blog/how-to-use-geographic-maps-in-power-bi-with-appsource-deneb)**.\\r\\n\\r\\n\\r\\n### References\\r\\n\\r\\n* Microsoft Power BI Community Forum Question **[Deneb Vega Lite Map not displaying](https://community.powerbi.com/t5/Desktop/Deneb-Vega-Lite-Map-not-displaying/m-p/2487853)**\\r\\n\\r\\n* Stack Overflow Question **[Loading feature data into Vega-Lite](https://stackoverflow.com/questions/71254436/loading-feature-data-into-vega-lite)**\\r\\n\\r\\n* Website **[GeoJSON Maps of the globe](https://geojson-maps.ash.ms)**\\r\\n\\r\\n* Website **[Vega-Lite Example Gallery](https://vega.github.io/vega-lite/examples)**\\r\\n\\r\\n* Website **[Vega Example Gallery](https://vega.github.io/vega/examples)**\\r\\n\\r\\n\\r\\nClick **[here](https://github.com/makuharistudio/makuharistudio.github.io/tree/main/src/markdown/projects/2022-11-25.md)** for this project page's markdown file in GitHub.","desc":"Power BI report that demonstrates custom AppSource Deneb mapping using embedded geometry JSON data.\\r","photo":"../assets/portfolio/img-2022-11-power-bi-appsource-deneb-maps.gif\\r","siteURL":"https://community.powerbi.com/t5/Data-Stories-Gallery/AppSource-Deneb-Maps/m-p/2930366\\r","codeURL":"https://makuharistudio.github.io/#/blog/how-to-use-geographic-maps-in-power-bi-with-appsource-deneb\\r"},{"id":1666702800,"title":"International marketplace profit forecast\\r","name":"international-marketplace-profit-forecast","tech":"logo-excel\\r","tags":"[\\"Excel\\", \\"Power Pivot\\", \\"DAX\\", \\"Machine Learning\\"]\\r","date":"26 October 2022\\r","content":"You can download this Excel report from here:\\r\\n**[https://github.com/makuharistudio/data-visualisation-datasets/raw/main/International%20Marketplace%20sales/International%20Marketplace%20Profit%20Dashboard.xlsx](https://github.com/makuharistudio/data-visualisation-datasets/raw/main/International%20Marketplace%20sales/International%20Marketplace%20Profit%20Dashboard.xlsx?raw=true)**\\r\\n\\r\\n![Animated preview of project](/src/assets/portfolio/img-2022-10-excel-international-marketplace-profit-forecast.gif)\\r\\n\\r\\nThis Excel report is a redux of my \\"International marketplace profit\\" Power BI report, the latter you can find here:\\r\\n\\r\\n**[https://community.powerbi.com/t5/Data-Stories-Gallery/International-Marketplace-profit-report-using-Python-and-Deneb/m-p/2480550](https://community.powerbi.com/t5/Data-Stories-Gallery/International-Marketplace-profit-report-using-Python-and-Deneb/m-p/2480550)**\\r\\n\\r\\n![Animated preview of Power BI version](/src/assets/portfolio/img-2022-04-power-bi-international-marketplace-python-deneb.gif)\\r\\n\\r\\nMost of the DAX code used is similar to my Power BI report. You can find some of that code in my Github here:\\r\\n\\r\\n**[https://github.com/makuharistudio/data-visualisation-datasets/blob/main/International%20Marketplace%20sales/Power%20Query%20and%20Deneb%20code.md#excel-report-model](https://github.com/makuharistudio/data-visualisation-datasets/blob/main/International%20Marketplace%20sales/Power%20Query%20and%20Deneb%20code.md#excel-report-model)**\\r\\n\\r\\nI also used Excel's out-of-the-box FORECAST.ETS function to create the monthly profit forecasting. You can find more information on my exploration of this feature in this blog post:\\r\\n\\r\\n**[https://makuharistudio.github.io/#/blog/comparing-manual-forecasting-with-excels-built-in-forecastets-function](https://makuharistudio.github.io/#/blog/comparing-manual-forecasting-with-excels-built-in-forecastets-function)**\\r\\n\\r\\nThe Excel report is also embedded below using the OneDrive free version.\\r\\n\\r\\nIt is recommended you download the file and open it from a desktop version of Excel. It connects to my GitHub repository data, so please click \\"Enable content\\" to access that External Data Connection.\\r\\n\\r\\n\\r\\n### References\\r\\n\\r\\n* Youtube video **[How to map an Excel cell value as an input parameter for Power Query by ExcelIsFun](https://www.youtube.com/watch?v=gK2yBpiITv)**\\r\\n\\r\\n* Youtube video **[Call Center Performance Dashboard | Microsoft Excel by Other Level's](https://www.youtube.com/watch?v=6qOL69bIQz8)**\\r\\n\\r\\n* Youtube video **[Excel Dashboard for Schools with changing students images dynamically by Other Level's](https://www.youtube.com/watch?v=T4sZSXdQ4Vg&t=1395s)**\\r\\n\\r\\n* Youtube video **[How to embed Excel workbook to web via OneDrive Personal free version by MyOnlineTrainingHub](https://www.youtube.com/watch?v=uvA-U9FKgPw&t=385s)**\\r\\n\\r\\n* Stack Overflow Question **[How to run HTML script tag equivalents inside a React component](https://stackoverflow.com/questions/34424845/adding-script-tag-to-react-jsx)**\\r\\n\\r\\n\\r\\nClick **[here](https://github.com/makuharistudio/makuharistudio.github.io/tree/main/src/markdown/projects/2022-10-26.md)** for this project page's markdown file in GitHub.","desc":"Excel dashboard that uses an OOTB exponential smoothing algorithm to forecast profit.\\r","photo":"../assets/portfolio/img-2022-10-excel-international-marketplace-profit-forecast.gif\\r","siteURL":"https://makuharistudio.github.io/#/project/ExcelInternationalMarketplaceProfitForecast\\r","codeURL":"https://github.com/makuharistudio/data-visualisation-datasets/blob/main/International%20Marketplace%20sales/Power%20Query%20and%20Deneb%20code.md\\r"},{"id":1661436000,"title":"Satellite launch overview\\r","name":"satellite-launch-overview","tech":"logo-powerbi\\r","tags":"[\\"Power BI\\", \\"Deneb\\", \\"Vega-Lite\\", \\"Power Query\\", \\"DAX\\"]\\r","date":"26 August 2022\\r","content":"You can view (but not download) my report from the official Power BI Data Stories Gallery:\\r\\n**[https://community.powerbi.com/t5/Data-Stories-Gallery/Satellite-launch-overview/m-p/2730077](https://community.powerbi.com/t5/Data-Stories-Gallery/Satellite-launch-overview/m-p/2730077)**\\r\\n\\r\\n![Animated preview of project](/src/assets/portfolio/img-2022-08-satellite-launch-overview.gif)\\r\\n\\r\\nThis Power BI report compares the number of actively monitored satellites versus the number launched historically over time.\\r\\n\\r\\nThe main screen showing satellites around Earth is a zoomable scatterplot that was built using the Deneb custom visual by Daniel Marsh-Patrick **[https://deneb-viz.github.io](https://deneb-viz.github.io)**.\\r\\n\\r\\nAfter seeing Vega-Lite's ability to zoom with the mouse scrollwheel, I felt I had to create this. It currently doesn't support touch screen pinching to zoom, but hopefully one day.\\r\\n \\r\\nAs this is a personal portfolio project, the pbix file won't be provided.\\r\\n\\r\\nAlternatively, if you would like a tutorial outline so you can try to recreate this Deneb satellite scatterplot, please see my blog post: **[https://makuharistudio.github.io/#/blog/creating-a-decorated-scatterplot-visual-using-deneb-and-power-bi](https://makuharistudio.github.io/#/blog/creating-a-decorated-scatterplot-visual-using-deneb-and-power-bi)**.\\r\\n\\r\\nSome of the underlying Power Query code is available here: **[https://github.com/makuharistudio/data-visualisation-datasets/tree/main/Satellite%20launch%20overview](https://github.com/makuharistudio/data-visualisation-datasets/tree/main/Satellite%20launch%20overview)**.\\r\\n\\r\\n\\r\\n\\r\\n### References\\r\\n\\r\\nThe main inspirations for this report are these Tableau Public community gallery visualisations:\\r\\n\\r\\n* [Yuli Wang's :](https://twitter.com/Yuli_Wg) **[50 years of Chinese Aerospace](https://public.tableau.com/app/profile/yuri.wg/viz/50_15655374759590/1)**\\r\\n\\r\\n![Tableau satellite report by Yuli Wang](/src/assets/blog/2022-08-27--01.png)\\r\\n\\r\\n* [Wendy Shijia's :](https://twitter.com/ShijiaWendy) **[50 Years of China's Space Journey](https://public.tableau.com/app/profile/wendy.shijia/viz/50YearsofChinasSpaceJourney/50yrsChinasSpaceJourney)**\\r\\n\\r\\n![Tableau satellite report by Wendy Shijia](/src/assets/blog/2022-08-27--01a.png)\\r\\n\\r\\n* [Jean-Paul Frenett's :](https://public.tableau.com/app/profile/jean.paul.frenett) **[Satellites of Earth](https://public.tableau.com/app/profile/jean.paul.frenett/viz/SatellitesofEarth/SatellitesinOrbit)**\\r\\n\\r\\n![Tableau satellite report by Jean-Paul Frenett](/src/assets/blog/2022-08-27--02.png)\\r\\n\\r\\n* [Lubos Pribula's :](https://twitter.com/LubosPribula) **[Traffic Overhead](https://public.tableau.com/app/profile/lubospribula/viz/TrafficOverhead/TrafficOverhead)**\\r\\n\\r\\n![Tableau satellite report by Lubos Pribula](/src/assets/blog/2022-08-27--03.png)\\r\\n\\r\\n\\r\\nClick **[here](https://github.com/makuharistudio/makuharistudio.github.io/tree/main/src/markdown/projects/2022-08-26.md)** for this project page's markdown file in GitHub.","desc":"Power BI report showing actively monitored satellites using a custom Deneb scatterplot visual.\\r","photo":"../assets/portfolio/img-2022-08-satellite-launch-overview.gif\\r","siteURL":"https://community.powerbi.com/t5/Data-Stories-Gallery/Satellite-launch-overview/m-p/2730077\\r","codeURL":"https://github.com/makuharistudio/data-visualisation-datasets/tree/main/Satellite%20launch%20overview\\r"},{"id":1655647200,"title":"Customer support agent performance\\r","name":"customer-support-agent-performance","tech":"logo-excel\\r","tags":"[\\"Excel\\", \\"Power Query\\", \\"Power Pivot\\", \\"DAX\\"]\\r","date":"20 June 2022\\r","content":"You can download this Excel report from here:\\r\\n**[https://github.com/makuharistudio/data-visualisation-datasets/raw/main/Support%20ticket%20updates/Customer%20Support%20Agent%20Performance%20Dashboard.xlsx](https://github.com/makuharistudio/data-visualisation-datasets/raw/main/Support%20ticket%20updates/Customer%20Support%20Agent%20Performance%20Dashboard.xlsx?raw=true)**\\r\\n\\r\\n![Animated preview of project](/src/assets/portfolio/img-2022-06-excel-customer-support-agent-performance.gif)\\r\\n\\r\\nThis Excel report is a redux of my \\"Follow the sun customer support\\" Power BI report, the latter you can find here:\\r\\n\\r\\n**[https://community.powerbi.com/t5/Data-Stories-Gallery/Follow-the-sun-customer-service-support/m-p/2168279](https://community.powerbi.com/t5/Data-Stories-Gallery/Follow-the-sun-customer-service-support/m-p/2168279)**\\r\\n\\r\\n![Animated preview of Power BI version](/src/assets/portfolio/img-2022-04-power-bi-international-marketplace-python-deneb.gif)\\r\\n\\r\\nMost of the code used is similar to my Power BI report, except most of the DAX measures now include USERELATIONSHIP due to a data model improvement. You can find some of that code in my Github here:\\r\\n\\r\\n**[https://github.com/makuharistudio/data-visualisation-datasets/tree/main/Support%20ticket%20updates#excel-report-model](https://github.com/makuharistudio/data-visualisation-datasets/tree/main/Support%20ticket%20updates#excel-report-model)**\\r\\n\\r\\nThe Excel report is also embedded below using the OneDrive free version.\\r\\n\\r\\nDue to OneDrive's restrictions with External Data Connections and Camera Tools, the report cannot dynamically display support agent images nor refresh its data connection.\\r\\n\\r\\nIt is recommended you download the file and open it from a desktop version of Excel. It connects to my GitHub repository data, so please click \\"Enable content\\" to access that External Data Connection.\\r\\n\\r\\n\\r\\n### References\\r\\n\\r\\n* Youtube video **[How to map an Excel cell value as an input parameter for Power Query by ExcelIsFun](https://www.youtube.com/watch?v=gK2yBpiITv)**\\r\\n\\r\\n* Youtube video **[Call Center Performance Dashboard | Microsoft Excel by Other Level's](https://www.youtube.com/watch?v=6qOL69bIQz8)**\\r\\n\\r\\n* Youtube video **[Excel Dashboard for Schools with changing students images dynamically by Other Level's](https://www.youtube.com/watch?v=T4sZSXdQ4Vg&t=1395s)**\\r\\n\\r\\n* Youtube video **[How to embed Excel workbook to web via OneDrive Personal free version by MyOnlineTrainingHub](https://www.youtube.com/watch?v=uvA-U9FKgPw&t=385s)**\\r\\n\\r\\n* Stack Overflow Question **[How to run HTML script tag equivalents inside a React component](https://stackoverflow.com/questions/34424845/adding-script-tag-to-react-jsx)**\\r\\n\\r\\n\\r\\nClick **[here](https://github.com/makuharistudio/makuharistudio.github.io/tree/main/src/markdown/projects/2022-06-20.md)** for this project page's markdown file in GitHub.","desc":"Excel dashboard comparing individual support staff KPIs with a cell filter into Power Query that dynamically displays photos.\\r","photo":"../assets/portfolio/img-2022-06-excel-customer-support-agent-performance.gif\\r","siteURL":"https://makuharistudio.github.io/#/project/ExcelCustomerSupportAgentPerformance\\r","codeURL":"https://github.com/makuharistudio/data-visualisation-datasets/tree/main/Support%20ticket%20updates\\r"},{"id":1650981600,"title":"International marketplace profit\\r","name":"international-marketplace-profit","tech":"logo-powerbi\\r","tags":"[\\"Power BI\\", \\"Python\\", \\"Deneb\\", \\"Vega-Lite\\", \\"Power Query\\", \\"Machine Learning\\"]\\r","date":"27 April 2022\\r","content":"You can view (but not download) my report from the official Power BI Data Stories Gallery:\\r\\n**[https://community.powerbi.com/t5/Data-Stories-Gallery/International-Marketplace-profit-report-using-Python-and-Deneb/m-p/2480550](https://community.powerbi.com/t5/Data-Stories-Gallery/International-Marketplace-profit-report-using-Python-and-Deneb/m-p/2480550)**\\r\\n\\r\\n![Animated preview of project](/src/assets/portfolio/img-2022-04-power-bi-international-marketplace-python-deneb.gif)\\r\\n\\r\\nThis Power BI report is my first attempt at incorporating the following into a fictional profit report:\\r\\n\\r\\n1. A Python predictive model based on a tutorial by Absent Data: [https://www.absentdata.com/power-bi/forecasting-with-python-and-power-bi](https://www.absentdata.com/power-bi/forecasting-with-python-and-power-bi).\\r\\n\\r\\nand\\r\\n\\r\\n2. Custom visuals using Deneb (a custom visual by Daniel Marsh-Patrick **[https://deneb-viz.github.io](https://deneb-viz.github.io)**) and style is based on Tableau visual designs by Pradeep Kumar G **[https://public.tableau.com/app/profile/pradeepkumar.g](https://public.tableau.com/app/profile/pradeepkumar.g)**.\\r\\n\\r\\nAs this is a personal portfolio project, the pbix file won't be provided.\\r\\n\\r\\nAlternatively, if you would like a tutorial outline to learn one way to create forecast data in Python and bring it into Power BI, please see my blog post: **[https://makuharistudio.github.io/#/blog/add-forecasts-from-python-using-visual-studio-code-to-power-bi](https://makuharistudio.github.io/#/blog/add-forecasts-from-python-using-visual-studio-code-to-power-bi)**\\r\\n\\r\\nSome of the underlying Power Query code is available here: **[https://github.com/makuharistudio/data-visualisation-datasets/blob/main/International%20Marketplace%20sales/Power%20Query%20and%20Deneb%20code.md](https://github.com/makuharistudio/data-visualisation-datasets/blob/main/International%20Marketplace%20sales/Power%20Query%20and%20Deneb%20code.md)**.\\r\\n\\r\\n\\r\\n### References\\r\\n\\r\\n* Blog post **[Forecasting with Python and Power BI by Absent Data](https://www.absentdata.com/power-bi/forecasting-with-python-and-power-bi)**\\r\\n\\r\\n* YouTube video **[How do I find and remove duplicate rows in pandas?](https://www.youtube.com/watch?v=ht5buXUMqkQ)**\\r\\n\\r\\n* YouTube video **[How to install Python Libraries in Visual Studio Code by Aditya Thakur](https://www.youtube.com/watch?v=ThU13tikHQw)**\\r\\n\\r\\n* Stack Overflow question **[How to show Python plots in Visual Studio Code](https://stackoverflow.com/questions/49992300)**\\r\\n\\r\\n* Stack Overflow question **[How to clear Visual Studio Code terminal](https://stackoverflow.com/questions/49992300)**\\r\\n\\r\\n* Stack Overflow question **[Python script in Power BI returns date as Microsoft.OleDb.Date](https://stackoverflow.com/questions/51929420/python-script-in-power-bi-returns-date-as-microsoft-oledb-date)**\\r\\n\\r\\n* Stack Overflow question **[Setting the x axis as time (years, months) for a set of values](https://stackoverflow.com/questions/28948898/setting-the-x-axis-as-time-years-months-for-a-set-of-values)**\\r\\n\\r\\n* LinkedIn Learning course **[Python: Working with Predictive Analytics by Isil Berkun](https://www.linkedin.com/learning/python-working-with-predictive-analytics)**\\r\\n\\r\\n* LinkedIn Learning course **[Python for Data Visualization by Michael Galarnyk and Madecraft](https://www.linkedin.com/learning/python-for-data-visualization)**\\r\\n\\r\\n\\r\\nClick **[here](https://github.com/makuharistudio/makuharistudio.github.io/tree/main/src/markdown/projects/2022-04-27.md)** for this project page's markdown file in GitHub.","desc":"Power BI report that incorporates Python profit predictions and custom Deneb visualisations.\\r","photo":"../assets/portfolio/img-2022-04-power-bi-international-marketplace-python-deneb.gif\\r","siteURL":"https://community.powerbi.com/t5/Data-Stories-Gallery/International-Marketplace-profit-report-using-Python-and-Deneb/m-p/2480550\\r","codeURL":"https://github.com/makuharistudio/data-visualisation-datasets/blob/main/International%20Marketplace%20sales/Power%20Query%20and%20Deneb%20code.md\\r"},{"id":1641906000,"title":"International marketplace dataset\\r","name":"international-marketplace-dataset","tech":"logo-sqlserver\\r","tags":"[\\"T-SQL\\", \\"ETL\\", \\"SQL Server Integration Services\\"]\\r","date":"12 January 2022\\r","content":"You can download the SQL Server and CSV variations of this dataset from here:\\r\\n\\r\\n![Preview of project](/src/assets/portfolio/img-2022-01-sql-server-integration-services-international-marketplace-trimmed.png)\\r\\n\\r\\nThis is my first use of SQL Server Integration Services to merge and transform 3 different fictional data sources into a single one.\\r\\n\\r\\nThe data sources used are:\\r\\n* Microsoft's Wide World Importers database\\r\\n* Microsoft's \\"Contoso\\" data warehouse\\r\\n* Tableau's Sample APAC Superstore dataset\\r\\n\\r\\nFor an overview of how this dataset was created, please refer to my blog post: [https://makuharistudio.github.io/#/blog/international-marketplace-dataset-created-with-integration-services](https://makuharistudio.github.io/#/blog/international-marketplace-dataset-created-with-integration-services).\\r\\n\\r\\nFor the SQL scripts I made for this SSIS project and other details, please refer to my GitHub: [https://github.com/makuharistudio/data-visualisation-datasets/tree/main/International%20Marketplace%20sales](https://github.com/makuharistudio/data-visualisation-datasets/tree/main/International%20Marketplace%20sales).\\r\\n\\r\\n\\r\\n### Reference\\r\\n\\r\\n* LinkedIn Learning course **[SQL Server Integration Services\\" by Adam Wilbert](https://www.linkedin.com/learning/sql-server-integration-services-2)**\\r\\n\\r\\n\\r\\nClick **[here](https://github.com/makuharistudio/makuharistudio.github.io/tree/main/src/markdown/projects/2022-01-12.md)** for this project page's markdown file in GitHub.","desc":"SQL Server Integration Services package that merges Microsoft and Tableau sample datasets into a single warehouse.\\r","photo":"../assets/portfolio/img-2022-01-sql-server-integration-services-international-marketplace-trimmed.png\\r","siteURL":"https://makuharistudio.github.io/#/blog/international-marketplace-dataset-created-with-integration-services\\r","codeURL":"https://github.com/makuharistudio/data-visualisation-datasets/tree/main/International%20Marketplace%20sales\\r"},{"id":1635771600,"title":"Follow the sun customer support\\r","name":"follow-the-sun-customer-support","tech":"logo-powerbi\\r","tags":"[\\"Power BI\\", \\"Power Query\\", \\"DAX\\"]\\r","date":"2 November 2021\\r","content":"You can view (but not download) my report from the official Power BI Data Stories Gallery:\\r\\n**[https://community.powerbi.com/t5/Data-Stories-Gallery/Follow-the-sun-customer-service-support/m-p/2168279](https://community.powerbi.com/t5/Data-Stories-Gallery/Follow-the-sun-customer-service-support/m-p/2168279)**\\r\\n\\r\\n![Animated preview of project](/src/assets/portfolio/img-2021-11-power-bi-follow-the-sun-customer-support.gif)\\r\\n\\r\\nThis Power BI report is a support ticket dashboard that shows how global teams help customers on behalf of colleagues from different offices and time zones (a.k.a. follow-the-sun / FTS support), including individual staff metrics to compare performance, and highlights outliers that may need to be addressed by managers or leads, depending on contractual SLAs.\\r\\n\\r\\nThe dataset used is completely randomised and fictional, including the names of people representing agents and users. This report also doesn't use any calendar tables nor APIs, and instead uses Power Query functions and merges to apply offsets which respect daylight saving changes dynamically based on the source date time value to be converted.\\r\\n\\r\\nAs this is a personal portfolio project, the pbix file won't be provided.\\r\\n\\r\\nAlternatively, if you would like tutorial outlines on the approaches used to create this report, please see my blog posts: \\r\\n\\r\\n* [https://makuharistudio.github.io/#/blog/find-date-for-the-nth-day-of-a-month-in-power-bi](https://makuharistudio.github.io/#/blog/find-date-for-the-nth-day-of-a-month-in-power-bi)\\r\\n\\r\\n* [https://makuharistudio.github.io/#/blog/import-time-zone-offsets-and-observations-from-wikipedia-in-power-bi](https://makuharistudio.github.io/#/blog/import-time-zone-offsets-and-observations-from-wikipedia-in-power-bi)\\r\\n\\r\\n* [https://makuharistudio.github.io/#/blog/dynamically-apply-time-zone-and-daylight-savings-on-datetimes-in-power-bi](https://makuharistudio.github.io/#/blog/dynamically-apply-time-zone-and-daylight-savings-on-datetimes-in-power-bi)\\r\\n\\r\\nSome of the underlying Power Query code is available here: **[https://github.com/makuharistudio/data-visualisation-datasets/tree/main/Support%20ticket%20updates](https://github.com/makuharistudio/data-visualisation-datasets/tree/main/Support%20ticket%20updates)**.\\r\\n\\r\\n\\r\\nClick **[here](https://github.com/makuharistudio/makuharistudio.github.io/tree/main/src/markdown/projects/2021-11-02.md)** for this project page's markdown file in GitHub.","desc":"Power BI report that summarises global customer service teamwork and performance. Incorporates dynamic daylight saving offsets.\\r","photo":"../assets/portfolio/img-2021-11-power-bi-follow-the-sun-customer-support.gif\\r","siteURL":"https://community.powerbi.com/t5/Data-Stories-Gallery/Follow-the-sun-customer-service-support/m-p/2168279\\r","codeURL":"https://github.com/makuharistudio/data-visualisation-datasets/tree/main/Support%20ticket%20updates\\r"},{"id":1633698000,"title":"Singapore rental prices\\r","name":"singapore-rental-prices","tech":"logo-powerbi\\r","tags":"[\\"Power BI\\", \\"Power Query\\", \\"DAX\\"]\\r","date":"9 October 2021\\r","content":"You can view (but not download) my report from the official Power BI Data Stories Gallery:\\r\\n**[https://community.powerbi.com/t5/Data-Stories-Gallery/Quarterly-Singapore-median-rental-prices-by-currency/m-p/2125424](https://community.powerbi.com/t5/Data-Stories-Gallery/Quarterly-Singapore-median-rental-prices-by-currency/m-p/2125424)**\\r\\n\\r\\n![Animated preview of project](/src/assets/portfolio/img-2021-10-power-bi-quarterly-singapore-rental-prices-by-currency.gif)\\r\\n\\r\\nThis Power BI report is my first published publically, showing median rental prices of key towns in Singapore across different major curriencies.\\r\\n\\r\\nAs this is a personal portfolio project, the pbix file won't be provided.\\r\\n\\r\\nSome of the underlying Power Query code is available here: **[https://github.com/makuharistudio/data-visualisation-datasets/tree/main/Singapore%20rental%20prices](https://github.com/makuharistudio/data-visualisation-datasets/tree/main/Singapore%20rental%20prices)**.\\r\\n\\r\\n\\r\\n### Reference\\r\\n\\r\\n* Website **[Power BI Filled Map; the Good, the Bad, and the Ugly by Radacad](https://radacad.com/power-bi-filled-map-the-good-the-bad-and-the-ugly)**\\r\\n\\r\\n\\r\\nClick **[here](https://github.com/makuharistudio/makuharistudio.github.io/tree/main/src/markdown/projects/2021-10-09.md)** for this project page's markdown file in GitHub.","desc":"Power BI report that shows trends of Singapore rent by quarter, flat type, and major currency conversions.\\r","photo":"../assets/portfolio/img-2021-10-power-bi-quarterly-singapore-rental-prices-by-currency.gif\\r","siteURL":"https://community.powerbi.com/t5/Data-Stories-Gallery/Quarterly-Singapore-median-rental-prices-by-currency/m-p/2125424\\r","codeURL":"https://github.com/makuharistudio/data-visualisation-datasets/tree/main/Singapore%20rental%20prices\\r"}]`),Rd=JSON.parse('[{"id":1728219600,"title":"Create a machine learning Windows server using AWS EC2, TensorFlow, and Python\\r","name":"create-a-machine-learning-windows-server-using-aws-ec2-tensorflow-and-python","tech":"logo-aws\\r","tags":"[\\"AWS\\", \\"Machine Learning\\", \\"Python\\", \\"TensorFlow\\"]\\r","date":"07 October 2024\\r","content":"This post is a guide on how to set up an AWS EC2 on-demand server with Windows OS, and an NVIDIA graphics card for machine learning via TensorFlow. \\r\\n\\r\\nRequirements (i.e. areas this post does not cover):\\r\\n- AWS account with payment method **[https://docs.aws.amazon.com/SetUp/latest/UserGuide/setup-AWSsignup.html](https://docs.aws.amazon.com/SetUp/latest/UserGuide/setup-AWSsignup.html)**\\r\\n- Understand how to create a security group and keypair\\r\\n- Understand how to RDP into an AWS instance using a keypair\\r\\n\\r\\n**Note:** This guide is by no means a must setup to study machine learning. It\'s more of a reminder to myself on how to do the setup using my preferred tools, Windows and Visual Studio Code. \\r\\n\\r\\nThere are free alternatives where you do not need to perform this kind of setup, for example: **[https://colab.research.google.com](https://colab.research.google.com)**.\\r\\n\\r\\n\\r\\n\\r\\n## Step 1. Create an EC2 g4dn instance type in AWS\\r\\n\\r\\nFrom the AWS EC2 dashboard, launch an instance. \\r\\n\\r\\nUnder the **Application and OS Images** section, select Windows, then a free tier eligible Amazon machine image. In this example we have selected _\\"Microsoft Windows Server 2022 Base\\"_.\\r\\n\\r\\nNow here is the first component of our setup that will incur the on-demand cost (based on your usage). Under the **Instance type** section, select g4dn.xlarge. \\r\\n\\r\\nThe g4dn instance is intended for high performance computing using GPU acceleration, which machine learning can require. Amongst the g4dn configurations we can choose from, xlarge has the lowest RAM (16GB) and therefore the lowest hourly cost (as at time of writing). There are other options which go into hundreds of GBs of RAM as well, but they are just a bit more expensive...\\r\\n\\r\\n![AWS EC2: Launch an instance](/src/assets/blog/2024-10-07--01.png)\\r\\n\\r\\nIf you recently created your personal AWS account, you likely cannot make the above selection, and receive this warning instead:\\r\\n\\r\\n_\\"You have requested more vCPU capacity than your current vCPU limit of 0 allows for the instance bucket that the specified instance type belongs to. Please visit http://aws.amazon.com/contact-us/ec2-request to request an adjustment to this limit.\\"_\\r\\n\\r\\n![AWS EC2: vCPU limit warning](/src/assets/blog/2024-10-07--02.png)\\r\\n\\r\\nIf this is the case for you, navigate to the Service Quotas dashboard, then search for _Running On-Demand G and VT instances_.\\r\\n\\r\\n![AWS Service Quotas: Request increase at account level ](/src/assets/blog/2024-10-07--03.png)\\r\\n\\r\\nSelect that Quota name, and click the _\\"Request increase at account level\\"_ button. You will be prompted to explain the reason for your quota\'s extension. In my case, I explained I was self-studying machine learning and the tutorial I was following recommended the g4dn instance type.\\r\\n\\r\\nYour request is be submitted to AWS staff who will revise it for security purposes, and it may take a couple of days to be fulfilled. Once your request is successful, then re-attempt the above EC2 instance creation.\\r\\n\\r\\nIf you are successful in selecting the g4dn.xlarge Instance type, proceed to add your security group in the **Network settings** section.\\r\\n\\r\\nThe amount of hard drive space you define under **Configure storage** will also incur ongoing cost. Free tier eligibility for storage caps out at 30GB (as at time of writing). However, the completed setup of the server needs at least 40GB of hard drive space. In this example, 50GB of storage is defined.\\r\\n\\r\\n![AWS EC2: Configure storage](/src/assets/blog/2024-10-07--04.png)\\r\\n\\r\\n\\r\\n\\r\\n## Step 2. Check TensorFlow\'s GPU compatibility list\\r\\n\\r\\nNext, we start planning the components to install on our Windows Server to allow for computation using its GPU. As we will be combining components from different platforms i.e. NVIDIA, TensorFlow, Python, and Microsoft, we will need to be mindful of compatibility.\\r\\n\\r\\nYou can find compatibility charts on TensorFlow\'s website that identifies platform combinations they have successfully tested, under the **GPU** section.\\r\\n\\r\\n**[https://www.tensorflow.org/install/source_windows](https://www.tensorflow.org/install/source_windows)**\\r\\n\\r\\n![TensorFlow: GPU compatibility](/src/assets/blog/2024-10-07--05.png)\\r\\n\\r\\nBased on this chart, we will try to install platforms as close to the versions listed below, as we can.\\r\\n - NVIDIA GPU driver that supports CUDA Toolkit version 11.2\\r\\n - a Python version between 3.7 and 3.10\\r\\n - CUDA Toolkit version 11.2\\r\\n - cuDNN version 8.1\\r\\n - Microsoft Visual C++ Compiler (MSVC) version 2019\\r\\n - create a virtual environment with tensorflow-gpu version 2.10.0 installed\\r\\n\\r\\nWe will also install:\\r\\n - DirectX End-User Runtimes: to help check that the GPU is recognised by Windows.\\r\\n\\r\\n\\r\\nOnce your Windows instance is running, remote into it.\\r\\n\\r\\n\\r\\n\\r\\n## Step 3. Install NVIDIA GPU driver\\r\\n\\r\\nFrom Device Manager, under _Other devices \\\\ 3D Video Controller_, the graphics card appears to be missing a driver.\\r\\n\\r\\n![Device Manager: 3D Video Controller](/src/assets/blog/2024-10-07--06.png)\\r\\n\\r\\n\\r\\nSo we will install one from NVIDIA\'s website.\\r\\n\\r\\nAWS\'s g4dn EC2 instances use T4 GPUs, so we\'ll attempt to install this.\\r\\n\\r\\n**[https://www.nvidia.com/en-us/drivers](https://www.nvidia.com/en-us/drivers)**\\r\\n\\r\\n![NVIDIA: Data Center Driver for Windows](/src/assets/blog/2024-10-07--07.png)\\r\\n\\r\\nIn this example, we will use the _Data Center Driver for Windows version 475.14_, as this is the closest to version 11.2 we can find.\\r\\n\\r\\n**[https://www.nvidia.com/en-us/drivers/details/228678](https://www.nvidia.com/en-us/drivers/details/228678)**\\r\\n\\r\\n![NVIDIA: Data Center Driver for Windows download](/src/assets/blog/2024-10-07--08.png)\\r\\n\\r\\n![NVIDIA: Graphics Driver installed](/src/assets/blog/2024-10-07--09.png)\\r\\n\\r\\nOnce the graphics driver is installed, you should be able to view it under Display adapters in Device Manager.\\r\\n\\r\\n![Device Manager: NVIDIA Tesla T4](/src/assets/blog/2024-10-07--10.png)\\r\\n\\r\\n - _NVIDIA GPU driver that supports CUDA Toolkit version 11.2_\\r\\n - **a Python version between 3.7 and 3.10**\\r\\n - **CUDA Toolkit version 11.2**\\r\\n - **cuDNN version 8.1**\\r\\n - **Microsoft Visual C++ Compiler (MSVC) version 2019**\\r\\n - **create a virtual environment with tensorflow-gpu version 2.10.0 installed**\\r\\n - **DirectX End-User Runtimes**\\r\\n\\r\\n\\r\\n\\r\\n## Step 4. Install Python\\r\\n\\r\\nNext we will install a Python version between 3.7 and 3.10.\\r\\n\\r\\n**[https://www.python.org/downloads/windows](https://www.python.org/downloads/windows)**\\r\\n\\r\\nIn this example, we will use Python version 3.9.12. No particular reason on this one.\\r\\n\\r\\n![Python: 3.9.12 installer](/src/assets/blog/2024-10-07--11.png)\\r\\n\\r\\nEnsure the option to add Python to the environmental PATH is ticked during the install.\\r\\n\\r\\n![Python: Setup was successful](/src/assets/blog/2024-10-07--12.png)\\r\\n\\r\\n - _NVIDIA GPU driver that supports CUDA Toolkit version 11.2_\\r\\n - _a Python version between 3.7 and 3.10_\\r\\n - **CUDA Toolkit version 11.2**\\r\\n - **cuDNN version 8.1**\\r\\n - **Microsoft Visual C++ Compiler (MSVC) version 2019**\\r\\n - **create a virtual environment with tensorflow-gpu version 2.10.0 installed**\\r\\n - **DirectX End-User Runtimes**\\r\\n\\r\\n\\r\\n\\r\\n## Step 5. Install DirectX End-User Runtimes\\r\\n\\r\\nFor this step, we will install the DirectX End-User Runtimes.\\r\\nThe reason for this is to help cover potentially missing components using this method of TensorFlow installation, versus TensorFlow\'s official guide which may target personal Windows machines for local development.\\r\\n\\r\\nThe link below is for the offline DirectX installer, as for whatever reason, the online installer didn\'t work for me.\\r\\n\\r\\n**[https://www.microsoft.com/en-us/download/details.aspx?id=8109](https://www.microsoft.com/en-us/download/details.aspx?id=8109)**\\r\\n\\r\\n![DirectX: End-User Runtimes download](/src/assets/blog/2024-10-07--13.png)\\r\\n\\r\\n![DirectX: Installation Complete](/src/assets/blog/2024-10-07--14.png)\\r\\n\\r\\n - _NVIDIA GPU driver that supports CUDA Toolkit version 11.2_\\r\\n - _a Python version between 3.7 and 3.10_\\r\\n - **CUDA Toolkit version 11.2**\\r\\n - **cuDNN version 8.1**\\r\\n - **Microsoft Visual C++ Compiler (MSVC) version 2019**\\r\\n - **create a virtual environment with tensorflow-gpu version 2.10.0 installed**\\r\\n - _DirectX End-User Runtimes_\\r\\n\\r\\nNow that the graphics card\'s registration on the server is done, we\'ll install the components needed to take advantage of it for computation.\\r\\n\\r\\n\\r\\n\\r\\n## Step 6. Install CUDA Toolkit\\r\\n\\r\\nThe CUDA Toolkit is what allows the GPU (graphics card) to handle processing that would typically be reserved for the CPU (processor). Namely, the AI tasks from the projects you will hopefully create.\\r\\n\\r\\nNVIDIA\'s GPU compatibility guide indicated CUDA version 11.2, but as that was no longer available in the CUDA Toolkit Archive, I went with version 11.4.0.\\r\\n\\r\\n**[https://developer.nvidia.com/cuda-toolkit-archive](https://developer.nvidia.com/cuda-toolkit-archive)**\\r\\n\\r\\n![NVIDIA: CUDA Toolkit 11.4.0](/src/assets/blog/2024-10-07--15.png)\\r\\n\\r\\nAlthough there is no Server 2022 option, Server 2019 should work or our purposes.\\r\\n\\r\\n![NVIDIA: CUDA Toolkit 11.4.0 Downloads](/src/assets/blog/2024-10-07--16.png)\\r\\n\\r\\n![NVIDIA: Nsight Visual Studio Edition Summary](/src/assets/blog/2024-10-07--17.png)\\r\\n\\r\\n - _NVIDIA GPU driver that supports CUDA Toolkit version 11.2_\\r\\n - _a Python version between 3.7 and 3.10_\\r\\n - _CUDA Toolkit version 11.2_\\r\\n - **cuDNN version 8.1**\\r\\n - **Microsoft Visual C++ Compiler (MSVC) version 2019**\\r\\n - **create a virtual environment with tensorflow-gpu version 2.10.0 installed**\\r\\n - _DirectX End-User Runtimes_\\r\\n\\r\\n\\r\\n\\r\\n## Step 7. Install cuDNN\\r\\n\\r\\nNext we install the cuDNN (cuda Deep Neural Network) library, which is used to optimise the deep learning computations.\\r\\n\\r\\nThe cuDNN Archive lists a ranged installer version (8.x - 1.x) that covers the cuDNN version we were aiming for, version 8.1.\\r\\n\\r\\n**[https://developer.nvidia.com/cudnn-archive](https://developer.nvidia.com/cudnn-archive)**\\r\\n\\r\\n![NVIDIA: cuDNN Archive 8.x - 1.x](/src/assets/blog/2024-10-07--18.png)\\r\\n\\r\\n![NVIDIA: cuDNN Library for Windows](/src/assets/blog/2024-10-07--19.png)\\r\\n\\r\\nThe contents of the cuDNN zip mirrors the file structure of the CUDA installation.\\r\\nSo all you should need to do is copy the bin, include, and lib folders from the cuDNN zip...\\r\\n\\r\\n![NVIDIA: Copy cudnn files](/src/assets/blog/2024-10-07--20.png)\\r\\n\\r\\n... then paste them into your CUDA installation, which should be at C:\\\\Program Files\\\\NVIDIA GPU Computing Toolkit\\\\CUDA\\\\v11.4 assuming you accepted the defaults from Step 6.\\r\\n\\r\\n![NVIDIA: Paste cudnn files into GPU Computing Toolkit CUDA](/src/assets/blog/2024-10-07--21.png)\\r\\n\\r\\nGo into Windows\' Environmental Variables, and ensure that the System variable Path has the appropriate CUDA references.\\r\\n\\r\\nIn this example, the following were already added to Path via the earlier installation:\\r\\n* C:\\\\Program Files\\\\NVIDIA GPU Computing Toolkit\\\\CUDA\\\\v11.4\\\\bin\\r\\n* C:\\\\Program Files\\\\NVIDIA GPU Computing Toolkit\\\\CUDA\\\\v11.4\\\\libnvvp\\r\\n\\r\\nBut I needed to manually add this library version reference:\\r\\n* C:\\\\Program Files\\\\NVIDIA GPU Computing Toolkit\\\\CUDA\\\\v11.4\\\\bin\\r\\n\\r\\n![Environmental Variable: Add CUDA lib x64 folder](/src/assets/blog/2024-10-07--22.png)\\r\\n\\r\\n - _NVIDIA GPU driver that supports CUDA Toolkit version 11.2_\\r\\n - _a Python version between 3.7 and 3.10_\\r\\n - _CUDA Toolkit version 11.2_\\r\\n - _cuDNN version 8.1_\\r\\n - **Microsoft Visual C++ Compiler (MSVC) version 2019**\\r\\n - **create a virtual environment with tensorflow-gpu version 2.10.0 installed**\\r\\n - _DirectX End-User Runtimes_\\r\\n\\r\\n\\r\\n\\r\\n## Step 8. Test installations from Command Prompt\\r\\n\\r\\nTo test our installations, we can run the following via Command Prompt:\\r\\n\\r\\n* Verify the cuDNN installation by checking this command returns its version number.\\r\\n\\r\\n```\\r\\nnvcc --version\\r\\n```\\r\\n\\r\\n* Verify the NVIDIA installation by checking the GPU is identifiable. \\r\\n\\r\\nIn the screenshot below, you can see the 15205MiB Tesla T4 GPU has been assigned an identifier of 0. Note: This GPU:0 is just an index reference, and if there were more GPUs attached, they\'d be sequentially ordered, e.g. GPU:0, GPU:1, GPU:2, etc.\\r\\n\\r\\n```\\r\\nnvidia-sim\\r\\n```\\r\\n\\r\\n* Verify the Python installation by checking this command returns its version number.\\r\\n\\r\\n```\\r\\npython --version\\r\\n```\\r\\n\\r\\n![Command Prompt: Test nvcc, nvidia card, and Python version](/src/assets/blog/2024-10-07--23.png)\\r\\n\\r\\n\\r\\n\\r\\n## Step 9. Install Microsoft C++ Build Tools\\r\\n\\r\\nEven though this environment is intended for Python development, we may need to install the Microsoft Visual C++ Compiler in order to potentially work with certain custom TensorFlow extensions, given TensorFlow\'s backend is built on C++.\\r\\n\\r\\nYou can find the standalone installer here:\\r\\n* **[https://visualstudio.microsoft.com/visual-cpp-build-tools](https://visualstudio.microsoft.com/visual-cpp-build-tools)**\\r\\n\\r\\n![Microsoft C++ Build Tools download](/src/assets/blog/2024-10-07--24.png)\\r\\n\\r\\nFor the installation, from the Workloads tab tick _\\"Desktop development with C++\\"_, and in the Installation details pane, we\'re ticking:\\r\\n* MSVC 2019 as per the compatibility guide\\r\\n* MSVC 2022 because it is the latest and therefore a dependency of Desktop development with C++\\r\\n* C++ CMake tools for Windows - for custom TensorFlow or CUDA extensions\\r\\n\\r\\n![Installing Visual Studio Build Tools 2019](/src/assets/blog/2024-10-07--25.png)\\r\\n\\r\\n![Visual Studio Build Tools 2022](/src/assets/blog/2024-10-07--26.png)\\r\\n\\r\\n - _NVIDIA GPU driver that supports CUDA Toolkit version 11.2_\\r\\n - _a Python version between 3.7 and 3.10_\\r\\n - _CUDA Toolkit version 11.2_\\r\\n - _cuDNN version 8.1_\\r\\n - _Microsoft Visual C++ Compiler (MSVC) version 2019_\\r\\n - **create a virtual environment with tensorflow-gpu version 2.10.0 installed**\\r\\n - _DirectX End-User Runtimes_\\r\\n\\r\\n\\r\\n\\r\\n## Step 10. Install Visual Studio Code and extensions\\r\\n\\r\\nNow onto the all so familiar and easy task of installing Visual Studio Code...\\r\\n\\r\\n* **[https://code.visualstudio.com/Download](https://code.visualstudio.com/Download)**\\r\\n\\r\\n![Download Visual Studio Code](/src/assets/blog/2024-10-07--27.png)\\r\\n\\r\\n![Visual Studio Code Setup Wizard Completed](/src/assets/blog/2024-10-07--28.png)\\r\\n\\r\\n...and the Python Extension for Visual Studio Code.\\r\\n\\r\\n![Visual Studio Code: Python Extension](/src/assets/blog/2024-10-07--29.png)\\r\\n\\r\\n\\r\\n\\r\\n## Step 11. Create project and virtual Python environment with tensorflow\\r\\n\\r\\nNext we\'re going to create a Python project to test the GPU.\\r\\n\\r\\nIn this example, I\'ve created a folder C:\\\\Project\\\\TensorFlow-Python and opened it via Visual Studio Code.\\r\\n\\r\\n![Visual Studio Code: Create project folder](/src/assets/blog/2024-10-07--30.png)\\r\\n\\r\\nThen via a Command terminal within Visual Studio Code, we execute the following:\\r\\n\\r\\n* Creating a virtual environment to install our Python packages into.\\r\\n\\r\\n```\\r\\npython -m venv C:\\\\Projet\\\\TensorFlow-Python\\\\venv\\r\\n```\\r\\n\\r\\n* Activate said virtual environment into the terminal\\r\\n\\r\\n```\\r\\nvenv\\\\Scripts\\\\activate\\r\\n```\\r\\n\\r\\n![Visual Studio Code: Create virtual Python environment](/src/assets/blog/2024-10-07--31.png)\\r\\n\\r\\nNext, we install the tensorflow-gpu Python package, specifically version 2.10.0 as per the compatibility guide.\\r\\n\\r\\n```\\r\\npip install tensorflow-gpu==2.10.0\\r\\n```\\r\\n\\r\\n![Visual Studio Code: Install tensorflow_gpu into virtual environment](/src/assets/blog/2024-10-07--32.png)\\r\\n\\r\\n - _NVIDIA GPU driver that supports CUDA Toolkit version 11.2_\\r\\n - _a Python version between 3.7 and 3.10_\\r\\n - _CUDA Toolkit version 11.2_\\r\\n - _cuDNN version 8.1_\\r\\n - _Microsoft Visual C++ Compiler (MSVC) version 2019_\\r\\n - _create a virtual environment with tensorflow-gpu version 2.10.0 installed_\\r\\n - _DirectX End-User Runtimes_\\r\\n\\r\\nThat\'s all items ticked off now, but there\'s just a little more to do.\\r\\n\\r\\nEven though tensorflow-gpu is installed into my virtual environment, I was not able to import TensorFlow into my Python script, because my numpy version (2+) was incompatible.\\r\\n\\r\\nThus, I reinstalled numpy by targeting a lower version.\\r\\n\\r\\n```\\r\\npip install numpy==1.23.5\\r\\n```\\r\\n\\r\\n![Visual Studio Code: Install lower numpy version](/src/assets/blog/2024-10-07--33.png)\\r\\n\\r\\nFrom that same cmd Terminal session, I ran the following script to check I could import tensorflow and detect the GPU.\\r\\n\\r\\n```\\r\\npython -c \\"import tensorflow as tf; print(tf.config.list_physical_devices(\'GPU\'))\\"\\r\\n```\\r\\n\\r\\nThe indication of GPU:0 in the screenshot below is my confirmation.\\r\\n\\r\\n![Visual Studio Code: Test recognition of GPU](/src/assets/blog/2024-10-07--34.png)\\r\\n\\r\\nLastly, I ran a Python script (courtesy of ChatGPT as most of this article was guided from), to see if the calculation against the GPU would occur, and it was successful.\\r\\n\\r\\n```\\r\\nimport tensorflow as tf\\r\\n\\r\\n# Create a simple tensor and perform a computation\\r\\nwith tf.device(\'/GPU:0\'):\\r\\n    a = tf.constant([[1.0, 2.0, 3.0], [4.0, 5.0, 6.0]])\\r\\n    b = tf.constant([[1.0], [2.0], [3.0]])\\r\\n    c = tf.matmul(a, b)\\r\\n\\r\\nprint(c)\\r\\n```\\r\\n\\r\\n![Visual Studio Code: Test GPU calculation by creating tensor](/src/assets/blog/2024-10-07--35.png)\\r\\n\\r\\nNow we have a process and an instance of Windows running TensorFlow with Python using an NVIDIA graphics card.\\r\\n\\r\\nAs a side note, after completing all these installations, I have about 9.5GB remaining storage space.\\r\\n\\r\\n![Check hard drive space](/src/assets/blog/2024-10-07--36.png)\\r\\n\\r\\n\\r\\n\\r\\n### References\\r\\n\\r\\n* **[ChatGPT 3.5](https://chat.openai.com)**\\r\\n\\r\\n* YouTube video **[Deep Learning on Cloud using Amazon AWS | EC2 GPU Instance by Sagar G. Sangodkar](https://www.youtube.com/watch?v=B75B-JBmyDw&t=559s)**\\r\\n\\r\\n\\r\\n\\r\\nClick **[here](https://github.com/makuharistudio/makuharistudio.github.io/blob/main/src/markdown/posts/2024-10-07.md)** for this post\'s markdown file in GitHub.","photo":"../assets/blog/2024-10-07--00.png\\r"},{"id":1711544400,"title":"Using ChatGPT to create a plain text Python encryption tool for password protection\\r","name":"using-chatgpt-to-create-a-plain-text-python-encryption-tool-for-password-protection","tech":"logo-python\\r","tags":"[\\"Python\\", \\"ChatGPT\\", \\"HTML\\", \\"JavaScript\\", \\"Encryption\\"]\\r","date":"28 March 2024\\r","content":"This post shows how to use ChatGPT (**[https://chat.openai.com](https://chat.openai.com)**) to create a basic Windows desktop application to encrypt plain text data with Python. Inspired by my knowing someone who still uses Notepad to store username and passwords even though they have a proper password management tool.\\r\\n\\r\\nThe reason we are encoding an entire file-like body of text is to appeal to the preferred ease of using something similar to Notepad, as opposed to a password management tool which typically separates out records per credential set.\\r\\n\\r\\n**Disclaimer**: I am far from any kind of security expert, though understand it is unsafe to leave passwords lying around in plain text files. So whilst any kind of safety measure is better than nothing, this blog post\'s example is rudimentary, and I would recommend using at least open source tools like KeePass which are actually robust security-wise.\\r\\n\\r\\n##  Overview of ChatGPT conversation\\r\\n\\r\\nI listed my requirements, keeping their number small because from experience, asking for too many at once resulted in ChatGPT simply not coding them and my having to explicitly remind it to code those features later.\\r\\n\\r\\n![ChatGPT: Request for Python code iteration 1](/src/assets/blog/2024-03-28--01.png)\\r\\n\\r\\nThe first result works fine, but the buttons are misaligned. We need them along the top of the application.\\r\\n\\r\\n![Visual Studio Code: Testing Python code iteration 1](/src/assets/blog/2024-03-28--02.png)\\r\\n\\r\\nWith a bit more fine-tuning asked of GPT for a colour change and for the textbox\'s horizontal and vertical scrollbars, we get the final result below.\\r\\n\\r\\n![Visual Studio Code: Testing Python code iteration 2](/src/assets/blog/2024-03-28--03.png)\\r\\n\\r\\nOne of my original requirements involved having the application self-terminate in the event of the password or encryption passphrase typed by the user not matching the file, but I realised;\\r\\n\\r\\n* That requirement needs Command Prompt to open to facilitate the auto-closure. This goes against the intended standalone executable requirement.\\r\\n\\r\\n* A malicious party could try to brute force decrypt the JSON file directly, rather than via the application.\\r\\n\\r\\nNext let\'s look at how to compile the executable.\\r\\n\\r\\n\\r\\n## Step 1. Install Python, create a virtual environment, and install libraries\\r\\n\\r\\nInstall Python and the Python Extension for Visual Studio Code.\\r\\n* **[https://www.python.org/downloads/windows](https://www.python.org/downloads/windows)**\\r\\n\\r\\nCreate a folder for your Python project and open it in Visual Studio Code. In this example, the folder name is *lock* is in a subfolder of C:\\\\Project.\\r\\n\\r\\nCreate your virtual environment as a subfolder of your project.\\r\\n\\r\\n```\\r\\npython -m venv C:\\\\Project\\\\lock\\\\venv\\r\\n```\\r\\n\\r\\nThen ensure it is activated.\\r\\n\\r\\n![Visual Studio Code: Create and activate virtual environment](/src/assets/blog/2024-03-28--04.png)\\r\\n\\r\\nYou can find more detailed screenshot steps of the above from a previous blog post:\\r\\n* **[Add forecasts from Python using Visual Studio Code to Power BI](https://makuharistudio.github.io/#/blog/add-forecasts-from-python-using-visual-studio-code-to-power-bi)**\\r\\n\\r\\nFrom within the Python virtual environment, install the required dependencies for the script via a Command Prompt terminal.\\r\\n\\r\\n```\\r\\npip install cryptography\\r\\npip install pyinstaller\\r\\n```\\r\\n\\r\\n![Visual Studio Code: Install libraries](/src/assets/blog/2024-03-28--05.png)\\r\\n\\r\\n\\r\\n## Step 2. Create a new Python file and add the script\\r\\n\\r\\nCreate a new Python file in your project\'s directory and name it lock.py then populate it with the following code.\\r\\n\\r\\n```\\r\\nimport base64\\r\\nimport json\\r\\nimport tkinter as tk\\r\\nfrom tkinter import filedialog, messagebox, simpledialog\\r\\nfrom cryptography.fernet import Fernet\\r\\nfrom cryptography.hazmat.primitives import hashes\\r\\nfrom cryptography.hazmat.backends import default_backend\\r\\nfrom cryptography.hazmat.primitives.kdf.pbkdf2 import PBKDF2HMAC\\r\\n\\r\\nclass Application(tk.Tk):\\r\\n    def __init__(self):\\r\\n        super().__init__()\\r\\n\\r\\n        self.title(\\"Text file encryption\\")\\r\\n\\r\\n        # Set background color with alpha (semi-transparent black)\\r\\n        self.config(bg=\\"#D3D3D3\\")\\r\\n\\r\\n        # Frame for buttons\\r\\n        button_frame = tk.Frame(self, bg=\\"#181818\\")\\r\\n        button_frame.grid(row=0, column=0, columnspan=2, sticky=\\"ew\\")\\r\\n\\r\\n        self.open_button = tk.Button(button_frame, text=\\"Open\\", command=self.open_file, bg=\\"#000000\\", fg=\\"#FFFFFF\\")\\r\\n        self.open_button.grid(row=0, column=0)\\r\\n\\r\\n        self.save_button = tk.Button(button_frame, text=\\"Save\\", command=self.save_file, bg=\\"#000000\\", fg=\\"#FFFFFF\\")\\r\\n        self.save_button.grid(row=0, column=1)\\r\\n\\r\\n        # Textbox without word wrapping\\r\\n        self.textbox = tk.Text(self, wrap=\\"none\\", bg=\\"#181818\\", fg=\\"#FFFFFF\\", insertbackground=\\"#FFFFFF\\")  # Set background to semi-transparent black and text color to white\\r\\n        self.textbox.grid(row=1, column=0, sticky=\\"nsew\\")\\r\\n\\r\\n        # Vertical scrollbar\\r\\n        scrollbar_y = tk.Scrollbar(self, orient=\\"vertical\\", command=self.textbox.yview)\\r\\n        scrollbar_y.grid(row=1, column=1, sticky=\\"ns\\")\\r\\n        self.textbox.config(yscrollcommand=scrollbar_y.set)\\r\\n\\r\\n        # Horizontal scrollbar\\r\\n        scrollbar_x = tk.Scrollbar(self, orient=\\"horizontal\\", command=self.textbox.xview)\\r\\n        scrollbar_x.grid(row=2, column=0, sticky=\\"ew\\")\\r\\n        self.textbox.config(xscrollcommand=scrollbar_x.set)\\r\\n\\r\\n        # Configure row and column weights\\r\\n        self.rowconfigure(1, weight=1)\\r\\n        self.columnconfigure(0, weight=1)\\r\\n\\r\\n    def save_file(self):\\r\\n        text_data = self.textbox.get(\\"1.0\\", \\"end-1c\\")\\r\\n        if not text_data:\\r\\n            messagebox.showwarning(\\"Warning\\", \\"No data to save.\\")\\r\\n            return\\r\\n\\r\\n        passphrase = self.prompt_passphrase(\\"Enter encryption passphrase\\")\\r\\n        if not passphrase:\\r\\n            return\\r\\n\\r\\n        password = self.prompt_password(\\"Enter password for file\\")\\r\\n        if not password:\\r\\n            return\\r\\n\\r\\n        iterations = self.prompt_iterations(\\"Enter number of iterations\\")\\r\\n        if not iterations:\\r\\n            return\\r\\n\\r\\n        key = self.derive_key(passphrase, iterations)\\r\\n        fernet = Fernet(key)\\r\\n        encrypted_password = fernet.encrypt(password.encode())\\r\\n        encrypted_text_data = fernet.encrypt(text_data.encode())\\r\\n\\r\\n        file_path = filedialog.asksaveasfilename(defaultextension=\\".json\\")\\r\\n        if file_path:\\r\\n            with open(file_path, \\"w\\") as file:\\r\\n                json.dump({\\"password\\": encrypted_password.decode(), \\"text_data\\": encrypted_text_data.decode()}, file)\\r\\n\\r\\n\\r\\n    def open_file(self):\\r\\n        file_path = filedialog.askopenfilename(filetypes=[(\\"JSON Files\\", \\"*.json\\")])\\r\\n        if not file_path:\\r\\n            return\\r\\n\\r\\n        passphrase = self.prompt_passphrase(\\"Enter decryption passphrase\\")\\r\\n        if not passphrase:\\r\\n            return\\r\\n\\r\\n        password = self.prompt_password(\\"Enter password for file\\")\\r\\n        if not password:\\r\\n            return\\r\\n\\r\\n        iterations = self.prompt_iterations(\\"Enter number of iterations\\")\\r\\n        if not iterations:\\r\\n            return\\r\\n\\r\\n        try:\\r\\n            with open(file_path, \\"r\\") as file:\\r\\n                data = json.load(file)\\r\\n\\r\\n            key = self.derive_key(passphrase, iterations)\\r\\n            fernet = Fernet(key)\\r\\n            decrypted_password = fernet.decrypt(data[\\"password\\"].encode()).decode()\\r\\n\\r\\n            if password != decrypted_password:\\r\\n                messagebox.showwarning(\\"Warning\\", \\"Incorrect password.\\")\\r\\n                return\\r\\n\\r\\n            decrypted_text_data = fernet.decrypt(data[\\"text_data\\"].encode()).decode()\\r\\n            self.textbox.delete(\\"1.0\\", \\"end\\")\\r\\n            self.textbox.insert(\\"1.0\\", decrypted_text_data)\\r\\n        except Exception as e:\\r\\n            messagebox.showerror(\\"Error\\", \\"Failed to open file.\\")\\r\\n\\r\\n    def prompt_passphrase(self, message):\\r\\n        self.withdraw()  # Hide the main window temporarily\\r\\n        passphrase = simpledialog.askstring(\\"Passphrase\\", message, show=\'*\')\\r\\n        self.deiconify()  # Restore the main window\\r\\n        return passphrase\\r\\n\\r\\n    def prompt_password(self, message):\\r\\n        self.withadraw()  # Hide the main window temporarily\\r\\n        password = simpledialog.askstring(\\"Password\\", message, show=\'*\')\\r\\n        self.deiconify()  # Restore the main window\\r\\n        return password\\r\\n\\r\\n    def prompt_iterations(self, message):\\r\\n        self.withdraw()  # Hide the main window temporarily\\r\\n        iterations = simpledialog.askstring(\\"Iterations\\", message, show=\'*\')\\r\\n        self.deiconify()  # Restore the main window\\r\\n        return iterations\\r\\n\\r\\n    def derive_key(self, passphrase, iterations):\\r\\n        backend = default_backend()\\r\\n        salt = b\'Random_string_for_encryption1\'\\r\\n        kdf = PBKDF2HMAC(\\r\\n            algorithm=hashes.SHA256(),\\r\\n            length=32,\\r\\n            salt=salt,\\r\\n            iterations=int(iterations),\\r\\n            backend=backend\\r\\n        )\\r\\n        key = kdf.derive(passphrase.encode())\\r\\n        return base64.urlsafe_b64encode(key)\\r\\n\\r\\nif __name__ == \\"__main__\\":\\r\\n    app = Application()\\r\\n    app.mainloop()\\r\\n\\r\\n```\\r\\n\\r\\n\\r\\n## Step 3. Compile the script as a standalone executable\\r\\n\\r\\nFrom the Command Prompt terminal, run the following command:\\r\\n\\r\\n```\\r\\npyinstaller --onefile --noconsole lock.py\\r\\n```\\r\\n\\r\\nThe --onefile parameter generates a single .exe executable, and --noconsole prevents a Command Prompt from opening when the application is executed assuming the code does not require it.\\r\\n\\r\\nThis creates a dist subfolder in the project directory where the executable is generated.\\r\\n\\r\\n![Visual Studio Code: Python code compilation](/src/assets/blog/2024-03-28--06.png)\\r\\n\\r\\n\\r\\n## Step 4. Testing the application\\r\\n\\r\\nFrom File Explorer double-click the lock.exe application.\\r\\n\\r\\nType or copy-and-paste the information you would like to encrypt, then click Save.\\r\\n\\r\\n![Lock: Type information then Save button](/src/assets/blog/2024-03-28--07.png)\\r\\n\\r\\nType the passphrase used to generate the encryption key for the algorithm.\\r\\n\\r\\n![Lock: Type Passphrase then OK](/src/assets/blog/2024-03-28--08.png)\\r\\n\\r\\nType the password to encrypt the file.\\r\\n\\r\\n![Lock: Type Password then OK](/src/assets/blog/2024-03-28--09.png)\\r\\n\\r\\nType the number of iterations for the algorithm to perform for the encryption.\\r\\n\\r\\n![Lock: Type Iterations then OK](/src/assets/blog/2024-03-28--10.png)\\r\\n\\r\\nProvide a name and location for the encrypted file.\\r\\n\\r\\n![Lock: Save](/src/assets/blog/2024-03-28--11.png)\\r\\n\\r\\nWhen you open the generated file in Notepad, you can see that it is encrypted.\\r\\n\\r\\n![Encrypted file contents](/src/assets/blog/2024-03-28--12.png)\\r\\n\\r\\nYou will need to memorise all 3 security components; passphrase, iterations, and password to decrypt the file using the Open button. Each file you save can have its own unique set.\\r\\n\\r\\n\\r\\n**Key note**\\r\\n\\r\\nWindows Defender and other antivirus software will delete this executable from your system. So far I\'ve found keeping it zipped helps prevent that deletion as one free means. Otherwise, you may need to look into paid methods of digitally signing the application.\\r\\n\\r\\n\\r\\n**Update**: 29th March 2024\\r\\n\\r\\nI noticed after the Python code\'s compiliation, the lock.exe generated is instantaneously deleted by antivirus.\\r\\n\\r\\nSo I requested ChatGPT to make a HTML version with embedded JavaScript to perform the same task.\\r\\n\\r\\nTo use the code below:\\r\\n\\r\\n* **Step 1**. Create a new empty file on your machine named e.g. lock.html.\\r\\n\\r\\n* **Step 2**. Copy-and-paste the following code into that file, then Save and close.\\r\\n\\r\\n```\\r\\n<!DOCTYPE html>\\r\\n<html lang=\\"en\\">\\r\\n<head>\\r\\n    <meta charset=\\"UTF-8\\">\\r\\n    <meta name=\\"viewport\\" content=\\"width=device-width, initial-scale=1.0\\">\\r\\n    <title>Text Encryption</title>\\r\\n    <style>\\r\\n        body {\\r\\n            background-color: black;\\r\\n            color: white;\\r\\n        }\\r\\n        textarea, button, input[type=\\"file\\"] {\\r\\n            background-color: black;\\r\\n            color: white;\\r\\n            border: 1px solid white;\\r\\n        }\\r\\n        button {\\r\\n            background-color: black;\\r\\n        }\\r\\n    </style>\\r\\n</head>\\r\\n<body>\\r\\n    <textarea id=\\"inputText\\" rows=\\"10\\" cols=\\"50\\" placeholder=\\"Enter your text here...\\"></textarea><br>\\r\\n    <button onclick=\\"encryptText()\\">Encrypt Text</button>\\r\\n    <button onclick=\\"saveEncryptedText()\\">Save Encrypted Text</button><br><br>\\r\\n    <input type=\\"file\\" id=\\"fileInput\\" accept=\\".json\\" onchange=\\"openEncryptedFile(event)\\"><br>\\r\\n    <button onclick=\\"decryptText()\\">Decrypt Text</button><br><br>\\r\\n    <textarea id=\\"outputText\\" rows=\\"10\\" cols=\\"50\\" placeholder=\\"Encrypted/Decrypted text will appear here...\\" readonly></textarea>\\r\\n\\r\\n    <script>\\r\\n        async function encryptText() {\\r\\n            const text = document.getElementById(\'inputText\').value;\\r\\n            const passphrase = prompt(\\"Enter encryption passphrase:\\");\\r\\n            if (!passphrase) return;\\r\\n\\r\\n            const password = prompt(\\"Enter password for file:\\");\\r\\n            if (!password) return;\\r\\n\\r\\n            const iterations = prompt(\\"Enter number of iterations:\\");\\r\\n            if (!iterations) return;\\r\\n\\r\\n            const key = await deriveKey(passphrase, iterations);\\r\\n            const encryptedPassword = await encrypt(password, key);\\r\\n            const encryptedText = await encrypt(text, key);\\r\\n\\r\\n            // Clear sensitive variables\\r\\n            clearSensitiveData(passphrase);\\r\\n            clearSensitiveData(password);\\r\\n            clearSensitiveData(iterations);\\r\\n            clearSensitiveData(key);\\r\\n\\r\\n            const data = {\\r\\n                password: encryptedPassword,\\r\\n                text_data: encryptedText\\r\\n            };\\r\\n\\r\\n            document.getElementById(\'outputText\').value = JSON.stringify(data);\\r\\n        }\\r\\n\\r\\n        async function saveEncryptedText() {\\r\\n            const encryptedText = document.getElementById(\'outputText\').value;\\r\\n            if (!encryptedText) {\\r\\n                alert(\\"No data to save.\\");\\r\\n                return;\\r\\n            }\\r\\n\\r\\n            const blob = new Blob([encryptedText], { type: \'application/json\' });\\r\\n            const fileName = prompt(\\"Enter filename to save:\\");\\r\\n            if (!fileName) return;\\r\\n\\r\\n            const link = document.createElement(\'a\');\\r\\n            link.href = URL.createObjectURL(blob);\\r\\n            link.download = fileName + \'.json\';\\r\\n            link.click();\\r\\n        }\\r\\n\\r\\n        async function openEncryptedFile(event) {\\r\\n            const file = event.target.files[0];\\r\\n            if (!file) return;\\r\\n\\r\\n            const reader = new FileReader();\\r\\n            reader.onload = async function() {\\r\\n                const encryptedData = JSON.parse(reader.result);\\r\\n\\r\\n                const passphrase = prompt(\\"Enter decryption passphrase:\\");\\r\\n                if (!passphrase) return;\\r\\n\\r\\n                const password = prompt(\\"Enter password for file:\\");\\r\\n                if (!password) return;\\r\\n\\r\\n                const iterations = prompt(\\"Enter number of iterations:\\");\\r\\n                if (!iterations) return;\\r\\n\\r\\n                const key = await deriveKey(passphrase, iterations);\\r\\n                const decryptedPassword = await decrypt(encryptedData.password, key);\\r\\n\\r\\n                if (password !== decryptedPassword) {\\r\\n                    alert(\\"Incorrect password.\\");\\r\\n                    return;\\r\\n                }\\r\\n\\r\\n                const decryptedText = await decrypt(encryptedData.text_data, key);\\r\\n                document.getElementById(\'outputText\').value = decryptedText;\\r\\n\\r\\n                // Clear sensitive variables\\r\\n                clearSensitiveData(passphrase);\\r\\n                clearSensitiveData(password);\\r\\n                clearSensitiveData(iterations);\\r\\n                clearSensitiveData(key);\\r\\n            };\\r\\n            reader.readAsText(file);\\r\\n        }\\r\\n\\r\\n        async function decryptText() {\\r\\n            const encryptedText = document.getElementById(\'outputText\').value;\\r\\n            if (!encryptedText) {\\r\\n                alert(\\"No data to decrypt.\\");\\r\\n                return;\\r\\n            }\\r\\n\\r\\n            const passphrase = prompt(\\"Enter decryption passphrase:\\");\\r\\n            if (!passphrase) return;\\r\\n\\r\\n            const iterations = prompt(\\"Enter number of iterations:\\");\\r\\n            if (!iterations) return;\\r\\n\\r\\n            const key = await deriveKey(passphrase, iterations);\\r\\n            const decryptedText = await decrypt(encryptedText, key);\\r\\n            document.getElementById(\'outputText\').value = decryptedText;\\r\\n\\r\\n            // Clear sensitive variables\\r\\n            clearSensitiveData(passphrase);\\r\\n            clearSensitiveData(iterations);\\r\\n            clearSensitiveData(key);\\r\\n        }\\r\\n\\r\\n        async function deriveKey(passphrase, iterations) {\\r\\n            const encoder = new TextEncoder();\\r\\n            const data = encoder.encode(passphrase);\\r\\n            const hashBuffer = await crypto.subtle.digest(\'SHA-256\', data);\\r\\n            const salt = new Uint8Array([82, 97, 110, 100, 111, 109, 95, 115, 116, 114, 105, 110, 103, 95, 102, 111, 114, 95, 101, 110, 99, 114, 121, 112, 116, 105, 111, 110, 49]);\\r\\n            const key = await crypto.subtle.importKey(\'raw\', hashBuffer, { name: \'PBKDF2\' }, false, [\'deriveKey\']);\\r\\n            const derivedKey = await crypto.subtle.deriveKey({ name: \'PBKDF2\', salt, iterations: parseInt(iterations), hash: \'SHA-256\' }, key, { name: \'AES-GCM\', length: 256 }, true, [\'encrypt\', \'decrypt\']);\\r\\n            return derivedKey;\\r\\n        }\\r\\n\\r\\n        async function encrypt(data, key) {\\r\\n            const encoder = new TextEncoder();\\r\\n            const encodedData = encoder.encode(data);\\r\\n            const iv = crypto.getRandomValues(new Uint8Array(12));\\r\\n            const encryptedData = await crypto.subtle.encrypt({ name: \'AES-GCM\', iv }, key, encodedData);\\r\\n            const encryptedText = `${Array.from(new Uint8Array(iv)).join(\',\')}.${Array.from(new Uint8Array(encryptedData)).join(\',\')}`;\\r\\n            return encryptedText;\\r\\n        }\\r\\n\\r\\n        async function decrypt(data, key) {\\r\\n            const parts = data.split(\'.\');\\r\\n            const iv = Uint8Array.from(parts[0].split(\',\'));\\r\\n            const encryptedData = Uint8Array.from(parts[1].split(\',\'));\\r\\n            const decryptedData = await crypto.subtle.decrypt({ name: \'AES-GCM\', iv }, key, encryptedData);\\r\\n            const decoder = new TextDecoder();\\r\\n            return decoder.decode(decryptedData);\\r\\n        }\\r\\n\\r\\n        function clearSensitiveData(data) {\\r\\n            // Overwrite the data with random values\\r\\n            for (let i = 0; i < data.length; i++) {\\r\\n                data[i] = Math.floor(Math.random() * 256);\\r\\n            }\\r\\n        }\\r\\n    <\/script>\\r\\n</body>\\r\\n</html>\\r\\n\\r\\n```\\r\\n\\r\\n* **Step 3**. Open the HTML file in incognito mode on a browser.\\r\\nThen follow the same general workflow as the Python application.\\r\\n\\r\\n![HTML + JavaScript](/src/assets/blog/2024-03-28--13.png)\\r\\n\\r\\n\\r\\n### References\\r\\n\\r\\n* **[ChatGPT 3.5](https://chat.openai.com)**\\r\\n\\r\\n\\r\\nClick **[here](https://github.com/makuharistudio/makuharistudio.github.io/blob/main/src/markdown/posts/2024-03-28.md)** for this post\'s markdown file in GitHub.","photo":"../assets/blog/2024-03-28--00.png\\r"},{"id":1696597200,"title":"CSS development notes from my website revamp\\r","name":"css-development-notes-from-my-website-revamp","tech":"logo-css\\r","tags":"[\\"CSS\\", \\"HTML\\"]\\r","date":"7 October 2023\\r","content":"This post covers my approach to improving my site from version 3 (deployed December 2022) to version 4 (deployed July 2023), by going through several key **basic** CSS lessons whilst redesigning it from scratch. Please note this is a reflective post and not intended as a \\"best practice\\" one.\\r\\n\\r\\n\\r\\n##  Context\\r\\n\\r\\nMy website\'s 3rd version catered for mobile portrait and small to medium-sized landscape monitors. You can find a copy of Version 3 at **[archive.org](https://web.archive.org/web/20221126031933/https://makuharistudio.github.io/#)**.\\r\\n\\r\\nThis is how it looked at 1920 x 1080 resolution using Microsoft Edge\'s Developer Tools. I assumed this would be the standard resolution for most corporate monitors, based on my browsing of **[Dell\'s website](https://www.dell.com/en-au/shop/computer-monitors/ar/8605)**.\\r\\n\\r\\n![Site version 3 at 1920 x 1080](/src/assets/blog/2023-10-07--01.png)\\r\\n\\r\\nThis is how it looked from an iPhone 14t 430 x 932 resolution.\\r\\n\\r\\n![Site version 3 at 430 x 932](/src/assets/blog/2023-10-07--02.png)\\r\\n\\r\\nSeveral months later, I realised it might be viewed at much larger screen resolutions. I found one of the largest monitors on Dell\'s site, the \\"_Dell UltraSharp 32 6K Monitor - U3224KB_\\" at 6144 x 3456 resolution, and my site did not cater for this at all. Text did not scale and was illegible, and elements were awkwardly disproportionate from each other.\\r\\n\\r\\n![Site version 3 at 6144 x 3456](/src/assets/blog/2023-10-07--03.png)\\r\\n\\r\\n\\r\\n##  Goal\\r\\n\\r\\nMy website serves as a journal to share my works. I\'ve had the fortunate and fun experience of meeting people, and showing them my website via my phone. So, I decided to take a mobile-first approach to my site\'s design, with the desktop design being as close to the mobile design as possible. This was for 2 reasons:\\r\\n\\r\\n* Familiarity; What I show people in person, they would easily recognise if they checked again later via desktop.\\r\\n\\r\\n* Code management; Minimal additions to the CSS code base are needed to make it viable for desktop.\\r\\n\\r\\n![Site version 4 outline](/src/assets/blog/2023-10-07--04.png)\\r\\n\\r\\nI decided to redo the entire CSS design from scratch, intending for the final code to be more thorough and easier to follow, rather than a patchwork approach that leads to confusion in later development.\\r\\n\\r\\nThe first problem to address was to ensure regardless of resolution and orientation, the new site had a...\\r\\n\\r\\n\\r\\n##  Responsive layout\\r\\n\\r\\n2 areas need to be covered.\\r\\n\\r\\n* Resolution - The general layout changes appropriately for portrait, landscape, and everything in between.\\r\\n* Scaling - Design elements and text scale in a balanced way with viewport changes. \\r\\n\\r\\nI had to decide on the breakpoint for switching between portrait to landscape.\\r\\n\\r\\nA square viewport would not be a suitable breakpoint because there is insufficient width for the interface and background to be similar proportions as the landscape design. A square viewport looks better with the portrait design (for smaller resolutions, at least).\\r\\n\\r\\n![Site version 4 square design](/src/assets/blog/2023-10-07--05.png)\\r\\n\\r\\nThe question becomes how much wider would the width need to be for the breakpoint to switch from portrait to landscape design. Through experimentation, I decided on a 3:2 ratio.\\r\\n\\r\\n![Site version 4 3:2 ratio design](/src/assets/blog/2023-10-07--06.png)\\r\\n\\r\\nNext, we create the 3 main divs for the layout using...\\r\\n\\r\\n\\r\\n### Grid layout + z-indexing\\r\\n\\r\\nThis was my first use of grid layout to position and z-index to overlay div components, as I previously used the position absolute property.\\r\\n\\r\\n#### HTML\\r\\n\\r\\n```\\r\\n<!DOCTYPE html>\\r\\n<html>\\r\\n    <head><link rel=\\"stylesheet\\" href=\\"Layout.css\\"></head>\\r\\n\\r\\n    <body>\\r\\n\\r\\n        <div class=\'container\'>\\r\\n\\r\\n            <div class=\\"interface\\">\\r\\n\\r\\n                <center id=\\"replace this entire div with your content\\">\\r\\n                    <br /><br /><br />\\r\\n                    <h1>INTERFACE</h1>\\r\\n                    <br /><br /><br /><br /><br /><br /><br /><br /><br /><br />\\r\\n                    <br /><br /><br /><br /><br /><br /><br /><br /><br /><br />\\r\\n                </center>\\r\\n\\r\\n            </div>\\r\\n\\r\\n            <div class=\\"background\\">\\r\\n            \\r\\n                <br />\\r\\n                <h1>BACKGROUND</h1>\\r\\n\\r\\n            </div>\\r\\n\\r\\n        </div>\\r\\n\\r\\n    </body>\\r\\n</html>\\r\\n```\\r\\n\\r\\n#### CSS\\r\\n\\r\\n```\\r\\n@import url(\'https://fonts.googleapis.com/css2?family=Saira:wght@600&display=swap\');\\r\\n\\r\\nhtml { margin: 0px; padding: 0px; font-family: \'Saira\' }\\r\\nbody { margin: 0px; padding: 0px; }\\r\\ndiv { margin: 0px; padding: 0px; }\\r\\n\\r\\n::-webkit-scrollbar { display: none; }\\r\\n\\r\\n.container {\\r\\n    width: 100vw; height: 100vh;\\r\\n    background-color: #C00000;\\r\\n    display: grid;\\r\\n    grid-template-columns: 1fr 1fr 1fr;\\r\\n    grid-template-rows: 1fr;\\r\\n    z-index: 1;\\r\\n}\\r\\n\\r\\n.interface {\\r\\n    background-color: #92CDDC;\\r\\n    height: max-content;\\r\\n    grid-row-start: 1;\\r\\n    grid-row-end: 2;\\r\\n    z-index: 3;\\r\\n}\\r\\n\\r\\n.background {\\r\\n    background-color: #FFD965;\\r\\n    width: 100%;\\r\\n    height: 100vh;\\r\\n    position: fixed;\\r\\n    z-index: 2;\\r\\n}\\r\\n\\r\\n/* PORTRAIT */\\r\\n@media (max-aspect-ratio: 3/2) {\\r\\n\\r\\n    .interface {\\r\\n        width: 100vw;\\r\\n        grid-column-start: 1;\\r\\n        grid-column-end: 2;\\r\\n    }\\r\\n\\r\\n}\\r\\n\\r\\n/* LANDSCAPE */\\r\\n@media (min-aspect-ratio: 3/2) {\\r\\n\\r\\n    .interface {\\r\\n        width: 40vw;\\r\\n        grid-column-start: 2;\\r\\n        grid-column-end: 3;\\r\\n    }\\r\\n\\r\\n}\\r\\n```\\r\\n\\r\\n![CSS code result - vertical](/src/assets/blog/2023-10-07--07.png)\\r\\n\\r\\n![CSS code result - horizontal](/src/assets/blog/2023-10-07--08.png)\\r\\n\\r\\nKey notes on the above code are:\\r\\n\\r\\n* The removal of scrollbars to make the visual design a bit cleaner and seem more like an app rather than a website.\\r\\n\\r\\n```\\r\\n::-webkit-scrollbar { display: none; }\\r\\n```\\r\\n\\r\\n* The interface element\'s height is determined by its content. This allows it to scroll vertically whilst the background stays fixed.\\r\\n\\r\\n\\r\\n### Vertical carousel for portfolio and blog pages\\r\\n\\r\\nI used this YouTube video [How to make horizontal scroll item - CSS Tricks by Laravel Article](https://www.youtube.com/watch?v=2_E5uoiLCLY) as a guide to help me create a vertical carousel design for my portfolio and blog components (rather than a horizontal one which felt less natural to navigate).\\r\\n\\r\\n\\r\\n#### HTML\\r\\n\\r\\n```\\r\\n<div class=\'carousel\'>\\r\\n\\r\\n    <div class=\'blurb\'>\\r\\n        In the year 1878 I took my degree of Doctor of Medicine of the University of London, and proceeded to Netley to go through the course prescribed for surgeons in the army.\\r\\n    </div>\\r\\n\\r\\n    <div class=\'blurb\'>\\r\\n        Having completed my studies there, I was duly attached to the Fifth Northumberland Fusiliers as Assistant Surgeon. The regiment was stationed in India at the time, and before I could join it, the second Afghan war had broken out.\\r\\n    </div>\\r\\n\\r\\n    <div class=\'blurb\'>\\r\\n        On landing at Bombay, I learned that my corps had advanced through the passes, and was already deep in the enemy\'s country.\\r\\n    </div>\\r\\n\\r\\n    <div class=\'blurb\'>\\r\\n        I followed, however, with many other officers who were in the same situation as myself, and succeeded in reaching Candahar in safety, where I found my regiment, and at once entered upon my new duties.\\r\\n    </div>\\r\\n\\r\\n</div>\\r\\n```\\r\\n\\r\\n#### CSS\\r\\n\\r\\n```\\r\\n.carousel {\\r\\n  width: inherit;\\r\\n  box-sizing: border-box;\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n}\\r\\n\\r\\n.blurb {\\r\\n  height: 25vh;\\r\\n  width: inherit;\\r\\n  margin-bottom: 5vh;\\r\\n  box-sizing: border-box;\\r\\n  border: 2px solid black;\\r\\n  background-color: aqua;\\r\\n}\\r\\n```\\r\\n\\r\\n![CSS vertical carousel](/src/assets/blog/2023-10-07--09.png)\\r\\n\\r\\n\\r\\n## Animated elements\\r\\n\\r\\n\\r\\n### Looping background\\r\\n\\r\\nMy profile page loops an image horizontally, giving the impression of passing along an infinite beach.\\r\\n\\r\\n![CSS looping background - browser rendered](/src/assets/blog/2023-10-07--10.png)\\r\\n\\r\\nThe background image\'s height is set to the viewport\'s height and its width set to \\"auto\\" in order to scale the image evenly. The image is repeated along the x-axis and the whole \\"train\\" of horizontally-lined images are moved horizontally using keyframes to give the looping effect.\\r\\n\\r\\n![CSS looping background - conceptual diagram](/src/assets/blog/2023-10-07--11.png)\\r\\n\\r\\nOptionally, background-position is used to define how the initial image is positioned onscreen on the initial render.\\r\\n\\r\\n#### CSS\\r\\n\\r\\n```\\r\\n.background {\\r\\n    width: 100%;\\r\\n    height: 100vh;\\r\\n    position: fixed;\\r\\n    z-index: 2;\\r\\n    background-size: auto 100vh;\\r\\n    background-repeat: repeat-x;\\r\\n    background-position: -450vw 0vh;\\r\\n    background-image: url(\\"https://github.com/makuharistudio/makuharistudio.github.io/blob/main/src/assets/theme/background/panorama-beach.png?raw=true\\");\\r\\n    animation: bg-auto-scrolling 1800.32s infinite;\\r\\n    animation-timing-function: linear;\\r\\n}\\r\\n\\r\\n@keyframes bg-auto-scrolling {\\r\\n    100% { background-position: 3000vw 0vh; }\\r\\n}\\r\\n```\\r\\n\\r\\nNote: Different animation times are defined for the portrait and landscape views to ensure a consistent feel across both on my actual website. I didn\'t do that here for ease of your reading.\\r\\n\\r\\nA similar concept is applied to the portfolio and blog pages, where a small transparent tile is repeated all over the screen, and as a collective are \\"looped\\".\\r\\n\\r\\n\\r\\n### Spinning gear\\r\\n\\r\\nOn both the portfolio and blog pages, there are spinning gears as part of the background. The images for these were sourced from Pixbay and created by TheDigitalArtist.\\r\\n\\r\\n* **[https://pixabay.com/vectors/art-circle-design-pattern-science-7147602](https://pixabay.com/vectors/art-circle-design-pattern-science-7147602)**\\r\\n\\r\\n* **[https://pixabay.com/vectors/cyber-tech-circle-rings-pattern-7153617](https://pixabay.com/vectors/cyber-tech-circle-rings-pattern-7153617)**\\r\\n\\r\\nI edited the SVGs using a text editor to change their original colour from black to blue, and reduced their opacity.\\r\\n\\r\\n#### SVG\\r\\n\\r\\n```\\r\\n<svg fill:#00B0FF;fill-opacity:0.42;stroke:#00B0FF;stroke-opacity:1;\\r\\n```\\r\\n\\r\\nThey now look like this.\\r\\n\\r\\n![Edited gear images on GitHub](/src/assets/blog/2023-10-07--12.png)\\r\\n\\r\\n#### HTML\\r\\n\\r\\n```\\r\\n    <div class=\\"background\\">\\r\\n        <div class=\\"gear1 spin-gear\\"></div>\\r\\n        <div class=\\"gear2 spin-gear\\"></div>\\r\\n    </div>\\r\\n```\\r\\n\\r\\n#### CSS\\r\\n\\r\\n```\\r\\n.gear1 {\\r\\n    position: absolute;\\r\\n    background-repeat: no-repeat;\\r\\n    background-image: url(\\"https://github.com/makuharistudio/makuharistudio.github.io/raw/main/src/assets/theme/background/gear-blue-7147602.svg\\");\\r\\n    z-index: 3;\\r\\n    top: -20vh;\\r\\n    left: -10vh;\\r\\n    width: 120vh;\\r\\n    height: 120vh;\\r\\n}\\r\\n\\r\\n.gear2 {\\r\\n    position: absolute;\\r\\n    background-repeat: no-repeat;\\r\\n    background-image: url(\\"https://github.com/makuharistudio/makuharistudio.github.io/raw/main/src/assets/theme/background/gear-blue-7153617.svg\\");\\r\\n    z-index: 3;\\r\\n    top: -8vh;\\r\\n    left: 2vh;\\r\\n    width: 96vh;\\r\\n    height: 96vh;\\r\\n}\\r\\n\\r\\n.spin-gear {\\r\\n    animation-name: spinning;\\r\\n    animation-iteration-count: infinite;\\r\\n    animation-timing-function: linear;\\r\\n    animation-fill-mode: forwards;\\r\\n    animation-duration: 56.32s;\\r\\n}\\r\\n\\r\\n@keyframes spinning {\\r\\n    from { transform: rotate(360deg); }\\r\\n    to { transform: rotate(0deg); }\\r\\n}\\r\\n```\\r\\n\\r\\n![Overlapped gears](/src/assets/blog/2023-10-07--13.png)\\r\\n\\r\\n\\r\\n### Buttons resizing when hovered over\\r\\n\\r\\nMy buttons are multiple div elements housed in a single 1 x 1 grid container div, using z-index to layer them.\\r\\n\\r\\nThen the continer div is set to scale all its nested elements when the cursor hovers over it.\\r\\n\\r\\n#### HTML\\r\\n\\r\\n```\\r\\n    <div class=\\"interface\\">\\r\\n\\r\\n        <br /><br /><br /><br /><br /><br /><br /><br /><br />\\r\\n\\r\\n        <div class=\\"button-container\\">\\r\\n            <a href=\'/\' target=\'_blank\'>\\r\\n                <img src=\\"https://github.com/makuharistudio/makuharistudio.github.io/blob/main/src/assets/theme/logo/github.png?raw=true\\" />\\r\\n            </a>\\r\\n            <div class=\\"button-inner-colour\\"></div>\\r\\n        </div>\\r\\n\\r\\n        <br /><br /><br /><br /><br /><br /><br /><br /><br />\\r\\n        <br /><br /><br /><br /><br /><br /><br /><br /><br />\\r\\n\\r\\n    </div>\\r\\n```\\r\\n\\r\\n#### CSS\\r\\n\\r\\n```\\r\\n.button-container {\\r\\n    width: 20vw;\\r\\n    height: 20vw;\\r\\n    display: grid;\\r\\n    grid-template-rows: 100%;\\r\\n    grid-template-columns: 100%;\\r\\n    background-color: black;\\r\\n    z-index: 10;\\r\\n}\\r\\n\\r\\n.button-inner-colour {\\r\\n    margin: auto;\\r\\n    width: 19vw;\\r\\n    height: 19vw;\\r\\n    grid-row-start: 1; grid-row-end: 2;\\r\\n    grid-column-start: 1; grid-column-end: 2;\\r\\n    background-color: white;\\r\\n    z-index: 11;\\r\\n}\\r\\n\\r\\n.button-container a { \\r\\n    margin: 0px;\\r\\n    padding: 0px;\\r\\n    width: inherit;\\r\\n    height: inherit;\\r\\n    text-decoration: none;\\r\\n    grid-row-start: 1; grid-row-end: 2;\\r\\n    grid-column-start: 1; grid-column-end: 2;\\r\\n    z-index: 12;\\r\\n}\\r\\n\\r\\n.button-container a img { width: 18vw; height: 18vw; margin: 1vw; }\\r\\n\\r\\n.button-container:hover { transform: scale(0.85); }\\r\\n```\\r\\n\\r\\n![GitHub button example with hover over resize](/src/assets/blog/2023-10-07--14.png)\\r\\n\\r\\n\\r\\n## Sound effects and music\\r\\n\\r\\n\\r\\n### Playing a sound effect when a button is clicked\\r\\n\\r\\nFor important buttons on my site, I applied a sound effect on-click as a novelty, being careful not to do so for every button in order to prevent it from becoming too bothersome for the end user.\\r\\n\\r\\nThe embedded JavaScript approach I took is definitely not best practice, as ideally you would want to somehow ensure the sound effect asset file is loaded into the session before putting it to use, to avoid a disconnect between the user clicking the button and the sound playing. In my case, the sound files seem small enough that occasional disconnect should be fine.\\r\\n\\r\\nThe sound file in the code below can be found at **[https://mixkit.co/free-sound-effects](https://mixkit.co/free-sound-effects)**.\\r\\n\\r\\n#### HTML\\r\\n\\r\\n```\\r\\n<!DOCTYPE html>\\r\\n<html>\\r\\n    <head>\\r\\n        <link rel=\\"stylesheet\\" href=\\"Layout.css\\">\\r\\n        <script>\\r\\n            let soundEffect = new Audio(\'https://github.com/makuharistudio/makuharistudio.github.io/raw/main/src/assets/theme/sound/technology-notification-3123.wav\');\\r\\n            function start() {\\r\\n                soundEffect.play();\\r\\n            };\\r\\n        <\/script>\\r\\n    </head>\\r\\n    <body>\\r\\n        <div class=\'container\'>\\r\\n            <div class=\\"interface\\">\\r\\n                <div class=\\"button-container\\">\\r\\n                    <a href=\'/\' target=\'_blank\' onClick=\\"start()\\">\\r\\n                        <img src=\\"https://github.com/makuharistudio/makuharistudio.github.io/blob/main/src/assets/theme/logo/github.png?raw=true\\" />\\r\\n                    </a>\\r\\n                    <div class=\\"button-inner-colour\\"></div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\"background\\"></div>\\r\\n        </div>\\r\\n    </body>\\r\\n</html>\\r\\n```\\r\\n\\r\\n\\r\\n### Background music\\r\\n\\r\\nFor each major page of my site, I used the audio tag to embed different background music, and applied JavaScript to preset the music\'s volume to 20% so it plays subtly.\\r\\n\\r\\nThe music file in the code below was created by Evgeny_Bardyuzha from Pixabay **[https://pixabay.com/users/evgeny_bardyuzha-25235210](https://pixabay.com/users/evgeny_bardyuzha-25235210)**.\\r\\n\\r\\n#### HTML\\r\\n\\r\\n```\\r\\n<!DOCTYPE html>\\r\\n<html>\\r\\n    <head>\\r\\n        <link rel=\\"stylesheet\\" href=\\"Layout.css\\">\\r\\n        <script>\\r\\n            window.onload = function() {\\r\\n                let audioPlayer = document.getElementById(\'audioPlayer\');\\r\\n                audioPlayer.volume = 0.2;\\r\\n            };\\r\\n        <\/script>\\r\\n    </head>\\r\\n    <body>\\r\\n        <div class=\'container\'>\\r\\n            <div class=\\"interface\\">\\r\\n                <audio id=\\"audioPlayer\\" src=\\"https://github.com/makuharistudio/makuharistudio.github.io/raw/main/src/assets/theme/music/evgeny-bardyuzha-good-mood-for-no-reason.mp3\\" controls autoplay loop></audio>\\r\\n            </div>\\r\\n            <div class=\\"background\\"></div>\\r\\n        </div>\\r\\n    </body>\\r\\n</html>\\r\\n```\\r\\n\\r\\nIn the example code above, I left in the controls attribute of the audio tag so it is obvious how an audio player element is embedded into the site.\\r\\n\\r\\n![Audio player in HTML](/src/assets/blog/2023-10-07--15.png)\\r\\n\\r\\nIn my actual site, I removed that attribute and instead created a custom design element of moving music bars.\\r\\n\\r\\n\\r\\n\\r\\n## Scalable images\\r\\n\\r\\nLastly, my favourite site for creating and editing scalable vector graphics (SVGs) at the time of writing this blog post, is Boxy SVG **[https://boxy-svg.com/app](https://boxy-svg.com/app)**. In the screenshot below I created the lanyard tag for my profile page\'s photo by converting a PNG to an SVG which wasn\'t quite clean enough, then used Boxy SVG to tweak my SVG\'s anchor points to make its code smaller and more efficient.\\r\\n\\r\\n![Boxy SVG example](/src/assets/blog/2023-10-07--16.png)\\r\\n\\r\\n\\r\\n\\r\\nThe revamp of my site came about mostly with the help of **[Bing Chat with GPT-4](https://www.bing.com/search?q=Bing+AI&showconv=1)** to figure out the approach and code for the bells and whistles I\'ve added, and I am quite happy with how I\'ve upgraded the visual design over its past versions.\\r\\n\\r\\n\\r\\n\\r\\n### Reference\\r\\n\\r\\n* Youtube video **[CSS grid - line based positioning and z-index by Sergiy Prygara](https://www.youtube.com/watch?v=rhUR_bGc2lM)**\\r\\n\\r\\n\\r\\n\\r\\nClick **[here](https://github.com/makuharistudio/makuharistudio.github.io/blob/main/src/markdown/posts/2023-10-07.md)** for this post\'s markdown file in GitHub.","photo":"../assets/blog/2023-10-07--00.png\\r"},{"id":1678453200,"title":"Setting up a Python environment for AWS S3 bucket interaction\\r","name":"setting-up-a-python-environment-for-aws-s3-bucket-interaction","tech":"logo-aws\\r","tags":"[\\"AWS\\", \\"Python\\"]\\r","date":"11 March 2023\\r","content":"A step-by-step guide on how to set up a Python with Jupyter Notebook environment (in Windows) to be able to connect with your Amazon Web Services (AWS) S3 bucket. \\r\\n\\r\\nThis was a prerequisite step for one of my Python projects that uses the YouTube API to download videos to a local folder (see blog post for that set up **[here](https://makuharistudio.github.io/#/blog/how-to-webscrape-a-youtube-channels-video-titles-using-python-and-visual-studio-code)**), then upload them to an S3 bucket.\\r\\n\\r\\n\\r\\n## Step 1. Install Python\\r\\n\\r\\nDownload and install the latest version of Python.\\r\\n\\r\\n* **[https://www.python.org/downloads](https://www.python.org/downloads)**\\r\\n\\r\\nDuring the installation process, ensure you tick the _\\"Add Python to environment variables\\"_ option.\\r\\n\\r\\n![Python installation](/src/assets/blog/2023-03-11--01.png)\\r\\n\\r\\n\\r\\n## Step 2. Install classic Jupyter Notebook\\r\\n\\r\\nFor Windows machines, open Command Prompt and run the following code:\\r\\n\\r\\n```\\r\\npip install notebook\\r\\n```\\r\\n\\r\\n* **[https://jupyter.org/install](https://jupyter.org/install)**\\r\\n\\r\\n![Classic Jupyter Notebook installation](/src/assets/blog/2023-03-11--02.png)\\r\\n\\r\\n\\r\\n## Step 3. Create a project directory and a new notebook\\r\\n\\r\\nCreate a local folder where your project\'s code will be kept.\\r\\n\\r\\n![Project folder](/src/assets/blog/2023-03-11--03.png)\\r\\n\\r\\nFrom Windows File Explorer, navigate to that folder and replace the address bar\'s contents with cmd, then press Enter.\\r\\n\\r\\n![Run cmd from project folder](/src/assets/blog/2023-03-11--04.png)\\r\\n\\r\\nThis will open the Command Prompt to that location.\\r\\n\\r\\nType jupyter notebook, then press Enter.\\r\\n\\r\\n![Run jupyter notebook from cmd](/src/assets/blog/2023-03-11--05.png)\\r\\n\\r\\nThis will open an instance of Jupyter Notebook, where you can create a new Notebook from.\\r\\n\\r\\n![Jupyter Notebook](/src/assets/blog/2023-03-11--06.png)\\r\\n\\r\\n\\r\\n## Step 4. Create an AWS S3 Bucket\\r\\n\\r\\nLog into AWS\'s S3 console and create a new S3 bucket, ensuring you enable the _\\"Block all public access\\"_ setting for it.\\r\\n\\r\\n* **[https://s3.console.aws.amazon.com/s3](https://s3.console.aws.amazon.com/s3)**\\r\\n\\r\\nNote your name for the bucket. In this example, I named mine \\"youtube-video-analysis\\".\\r\\n\\r\\n![Create S3 Bucket](/src/assets/blog/2023-03-11--07.png)\\r\\n\\r\\nFor more information on S3 buckets, visit:\\r\\n\\r\\n* **[https://docs.aws.amazon.com/AmazonS3/latest/userguide/Welcome.html](https://docs.aws.amazon.com/AmazonS3/latest/userguide/Welcome.html)**\\r\\n\\r\\n\\r\\n## Step 5. Create an IAM policy and apply it to an AWS account\\r\\n\\r\\nNavigate to AWS\'s IAM console (Identity and Access Management), then from the left menu, click on the Access Management section\'s Policies link. Once in, click _\\"Create policy\\"_.\\r\\n\\r\\n![Create S3 Bucket](/src/assets/blog/2023-03-11--08.png)\\r\\n\\r\\nManually define your policy via the JSON tab as per the code below:\\r\\n\\r\\nIn your case, substitute _\\"youtube-video-analysis\\"_ for your buckets name.\\r\\n\\r\\n**Note**: The second _\\"arn:aws:s3:::youtube-video-analysis/*\\"_ entry allows access to all subfolders and objects for the bucket. Both the bucket-level and sub-bucket-level entries for Resource are needed.\\r\\n\\r\\n```\\r\\n{\\r\\n    \\"Version\\": \\"2012-10-17\\",\\r\\n    \\"Statement\\": [\\r\\n        {\\r\\n            \\"Sid\\": \\"ConsoleAccess\\",\\r\\n            \\"Effect\\": \\"Allow\\",\\r\\n            \\"Action\\": [\\r\\n                \\"s3:*\\"\\r\\n            ],\\r\\n            \\"Resource\\": [\\r\\n                \\"arn:aws:s3:::youtube-video-analysis\\",\\r\\n                \\"arn:aws:s3:::youtube-video-analysis/*\\"\\r\\n            ]\\r\\n        }\\r\\n    ]\\r\\n}\\r\\n```\\r\\n\\r\\nThis will update the Visual editor with the equivalent access levels.\\r\\n\\r\\nIn this example, I have named the policy \\"Custom_IAM_Policy_For_S3_Bucket\\".\\r\\n\\r\\n![Create IAM Policy](/src/assets/blog/2023-03-11--09.png)\\r\\n\\r\\nNavigate to the Access Management section in the left menu, and click the \\"Users\\" link, then open the AWS account you intend to use for your development work. Ideally, this should **not** be your root account, for security reasons.\\r\\n\\r\\nThen edit the account to manually apply the custom policy you created. This will allow the user to bypass the block all public access restriction placed on the bucket.\\r\\n\\r\\nIn my example, I have a user named \\"Python\\" that I added the policy to.\\r\\n\\r\\n![Apply IAM Policy to a User](/src/assets/blog/2023-03-11--10.png)\\r\\n\\r\\nEnsure you have both the Access Key ID and Secret Access Key for that User account, as we\'ll need it in the next section.\\r\\n\\r\\nThis can be found under the User\'s account, and by navigating to the _\\"Security credentials\\"_ tab, under the _\\"Access Keys\\"_ section. The Access Key ID will be visible there, and you can generate the Secret Access Key from it.\\r\\n\\r\\n![AWS Access Keys](/src/assets/blog/2023-03-11--11.png)\\r\\n\\r\\n\\r\\n## Step 6. Install the AWS CLI (Command Line Interface)\\r\\n\\r\\nInstall the AWS\' command line interface, as this is where we will save our credentials such that we do not need to inline embed them in our project files.\\r\\n\\r\\n* **[https://docs.aws.amazon.com/cli/v1/userguide/install-windows.html#msi-on-windows](https://docs.aws.amazon.com/cli/v1/userguide/install-windows.html#msi-on-windows)**\\r\\n\\r\\n![Install AWS CLI](/src/assets/blog/2023-03-11--12.png)\\r\\n\\r\\nOpen a new Command Prompt, then type:\\r\\n\\r\\n```\\r\\naws configure\\r\\n```\\r\\n\\r\\nThen set your AWS Access Key ID and AWS Secret Access Key. You can leave the default region name and output format as blank by Entering through.\\r\\n\\r\\n![Configure AWS CLI](/src/assets/blog/2023-03-11--13.png)\\r\\n\\r\\nFrom that, AWS CLI will save a config and credentials file that stores your keys locally.\\r\\n\\r\\n![Configure AWS CLI](/src/assets/blog/2023-03-11--14.png)\\r\\n\\r\\n\\r\\n## Step 7. Test 1: Python (via Jupyter) upload files to AWS S3 Bucket\\r\\n\\r\\nOpen a new Command Prompt window, then install the following dependencies:\\r\\n\\r\\n```\\r\\npip install pytube\\r\\npip install boto3\\r\\n```\\r\\n\\r\\n![pip installs](/src/assets/blog/2023-03-11--15.png)\\r\\n\\r\\n\\r\\nCreate a folder in the directory where your (perhaps still Untitled) Jupyter Notebook file is, then add files you want to upload into S3 into that new folder.\\r\\n\\r\\nIn this example, I created a folder named \\"filestoupload\\" and added animated gifs of my project previews into it.\\r\\n\\r\\n![Files for testing S3 upload](/src/assets/blog/2023-03-11--16.png)\\r\\n\\r\\nNow let\'s create code to upload all the files in that subfolder into a subfolder in the S3 bucket.\\r\\n\\r\\n```\\r\\nfrom pytube import YouTube\\r\\nimport boto3\\r\\nimport os\\r\\n\\r\\nlocal_subfolder = os.getcwd().replace(\'\\\\\\\\\',\'/\')+\'/filestoupload\'\\r\\naws_s3_bucket_name = \\"youtube-video-analysis\\"\\r\\naws_s3_bucket_subfolder = \'animated_gifs\'\\r\\n\\r\\nfiles_to_upload = os.listdir(local_subfolder)\\r\\n\\r\\ndef UploadToS3Bucket(file_to_load):\\r\\n    full_file_path = local_subfolder + \'/\' + file_to_load\\r\\n    s3 = boto3.client(\'s3\')\\r\\n    s3.upload_file(\\r\\n        Filename=full_file_path,\\r\\n        Bucket=aws_s3_bucket_name,\\r\\n        Key=aws_s3_bucket_subfolder + \'/\' + file_to_load,\\r\\n    )\\r\\n    os.remove(full_file_path)\\r\\n\\r\\nfor i in files_to_upload:\\r\\n    UploadToS3Bucket(i)\\r\\n```\\r\\n\\r\\n![Python code to upload to S3](/src/assets/blog/2023-03-11--17.png)\\r\\n\\r\\nWe can see the files we had locally are now gone...\\r\\n\\r\\n![Files removed from local folder](/src/assets/blog/2023-03-11--18.png)\\r\\n\\r\\n\\r\\n...and our S3 bucket now has the files in the new subfolder we defined.\\r\\n\\r\\n![Files uploaded to S3 bucket](/src/assets/blog/2023-03-11--19.png)\\r\\n\\r\\n\\r\\n## Step 8. Test 2: Python (via Jupyter) download files from AWS S3 Bucket\\r\\n\\r\\nI haven\'t been able to get the download from S3 to to a local subfolder, so the files just download to the same folder as the Python code below.\\r\\n\\r\\n```\\r\\ndef ListS3BucketSubfolderContents():\\r\\n    contents = []\\r\\n    client = boto3.client(\'s3\')\\r\\n\\r\\n    response = client.list_objects_v2(\\r\\n        Bucket=aws_s3_bucket_name,\\r\\n        Prefix=aws_s3_bucket_subfolder + \'/\')\\r\\n\\r\\n    for content in response.get(\'Contents\', []):\\r\\n        contents.append(content[\'Key\'])\\r\\n    \\r\\n    return contents\\r\\n\\r\\naws_s3_bucket_subfolder_list = ListS3BucketSubfolderContents()\\r\\n\\r\\nprint(aws_s3_bucket_subfolder_list)\\r\\n\\r\\ns3 = boto3.resource(\'s3\')\\r\\nbucket = s3.Bucket(aws_s3_bucket_name)\\r\\n\\r\\nfor i in aws_s3_bucket_subfolder_list:\\r\\n    filename = i.split(f\'{aws_s3_bucket_subfolder}/\',1)[1]\\r\\n    bucket.download_file(i,filename)\\r\\n```\\r\\n\\r\\n![Python code to download from S3](/src/assets/blog/2023-03-11--20.png)\\r\\n\\r\\nFiles successfully downloaded from S3 bucket to locally.\\r\\n\\r\\n![Files downloaded to script folder from S3](/src/assets/blog/2023-03-11--21.png)\\r\\n\\r\\n\\r\\n\\r\\n### References\\r\\n\\r\\n* YouTube video **[Upload and Download files from AWS S3 Bucket using python 2022 by Code Bear](https://www.youtube.com/watch?v=K68AtRsNEyo)**\\r\\n\\r\\n* Website **[How to Upload And Download Files From AWS S3 Using Python (2022) by Bex Tuychiev](https://towardsdatascience.com/how-to-upload-and-download-files-from-aws-s3-using-python-2022-4c9b787b15f2)**\\r\\n\\r\\n\\r\\n\\r\\nClick **[here](https://github.com/makuharistudio/makuharistudio.github.io/blob/main/src/markdown/posts/2023-03-11.md)** for this post\'s markdown file in GitHub.","photo":"../assets/blog/2023-03-11--00.png\\r"},{"id":1669381200,"title":"How to use geographic maps in Power BI with AppSource Deneb\\r","name":"how-to-use-geographic-maps-in-power-bi-with-appsource-deneb","tech":"logo-powerbi\\r","tags":"[\\"Power BI\\", \\"Power Query\\", \\"Deneb\\", \\"Vega\\", \\"Vega-Lite\\"] \\r","date":"26 November 2022\\r","content":"This post shows how to create country-level maps with AppSource Deneb in Power BI, and circumventing the external data source restriction by embedding the map data directly in your visual.\\r\\n\\r\\nThe final Power BI report *\\"AppSource Deneb Maps\\"* is available here:\\r\\n* **[https://community.powerbi.com/t5/Data-Stories-Gallery/AppSource-Deneb-Maps/m-p/2930366](https://community.powerbi.com/t5/Data-Stories-Gallery/AppSource-Deneb-Maps/m-p/2930366)**\\r\\n\\r\\n![My Power BI visualisation](/src/assets/portfolio/img-2022-11-power-bi-appsource-deneb-maps.gif)\\r\\n\\r\\n\\r\\nMany visualisations from the Vega and Vega-Lite Example Galleries can be copy-and-pasted into Power BI with Deneb.\\r\\n\\r\\n![Vega-Lite: Simple Bar Chart](/src/assets/blog/2022-11-26--01.png)\\r\\n\\r\\n![Deneb: Simple Bar Chart](/src/assets/blog/2022-11-26--02.png)\\r\\n\\r\\nA key exception are geographic maps because those templates connect to a web-hosted data file, and AppSource visuals are not allowed to access *\\"external services or resources\\"*.\\r\\n\\r\\n* **[https://learn.microsoft.com/en-us/power-bi/developer/visuals/power-bi-custom-visuals-certified](https://learn.microsoft.com/en-us/power-bi/developer/visuals/power-bi-custom-visuals-certified)**\\r\\n\\r\\n![Vega-Lite: Choropleth of Unemployment Rate per County](/src/assets/blog/2022-11-26--03.png)\\r\\n\\r\\n![Deneb: Choropleth of Unemployment Rate per County template](/src/assets/blog/2022-11-26--04.png)\\r\\n\\r\\nLogically, the workaround should be to embed the map data into the visual itself. But there are notable issues:\\r\\n\\r\\n* The map data may not have everything you need (e.g. country names) to map back to your Power BI dataset.\\r\\n\\r\\n![Vega-Lite: Example Gallery map data has no Country information](/src/assets/blog/2022-11-26--05.png)\\r\\n\\r\\n* Copying-and-pasting map data from the Example Gallery as-is without understanding the data structure may not work.\\r\\n\\r\\n![Deneb: Copy-and-pasting American state map data](/src/assets/blog/2022-11-26--06.png)\\r\\n\\r\\n* Performance issues editing the specification whilst the map data is embedded in it.\\r\\n\\r\\n\\r\\n## CREATE A COUNTRY-LEVEL VECTOR MAP DATASET\\r\\n\\r\\n\\r\\nDrawing shapes in Deneb (Vega/Vega-Lite) involves mapping out coordinates for each point of the shape a.k.a. \\"feature\\".\\r\\n\\r\\nA basic example of this can be copy-and-pasted from this Stack Overflow answer by Chris Woods **[(@ChrisWoodsSays)](https://twitter.com/ChrisWoodsSays)**.\\r\\n\\r\\n* **[https://stackoverflow.com/questions/71254436/loading-feature-data-into-vega-lite](https://stackoverflow.com/questions/71254436/loading-feature-data-into-vega-lite)**\\r\\n\\r\\n![Deneb: Copy-and-pasting American state map data](/src/assets/blog/2022-11-26--07.png)\\r\\n\\r\\nSo all we need is a dataset that has these coordinates that outline each country\'s shape.\\r\\n\\r\\n\\r\\n### Step 1. Retrieve a vector map data file\\r\\n\\r\\n*GeoJSON Maps of the globe* **[https://geojson-maps.ash.ms](https://geojson-maps.ash.ms)** by Ash Kyd **[(@ashkyd)](https://twitter.com/ashkyd)** is an excellent source for this.\\r\\n\\r\\nYou can choose how detailed the map is, and which regions to include.\\r\\n\\r\\nIn this example, we choose the lowest resolution (so it\'s less of a burden on the visual processing-wise), and all regions.\\r\\n\\r\\n![GeoJSON Maps of the globe: Part 1](/src/assets/blog/2022-11-26--08.png)\\r\\n\\r\\nClick the *\\"Build Custom GeoJSON\\"* button to download your custom.geo.json file.\\r\\n\\r\\n![GeoJSON Maps of the globe: Part 2](/src/assets/blog/2022-11-26--09.png)\\r\\n\\r\\n**Important!** This dataset is not comprehensive as it is missing a number of countries, e.g. Singapore. You can try seeking out other similar datasets as alternatives, as long as their structure is similar.\\r\\n\\r\\n\\r\\n### Step 2. Identify properties you do not need\\r\\n\\r\\nThis file has prolific properties you should review in case there are any you want to keep for your visual (highlighted in red), as well as the coordinates for the country shapes themselves (highlighted blue).\\r\\n\\r\\nIn this case, we will only be retaining the country names and coordinates, which would remove up to 2 thirds of the data.\\r\\n\\r\\nUsing Notepad++, you can use the JsonTools plugin to reformat the file\'s data into *\\"Pretty-print\\"*.\\r\\n\\r\\n![custom.geo.json modification: Part 1](/src/assets/blog/2022-11-26--10.png)\\r\\n\\r\\nYour data should now look like this:\\r\\n\\r\\n![custom.geo.json modification: Part 2](/src/assets/blog/2022-11-26--11.png)\\r\\n\\r\\nAn essential property to keep is:\\r\\n\\r\\n```\\r\\n\\"type\\": \\"Polygon\\"\\r\\n```\\r\\n\\r\\nBut there are other \\"type\\" properties including \\"Sovereignty\\", \\"Sovereign country\\", and \\"Country\\".\\r\\nSo we need to be careful we remove these, but not the \\"Polygon\\" one.\\r\\n\\r\\n![custom.geo.json modification: Part 3](/src/assets/blog/2022-11-26--12.png)\\r\\n\\r\\nThe property we will be keeping is \\"geounit\\", as it has the country name short form.\\r\\n\\r\\nWhereas other properties, like \\"fips_10\\", \\"formal_en\\", \\"homepart\\", etc. will need to be removed.\\r\\n\\r\\n![custom.geo.json modification: Part 4](/src/assets/blog/2022-11-26--13.png)\\r\\n\\r\\nUltimately, you want to create a string array of wildcard properties that will be used to assess each line of the custom.geo.json file, and remove that line where found.\\r\\n\\r\\n```\\r\\n\\"abbrev\\",\\"adm0_\\",\\"admin\\",\\"brk_\\",\\"continent\\",\\"economy\\",\\"fclass_\\",\\"featurecla\\",\\"filename\\",\\"fips_\\",\\"formal_\\",\\"gdp_\\",\\"geou_dif\\",\\"gu_a3\\",\\"homepart\\",\\"income_grp\\",\\"iso_\\",\\"label_\\",\\"labelrank\\", \\"level\\",\\"long_len\\",\\"mapcolor\\",\\"max_\\", \\"min_\\",\\"name\\",\\"ne_id\\",\\"note_\\",\\"pop_\\",\\"postal\\",\\"region_\\",\\"scalerank\\",\\"sov_\\",\\"sovereignt\\",\\"su_\\",\\"subregion\\",\\"subunit\\",\\"tiny\\",\\"tlc\\",\\"un_\\",\\"wb_\\",\\"wikidataid\\",\\"woe_\\",\\"ountry\\",\\"Dependency\\",\\"Sovereignty\\",\\"Disputed\\",\\"Indeterminate\\"\\r\\n```\\r\\n\\r\\nWe will use Python to do just that.\\r\\n\\r\\n\\r\\n### Step 3. Use Python to remove the unnecessary properties\\r\\n\\r\\nIn this example, we use Visual Studio Code and the Python extension to run the script needed to create a new file that only has the data we want.\\r\\n\\r\\nInstructions on how to create a Python environment are mentioned at the start of this previous post:\\r\\n\\r\\n* **[https://makuharistudio.github.io/#/blog/add-forecasts-from-python-using-visual-studio-code-to-power-bi](https://makuharistudio.github.io/#/blog/add-forecasts-from-python-using-visual-studio-code-to-power-bi)**\\r\\n\\r\\n\\r\\nThe Python script is as below:\\r\\n\\r\\n```\\r\\nimport os\\r\\ndef should_remove_line(line, stop_properties):\\r\\n    return any([word in line for word in stop_properties])\\r\\n\\r\\n# This lists the text strings that need to be detected for, and the lines they belong in removed\\r\\n\\r\\nstop_properties = [\\"abbrev\\",\\"adm0_\\",\\"admin\\",\\"brk_\\",\\"continent\\",\\"economy\\",\\"fclass_\\",\\"featurecla\\",\\"filename\\",\\"fips_\\",\\r\\n                   \\"formal_\\",\\"gdp_\\",\\"geou_dif\\",\\"gu_a3\\",\\"homepart\\",\\"income_grp\\",\\"iso_\\",\\"label_\\",\\"labelrank\\", \\"level\\",\\r\\n                   \\"long_len\\",\\"mapcolor\\",\\"max_\\", \\"min_\\",\\"name\\",\\"ne_id\\",\\"note_\\",\\"pop_\\",\\"postal\\",\\"region_\\",\\"scalerank\\",\\r\\n                   \\"sov_\\",\\"sovereignt\\",\\"su_\\",\\"subregion\\",\\"subunit\\",\\"tiny\\",\\"tlc\\",\\"un_\\",\\"wb_\\",\\"wikidataid\\",\\"woe_\\",\\r\\n                   \\"ountry\\",\\"Dependency\\",\\"Sovereignty\\",\\"Disputed\\",\\"Indeterminate\\"]\\r\\n\\r\\n# This code generates a temp file which removes nearly all of the unnecessary properties\\r\\n# But it leaves behind a single property \\"geounit\\", which has a comma at line end with no following property\\r\\n\\r\\nwith open(r\\"custom.geo.json\\") as f, open(r\\"stage1_output.json\\", \\"w\\") as stage1:    \\r\\n    for line in f:   \\r\\n        if not should_remove_line(line, stop_properties):  \\r\\n            stage1.write(line)\\r\\n\\r\\n# This code detects rows with the last remaining property, removes their commas, and writes to a second file\\r\\n\\r\\nstop_word = \\"geounit\\"\\r\\n\\r\\ndef remove_comma_after_name(line, stop_word):\\r\\n    return any([word in line for word in stop_word])\\r\\n\\r\\nwith open(r\\"stage1_output.json\\") as f, open(r\\"stage2_output.json\\", \\"w\\") as stage2:    \\r\\n    for line in f:\\r\\n        if stop_word in line:\\r\\n            line = line.replace(\',\',\'\',1)\\r\\n            stage2.write(line)\\r\\n        else:\\r\\n            stage2.write(line)\\r\\n\\r\\n```\\r\\n\\r\\nYour environment would have both the Python script and custom.geo.json, as per screenshot below, then you can just *Run Python File*.\\r\\n\\r\\n![Python: Part 1](/src/assets/blog/2022-11-26--14.png)\\r\\n\\r\\nThe script creates an initial file named *stage1_output.json*, where the \\"geounit\\" property has a comma at the end. If this is the only or last property, this will cause issues.\\r\\n\\r\\n![Python: Part 2](/src/assets/blog/2022-11-26--15.png)\\r\\n\\r\\nSo a second file is created named *stage2_output.json* to remove the comma. We will use the contents of this file for our Deneb visual.\\r\\n\\r\\n![Python: Part 3](/src/assets/blog/2022-11-26--16.png)\\r\\n\\r\\n\\r\\n### Step 4. Extract country names from the dataset\\r\\n\\r\\nOne way to extract country names is to Ctrl + F for all instances of \\"geounit\\" in the file via Notepad++, then copy-and-paste the results into Excel, and use formulas to remove the excess data such as line number, \\"geounit\\", etc.\\r\\n\\r\\n![Extract country names](/src/assets/blog/2022-11-26--17.png)\\r\\n\\r\\nYou can download this country list as an Excel file from here:\\r\\n\\r\\n* **[https://github.com/makuharistudio/data-visualisation-datasets/raw/main/AppSource%20Deneb%20maps/Countries.xlsx](https://github.com/makuharistudio/data-visualisation-datasets/raw/main/AppSource%20Deneb%20maps/Countries.xlsx)**\\r\\n\\r\\n\\r\\n### Step 5. Reformat map data file contents\\r\\n\\r\\nUsing Notepad++, you can use the JsonTools plugin to Compress the file.\\r\\n\\r\\n![Notepad++: Data compression Part 1](/src/assets/blog/2022-11-26--18.png)\\r\\n\\r\\n![Notepad++: Data compression Part 2](/src/assets/blog/2022-11-26--19.png)\\r\\n\\r\\nYou can additionally replace the \\"geounit\\" property name with \\"Country\\", to make it easily understood.\\r\\n\\r\\n![Notepad++: Data compression Part 3](/src/assets/blog/2022-11-26--20.png)\\r\\n\\r\\nYou can download this trimmed down geographic JSON data from here:\\r\\n\\r\\n* **[https://github.com/makuharistudio/data-visualisation-datasets/blob/main/AppSource%20Deneb%20maps/compressed.geo.json](https://github.com/makuharistudio/data-visualisation-datasets/blob/main/AppSource%20Deneb%20maps/compressed.geo.json)**\\r\\n\\r\\n\\r\\n## CREATE POWER BI DATASET & MODEL\\r\\n\\r\\n\\r\\n### Step 1. Connect to the country dataset\\r\\n\\r\\nCreate a new Power BI report, then from Power Query, create a new Blank Query using the code below to connect to the list of countries extracted from the map dataset.\\r\\n\\r\\n**Power Query code**\\r\\n\\r\\n```\\r\\nlet\\r\\n    Source = Excel.Workbook(Web.Contents(\\"https://github.com/makuharistudio/data-visualisation-datasets/blob/main/AppSource%20Deneb%20maps/Countries.xlsx?raw=true\\"), null, true),\\r\\n    tbl_Countries_Table = Source{[Item=\\"tbl_Countries\\",Kind=\\"Table\\"]}[Data],\\r\\n    #\\"Changed Type\\" = Table.TransformColumnTypes(tbl_Countries_Table,{{\\"Country\\", type text}})\\r\\nin\\r\\n    #\\"Changed Type\\"\\r\\n```\\r\\n\\r\\n![Data Source: Map Countries](/src/assets/blog/2022-11-26--21.png)\\r\\n\\r\\n\\r\\n### Step 2. Connect to the city population dataset\\r\\n\\r\\nCreate another blank query for the sample city population dataset also using an Excel Workbook connection. This is a modified version of the **[\\"World Cities Datasets\\" by Viswanathan C](https://www.kaggle.com/datasets/viswanathanc/world-cities-datasets)** hosted on my GitHub.\\r\\n\\r\\n**Power Query code**\\r\\n\\r\\n```\\r\\nlet\\r\\n    Source = Excel.Workbook(Web.Contents(\\"https://github.com/makuharistudio/data-visualisation-datasets/blob/main/AppSource%20Deneb%20maps/Populations.xlsx?raw=true\\"), null, true),\\r\\n    tbl_CityPopulations_Table = Source{[Item=\\"tbl_CityPopulations\\",Kind=\\"Table\\"]}[Data],\\r\\n    #\\"Changed Type\\" = Table.TransformColumnTypes(tbl_CityPopulations_Table,{{\\"Country\\", type text}, {\\"City\\", type text}, {\\"Latitude\\", type number}, {\\"Longitude\\", type number}, \\r\\n    {\\"Capital?\\", type text}, {\\"Population\\", Int64.Type}})\\r\\nin\\r\\n    #\\"Changed Type\\"\\r\\n```\\r\\n\\r\\n\\r\\n### Step 3. Merge both datasets\\r\\n\\r\\nThe reason we import the country list from the map dataset is in case you want to use a dataset other than this city population one, and need to remap country names in your own dataset to match the country names from the map.\\r\\n\\r\\n![Data Source: City Populations](/src/assets/blog/2022-11-26--22.png)\\r\\n\\r\\nIn this example, we will just merge the two datasets so that only records with the same country names are used. You can do this by creating a third blank query for this code:\\r\\n\\r\\n**Power Query code**\\r\\n\\r\\n```\\r\\nlet\\r\\n    Source = Table.NestedJoin(Countries, {\\"Country\\"}, Populations, {\\"Country\\"}, \\"Populations\\", JoinKind.Inner),\\r\\n    #\\"Expand dataset\\" = Table.ExpandTableColumn(Source, \\"Populations\\", {\\"City\\", \\"Latitude\\", \\"Longitude\\", \\"Capital?\\", \\"Population\\"}, {\\"City\\", \\"Latitude\\", \\"Longitude\\", \\"Capital?\\", \\"Population\\"})\\r\\nin\\r\\n    #\\"Expand dataset\\"\\r\\n```\\r\\n\\r\\n![Power Query: Merged dataset](/src/assets/blog/2022-11-26--23.png)\\r\\n\\r\\nFrom Power BI\'s Column tools tab, ensure the Summarization and Data category values are properly set for the Longitude and Latitude fields\\r\\n\\r\\n![Power BI: Merged dataset](/src/assets/blog/2022-11-26--24.png)\\r\\n\\r\\n\\r\\n### Step 4. Import the Deneb custom visual from AppSource\\r\\n\\r\\nDeneb can be downloaded from the Microsoft App Store:\\r\\n\\r\\n* **[https://appsource.microsoft.com/en-US/product/power-bi-visuals/coacervolimited1596856650797.deneb?tab=Overview](https://appsource.microsoft.com/en-US/product/power-bi-visuals/coacervolimited1596856650797.deneb?tab=Overview)**\\r\\n\\r\\nThe official website for Deneb:\\r\\n\\r\\n* **[https://deneb-viz.github.io](https://deneb-viz.github.io)**\\r\\n\\r\\n![Power BI: Import Deneb visual](/src/assets/blog/2022-11-26--25.png)\\r\\n\\r\\nAdd the visual to your report.\\r\\n\\r\\n\\r\\n### Step 5. Add Country and Population to the Deneb visual\\r\\n\\r\\nCreate a measure that sums Population and add it to the Deneb visual, along with these fields:\\r\\n\\r\\n* Country\\r\\n* City\\r\\n* Latitude\\r\\n* Longitude\\r\\n\\r\\n```\\r\\nPopulation = SUM(\'Dataset\'[Population])\\r\\n```\\r\\n\\r\\n![Power BI: Add Deneb visual](/src/assets/blog/2022-11-26--26.png)\\r\\n\\r\\nThat measure will be useful to the lowest field (e.g. Country or City, depending on which is added).\\r\\n\\r\\nA separate measure is needed to explicitly sum on Country for specifications that use both Country and City level.\\r\\n\\r\\n```\\r\\nPopulation by Country = CALCULATE(SUM(\'Dataset\'[Population]),ALLEXCEPT(\'Dataset\',\'Dataset\'[Country]))\\r\\n```\\r\\n\\r\\n\\r\\n## HOW TO ADD MAP DATA TO DENEB SPECIFICATION\\r\\n\\r\\nThe different downloadabe specifications below use this embedded map data approach.\\r\\n\\r\\nTo add the map data to each specification, copy from *\\"features\\"* at the start of the data, to *\\"type\\": \\"Feature\\"}]* at the end of the data, as per screenshot below.\\r\\n\\r\\n![Deneb: How to add map data to Vega-Lite](/src/assets/blog/2022-11-26--27.png)\\r\\n\\r\\nThen paste it by replacing the *<< add map data here >>* placeholder in each of the specifications.\\r\\n\\r\\nIt is recommended to define your specification before pasting the map data, as editing the Specification can slow down a lot with that data in place.\\r\\n\\r\\nIf you must edit the specification with the map data in place, you can collapse it by clicking *hide*.\\r\\n\\r\\n![Deneb: How to add map data to Vega-Lite](/src/assets/blog/2022-11-26--28.png)\\r\\n\\r\\n\\r\\n## MISSING DATA\\r\\n\\r\\nAs at time of writing, Deneb visuals are limited to displaying up to 30,000 rows of data.\\r\\n\\r\\nIf your map specification goes over that threshold, country geometries toward the end of your dataset may not appear onscreen.\\r\\n\\r\\nTo display them, try enabling the limiter override via the Visualizations pane > Format your visual section > Visual tab > expand Data Limit Options > Override Row Limit.\\r\\n\\r\\nFor example, Zimbabwe being at the end of the alphabet, does not appear when the limiter override is off, but appears when toggled on.\\r\\n\\r\\n![Deneb: Override Row Limit](/src/assets/blog/2022-11-26--29.png)\\r\\n\\r\\n\\r\\n\\r\\nNext, let\'s create some standard map specifications based on Vega-Lite and Vega Example galleries by using the map data embedding we\'ve covered.\\r\\n\\r\\n\\r\\n\\r\\n## FILLED AREA MAP (FIXED)\\r\\n\\r\\nThis **Vega-Lite** map does not allow pan nor zoom.\\r\\n\\r\\nIt is based on the *\\"Choropleth of Unemployment Rate per County\\"* template, except this one is at country-level.\\r\\n\\r\\n* **[https://vega.github.io/vega-lite/examples/geo_choropleth.html](https://vega.github.io/vega-lite/examples/geo_choropleth.html)**\\r\\n\\r\\n**Preview**\\r\\n\\r\\n![Deneb: Filled area map fixed (Vega-Lite)](https://github.com/makuharistudio/data-visualisation-datasets/blob/main/AppSource%20Deneb%20maps/Power%20BI%20gif%20preview/Filled%20area%20map%20fixed.gif?raw=true)\\r\\n\\r\\n**Deneb specification**\\r\\n\\r\\n```\\r\\n{\\"background\\": \\"null\\",\\r\\n \\"view\\": {\\"fill\\": \\"#F0F8FF\\", \\r\\n          \\"fillOpacity\\": 1.0 },\\r\\n \\"width\\": 1000,\\r\\n \\"height\\": 500,\\r\\n \\"data\\": {\\r\\n    \\"name\\": \\"map\\",\\r\\n    \\"values\\": {\\r\\n      \\"type\\": \\"FeatureCollection\\",\\r\\n      << add map data here >>\\r\\n    },\\r\\n    \\"format\\": {\\"type\\": \\"json\\", \\"property\\": \\"features\\"}\\r\\n },\\r\\n \\"transform\\": [{\\r\\n    \\"lookup\\": \\"properties.Country\\",\\r\\n    \\"from\\": {\\r\\n      \\"data\\": {\\"name\\": \\"dataset\\"},\\r\\n        \\"key\\": \\"Country\\",\\r\\n        \\"fields\\": [\\"Population\\"]\\r\\n    }\\r\\n }],\\r\\n \\"projection\\": { \\"type\\": \\"mercator\\" },\\r\\n \\"mark\\": {\\"type\\": \\"geoshape\\", \\r\\n          \\"strokeWidth\\": \\"0.5\\",\\r\\n          \\"stroke\\": \\"#000000\\"},\\r\\n \\"encoding\\": {\\r\\n    \\"tooltip\\": [{\\"field\\": \\"properties.Country\\", \\r\\n                 \\"title\\": \\"Country\\"}, \\r\\n                {\\"field\\": \\"Population\\"}],\\r\\n    \\"color\\": {\\r\\n      \\"field\\": \\"Population\\",\\r\\n      \\"type\\": \\"quantitative\\",\\r\\n      \\"scale\\": {\\"range\\": [\\"#EBF7BB\\", \\"#1D368A\\"]}\\r\\n    }\\r\\n }\\r\\n}\\r\\n```\\r\\n\\r\\n\\r\\n## COORDINATE POINT MAP (FIXED)\\r\\n\\r\\nThis **Vega-Lite** map does not allow pan nor zoom.\\r\\n\\r\\nIt is based on the *\\"One Dot per Airport in the U.S. Overlayed on Geoshape\\"* template.\\r\\n\\r\\n* **[https://vega.github.io/vega-lite/examples/geo_layer.html](https://vega.github.io/vega-lite/examples/geo_layer.html)**\\r\\n\\r\\n**Preview**\\r\\n\\r\\n![Deneb: Coordinate point map fixed (Vega-Lite)](https://github.com/makuharistudio/data-visualisation-datasets/blob/main/AppSource%20Deneb%20maps/Power%20BI%20gif%20preview/Coordinate%20point%20map%20fixed.gif?raw=true)\\r\\n\\r\\n**Deneb specification**\\r\\n\\r\\n```\\r\\n{\\"background\\": \\"null\\",\\r\\n \\"view\\": {\\"fill\\": \\"#F0F8FF\\", \\r\\n          \\"fillOpacity\\": 1.0 },\\r\\n \\"width\\": 1000,\\r\\n \\"height\\": 500,\\r\\n \\"layer\\": [\\r\\n    { \\"data\\": {\\r\\n        \\"values\\": {\\r\\n          \\"type\\": \\"FeatureCollection\\",\\r\\n          << add map data here >>\\r\\n        },\\r\\n        \\"format\\": {\\"type\\": \\"json\\", \\"property\\": \\"features\\"}\\r\\n      },\\r\\n      \\"mark\\": {\\"type\\": \\"geoshape\\", \\r\\n               \\"strokeWidth\\": \\"0.5\\",\\r\\n               \\"stroke\\": \\"#000000\\",\\r\\n               \\"fill\\": \\"#E8F5B9\\" },\\r\\n      \\"encoding\\": {\\r\\n        \\"tooltip\\": {\\"field\\": \\"properties.Country\\", \\"title\\": \\"Country\\"},\\r\\n        \\"shape\\": {\\"type\\": \\"geojson\\"}\\r\\n      }\\r\\n    },\\r\\n    { \\"data\\": { \\"name\\": \\"dataset\\" },\\r\\n      \\"projection\\": { \\"type\\": \\"mercator\\"},\\r\\n      \\"mark\\": \\"circle\\",\\r\\n      \\"encoding\\": {\\r\\n        \\"tooltip\\": [{\\"field\\": \\"Country\\"},\\r\\n                    {\\"field\\": \\"City\\"},\\r\\n                    {\\"field\\": \\"Latitude\\"},\\r\\n                    {\\"field\\": \\"Longitude\\"},\\r\\n                    {\\"field\\": \\"Population\\"}],\\r\\n        \\"longitude\\": {\\r\\n          \\"field\\": \\"Longitude\\",\\r\\n          \\"type\\": \\"quantitative\\"\\r\\n        },\\r\\n        \\"latitude\\": {\\r\\n          \\"field\\": \\"Latitude\\",\\r\\n          \\"type\\": \\"quantitative\\"\\r\\n        },\\r\\n        \\"size\\": {\\"value\\": 5},\\r\\n        \\"color\\": {\\"value\\": \\"red\\"}\\r\\n      }\\r\\n    }\\r\\n  ]\\r\\n}\\r\\n```\\r\\n\\r\\n\\r\\n## FILLED AREA WITH COORDINATE POINT MAP (FIXED)\\r\\n\\r\\nThis **Vega-Lite** map does not allow pan nor zoom.\\r\\n\\r\\nIt is based on a combination of both *\\"Choropleth of Unemployment Rate per County\\"* and *\\"One Dot per Airport in the U.S. Overlayed on Geoshape\\"* templates.\\r\\n\\r\\n* **[https://vega.github.io/vega-lite/examples/geo_choropleth.html](https://vega.github.io/vega-lite/examples/geo_choropleth.html)**\\r\\n\\r\\n* **[https://vega.github.io/vega-lite/examples/geo_layer.html](https://vega.github.io/vega-lite/examples/geo_layer.html)**\\r\\n\\r\\n**Preview**\\r\\n\\r\\n![Deneb: Filled area with coordinate point map fixed (Vega-Lite)](https://github.com/makuharistudio/data-visualisation-datasets/blob/main/AppSource%20Deneb%20maps/Power%20BI%20gif%20preview/Filled%20area%20with%20coordinate%20point%20map%20fixed.gif?raw=true)\\r\\n\\r\\n**Deneb specification**\\r\\n\\r\\n```\\r\\n{\\r\\n  \\"background\\": \\"null\\",\\r\\n  \\"view\\": {\\r\\n    \\"fill\\": \\"#F0F8FF\\",\\r\\n    \\"fillOpacity\\": 1\\r\\n  },\\r\\n  \\"width\\": 1000,\\r\\n  \\"height\\": 500,\\r\\n  \\"layer\\": [\\r\\n    {\\r\\n      \\"data\\": {\\r\\n        \\"values\\": {\\r\\n          \\"type\\": \\"FeatureCollection\\",\\r\\n          << add map data here >>\\r\\n        },\\r\\n        \\"format\\": {\\r\\n          \\"type\\": \\"json\\",\\r\\n          \\"property\\": \\"features\\"\\r\\n        }\\r\\n      },\\r\\n      \\"transform\\": [\\r\\n        {\\r\\n          \\"lookup\\": \\"properties.Country\\",\\r\\n          \\"from\\": {\\r\\n            \\"data\\": {\\"name\\": \\"dataset\\"},\\r\\n            \\"key\\": \\"Country\\",\\r\\n            \\"fields\\": [\\r\\n              \\"Population\\",\\r\\n              \\"Population by Country\\"\\r\\n            ]\\r\\n          }\\r\\n        }\\r\\n      ],\\r\\n      \\"projection\\": {\\r\\n        \\"type\\": \\"mercator\\"\\r\\n      },\\r\\n      \\"mark\\": {\\r\\n        \\"type\\": \\"geoshape\\",\\r\\n        \\"strokeWidth\\": \\"0.5\\",\\r\\n        \\"stroke\\": \\"#000000\\"\\r\\n      },\\r\\n      \\"encoding\\": {\\r\\n        \\"tooltip\\": [\\r\\n          {\\r\\n            \\"field\\": \\"properties.Country\\",\\r\\n            \\"title\\": \\"Country\\"\\r\\n          },\\r\\n          {\\r\\n            \\"field\\": \\"Population by Country\\",\\r\\n            \\"title\\": \\"Population\\"\\r\\n          }\\r\\n        ],\\r\\n        \\"color\\": {\\r\\n          \\"field\\": \\"Population by Country\\",\\r\\n          \\"type\\": \\"quantitative\\",\\r\\n          \\"scale\\": {\\r\\n            \\"range\\": [\\r\\n              \\"#EBF7BB\\",\\r\\n              \\"#1D368A\\"\\r\\n            ]\\r\\n          }\\r\\n        }\\r\\n      }\\r\\n    },\\r\\n    {\\r\\n      \\"data\\": {\\"name\\": \\"dataset\\"},\\r\\n      \\"projection\\": {\\r\\n        \\"type\\": \\"mercator\\"\\r\\n      },\\r\\n      \\"mark\\": \\"circle\\",\\r\\n      \\"encoding\\": {\\r\\n        \\"tooltip\\": [\\r\\n          {\\"field\\": \\"Country\\"},\\r\\n          {\\"field\\": \\"City\\"},\\r\\n          {\\"field\\": \\"Latitude\\"},\\r\\n          {\\"field\\": \\"Longitude\\"},\\r\\n          {\\"field\\": \\"Population\\"}\\r\\n        ],\\r\\n        \\"longitude\\": {\\r\\n          \\"field\\": \\"Longitude\\",\\r\\n          \\"type\\": \\"quantitative\\"\\r\\n        },\\r\\n        \\"latitude\\": {\\r\\n          \\"field\\": \\"Latitude\\",\\r\\n          \\"type\\": \\"quantitative\\"\\r\\n        },\\r\\n        \\"size\\": {\\"value\\": 5},\\r\\n        \\"color\\": {\\"value\\": \\"red\\"}\\r\\n      }\\r\\n    }\\r\\n  ]\\r\\n}\\r\\n```\\r\\n\\r\\n\\r\\n## MAP PROJECTION EXPLORER (FIXED)\\r\\n\\r\\nThis **Vega-Lite** map does not allow pan nor zoom.\\r\\n\\r\\nThis allows exploring various map projection types in Vega-Lite.\\r\\n\\r\\nIt is based on the *\\"Projection explorer\\"* template.\\r\\n\\r\\n* **[https://vega.github.io/vega-lite/examples/geo_params_projections.html](https://vega.github.io/vega-lite/examples/geo_params_projections.html)**\\r\\n\\r\\n**Preview**\\r\\n\\r\\n![Deneb: Map projection explorer fixed (Vega-Lite)](https://github.com/makuharistudio/data-visualisation-datasets/blob/main/AppSource%20Deneb%20maps/Power%20BI%20gif%20preview/Map%20projection%20explorer%20fixed.gif?raw=true)\\r\\n\\r\\n**Deneb specification**\\r\\n\\r\\n```\\r\\n{\\"background\\": \\"null\\",\\r\\n \\"view\\": {\\"fill\\": \\"#F0F8FF\\", \\r\\n          \\"fillOpacity\\": 1.0 },\\r\\n \\"width\\": 1000,\\r\\n \\"height\\": 500,\\r\\n \\"params\\": [\\r\\n    { \\"name\\": \\"projection\\",\\r\\n      \\"value\\": \\"albers\\",\\r\\n      \\"bind\\": {\\r\\n        \\"input\\": \\"select\\",\\r\\n        \\"options\\": [\\r\\n          \\"albers\\",\\r\\n          \\"albersUsa\\",\\r\\n          \\"azimuthalEqualArea\\",\\r\\n          \\"azimuthalEquidistant\\",\\r\\n          \\"conicConformal\\",\\r\\n          \\"conicEqualArea\\",\\r\\n          \\"conicEquidistant\\",\\r\\n          \\"equalEarth\\",\\r\\n          \\"equirectangular\\",\\r\\n          \\"gnomonic\\",\\r\\n          \\"mercator\\",\\r\\n          \\"naturalEarth1\\",\\r\\n          \\"orthographic\\",\\r\\n          \\"stereographic\\",\\r\\n          \\"transverseMercator\\"\\r\\n        ]\\r\\n      }\\r\\n    }\\r\\n ],\\r\\n \\"layer\\": [\\r\\n    { \\"data\\": {\\r\\n        \\"values\\": {\\r\\n          \\"type\\": \\"FeatureCollection\\",\\r\\n          << add map data here >>\\r\\n        },\\r\\n        \\"format\\": {\\"type\\": \\"json\\", \\"property\\": \\"features\\"}\\r\\n      },\\r\\n      \\"transform\\": [{\\r\\n        \\"lookup\\": \\"properties.Country\\",\\r\\n          \\"from\\": {\\r\\n            \\"data\\": {\\"name\\": \\"dataset\\"},\\r\\n                     \\"key\\": \\"Country\\",\\r\\n                     \\"fields\\": [\\"Population\\", \\"Population by Country\\"]\\r\\n          }\\r\\n      }],\\r\\n      \\"projection\\": {\\"type\\": {\\"expr\\": \\"projection\\"}},\\r\\n      \\"mark\\": {\\"type\\": \\"geoshape\\",\\r\\n               \\"strokeWidth\\": \\"0.5\\",\\r\\n               \\"stroke\\": \\"#000000\\"\\r\\n      },\\r\\n      \\"encoding\\": {\\r\\n        \\"tooltip\\": [{\\"field\\": \\"properties.Country\\", \\r\\n                     \\"title\\": \\"Country\\"}, \\r\\n                    {\\"field\\": \\"Population by Country\\"}],\\r\\n        \\"color\\": {\\r\\n          \\"field\\": \\"Population by Country\\",\\r\\n          \\"type\\": \\"quantitative\\",\\r\\n          \\"scale\\": {\\"range\\": [\\"#EBF7BB\\", \\"#1D368A\\"]}\\r\\n        }\\r\\n      }\\r\\n    },\\r\\n    { \\"data\\": { \\"name\\": \\"dataset\\" },\\r\\n      \\"projection\\": {\\"type\\": {\\"expr\\": \\"projection\\"}},\\r\\n      \\"mark\\": \\"circle\\",\\r\\n      \\"encoding\\": {\\r\\n        \\"tooltip\\": [{\\"field\\": \\"Country\\"},\\r\\n                    {\\"field\\": \\"City\\"},\\r\\n                    {\\"field\\": \\"Latitude\\"},\\r\\n                    {\\"field\\": \\"Longitude\\"},\\r\\n                    {\\"field\\": \\"Population\\"}],\\r\\n        \\"longitude\\": {\\r\\n          \\"field\\": \\"Longitude\\",\\r\\n          \\"type\\": \\"quantitative\\"\\r\\n        },\\r\\n        \\"latitude\\": {\\r\\n          \\"field\\": \\"Latitude\\",\\r\\n          \\"type\\": \\"quantitative\\"\\r\\n        },\\r\\n        \\"size\\": {\\"value\\": 5},\\r\\n        \\"color\\": {\\"value\\": \\"red\\"}\\r\\n      }\\r\\n    }\\r\\n  ]\\r\\n}\\r\\n```\\r\\n\\r\\n\\r\\n## SLIDER INTERACTIVE GLOBE (FIXED)\\r\\n\\r\\nThis **Vega-Lite** globe map does not allow pan nor zoom, but can rotate using sliders.\\r\\n\\r\\nIt is based on the *\\"Earthquakes Example\\"* template.\\r\\n\\r\\n* **[https://vega.github.io/vega-lite/examples/interactive_geo_earthquakes.html](https://vega.github.io/vega-lite/examples/interactive_geo_earthquakes.html)**\\r\\n\\r\\n**Preview**\\r\\n\\r\\n![Deneb: Slider interactive globe fixed (Vega-Lite)](https://github.com/makuharistudio/data-visualisation-datasets/blob/main/AppSource%20Deneb%20maps/Power%20BI%20gif%20preview/Slider%20interactive%20globe%20fixed.gif?raw=true)\\r\\n\\r\\n**Deneb specification**\\r\\n\\r\\n```\\r\\n{\\r\\n  \\"width\\": 500,\\r\\n  \\"height\\": 500,\\r\\n  \\"projection\\": {\\r\\n    \\"type\\": \\"orthographic\\",\\r\\n    \\"rotate\\": {\\"expr\\": \\"[rotate0, rotate1, 0]\\"}\\r\\n  },\\r\\n  \\"params\\": [\\r\\n    {\\r\\n      \\"name\\": \\"rotate0\\",\\r\\n      \\"value\\": 0,\\r\\n      \\"bind\\": {\\"input\\": \\"range\\", \\"min\\": -90, \\"max\\": 90, \\"step\\": 1}\\r\\n    },\\r\\n    {\\r\\n      \\"name\\": \\"rotate1\\",\\r\\n      \\"value\\": 0,\\r\\n      \\"bind\\": {\\"input\\": \\"range\\", \\"min\\": -90, \\"max\\": 90, \\"step\\": 1}\\r\\n    },\\r\\n    {\\r\\n      \\"name\\": \\"populationSize\\",\\r\\n      \\"value\\": 2.0,\\r\\n      \\"bind\\": {\\"input\\": \\"range\\", \\"min\\": 0.1, \\"max\\": 4, \\"step\\": 0.1}\\r\\n    }\\r\\n  ],\\r\\n  \\"layer\\": [\\r\\n    {\\r\\n      \\"data\\": {\\"sphere\\": true},\\r\\n      \\"mark\\": {\\"type\\": \\"geoshape\\", \\"fill\\": \\"#F0F8FF\\"}\\r\\n    },\\r\\n    {\\r\\n      \\"data\\": { \\"graticule\\": true },\\r\\n      \\"mark\\": {\\r\\n        \\"type\\": \\"geoshape\\",\\r\\n        \\"stroke\\": \\"#B0D8FF\\",\\r\\n        \\"strokeWidth\\": 0.25\\r\\n      }\\r\\n    },\\r\\n    {\\r\\n      \\"data\\": {\\r\\n        \\"values\\": {\\r\\n          \\"type\\": \\"FeatureCollection\\",\\r\\n          << add map data here >>\\r\\n        },\\r\\n        \\"format\\": {\\"type\\": \\"json\\", \\"property\\": \\"features\\"}\\r\\n      },\\r\\n      \\"transform\\": [{\\r\\n        \\"lookup\\": \\"properties.Country\\",\\r\\n          \\"from\\": {\\r\\n            \\"data\\": {\\"name\\": \\"dataset\\"},\\r\\n            \\"key\\": \\"Country\\",\\r\\n            \\"fields\\": [\\"Population\\", \\"Population by Country\\"]\\r\\n          }\\r\\n      }],\\r\\n      \\"mark\\": {\\"type\\": \\"geoshape\\",\\r\\n               \\"strokeWidth\\": \\"0.5\\",\\r\\n               \\"stroke\\": \\"#000000\\"\\r\\n      },\\r\\n      \\"encoding\\": {\\r\\n        \\"shape\\": {\\"type\\": \\"geojson\\"},\\r\\n        \\"tooltip\\": [{\\"field\\": \\"properties.Country\\", \\r\\n                     \\"title\\": \\"Country\\"}, \\r\\n                    {\\"field\\": \\"Population by Country\\",\\r\\n                     \\"title\\": \\"Population\\"\\r\\n                    }],\\r\\n        \\"color\\": {\\r\\n          \\"field\\": \\"Population by Country\\",\\r\\n          \\"type\\": \\"quantitative\\",\\r\\n          \\"scale\\": {\\"range\\": [\\"#EBF7BB\\", \\"#1D368A\\"]}\\r\\n        }\\r\\n      }\\r\\n    },\\r\\n    {\\r\\n      \\"data\\": { \\"name\\": \\"dataset\\" },\\r\\n      \\"transform\\": [\\r\\n        {\\"calculate\\": \\"datum.Longitude\\", \\"as\\": \\"longitude\\"},\\r\\n        {\\"calculate\\": \\"datum.Latitude\\", \\"as\\": \\"latitude\\"},\\r\\n        {\\"filter\\": \\"(rotate0 * -1) - 90 < datum.longitude && datum.longitude < (rotate0 * -1) + 90 && (rotate1 * -1) - 90 < datum.latitude && datum.latitude < (rotate1 * -1) + 90\\"},\\r\\n        {\\"calculate\\": \\"abs(datum.Longitude)\\", \\"as\\": \\"magnitude\\"}\\r\\n      ],\\r\\n      \\"mark\\": {\\"type\\": \\"circle\\", \\"color\\": \\"red\\", \\"opacity\\": 1.0},\\r\\n      \\"encoding\\": {\\r\\n        \\"longitude\\": {\\"field\\": \\"longitude\\", \\"type\\": \\"quantitative\\"},\\r\\n        \\"latitude\\": {\\"field\\": \\"latitude\\", \\"type\\": \\"quantitative\\"},\\r\\n        \\"size\\": {\\r\\n          \\"legend\\": null,\\r\\n          \\"field\\": \\"magnitude\\",\\r\\n          \\"type\\": \\"quantitative\\",\\r\\n          \\"scale\\": {\\r\\n            \\"type\\": \\"sqrt\\",\\r\\n            \\"domain\\": [0, 100],\\r\\n            \\"range\\": [0, {\\"expr\\": \\"pow(populationSize, 3)\\"}]\\r\\n          }\\r\\n        },\\r\\n        \\"tooltip\\": [{\\"field\\": \\"Country\\", \\"name\\": \\"Country\\"},\\r\\n                    {\\"field\\": \\"City\\"},\\r\\n                    {\\"field\\": \\"Latitude\\"},\\r\\n                    {\\"field\\": \\"Longitude\\"},\\r\\n                    {\\"field\\": \\"Population\\"}]\\r\\n      }\\r\\n    }\\r\\n  ]\\r\\n}\\r\\n```\\r\\n\\r\\n\\r\\n## INTERACTIVE MAP (PAN & ZOOM)\\r\\n\\r\\nThis **Vega** map allows pan and zoom.\\r\\n\\r\\nIt is based on the *\\"Zoomable World Map Example\\"* template, but mine takes it a couple of steps further by actually connecting the geographic shapes to your country data, and has an extra layer for latitude and longitude coordinates.\\r\\n\\r\\n* **[https://vega.github.io/vega/examples/zoomable-world-map](https://vega.github.io/vega/examples/zoomable-world-map)**\\r\\n\\r\\n**Preview**\\r\\n\\r\\n![Deneb: Interactive map pan & zoom (Vega-Lite)](https://github.com/makuharistudio/data-visualisation-datasets/blob/main/AppSource%20Deneb%20maps/Power%20BI%20gif%20preview/Interactive%20map%20pan%20and%20zoom.gif?raw=true)\\r\\n\\r\\n**Deneb specification**\\r\\n\\r\\n```\\r\\n{\\r\\n  \\"width\\": 1100,\\r\\n  \\"height\\": 700,\\r\\n  \\"autosize\\": \\"true\\",\\r\\n  \\"background\\": \\"#EEFFFF\\",\\r\\n  \\"signals\\": [\\r\\n    { \\"name\\": \\"tx\\", \\"update\\": \\"width / 2\\" },\\r\\n    { \\"name\\": \\"ty\\", \\"update\\": \\"height / 2\\" },\\r\\n    { \\"name\\": \\"scale\\",\\r\\n      \\"value\\": 150,\\r\\n      \\"on\\": [{\\r\\n        \\"events\\": {\\"type\\": \\"wheel\\", \\"consume\\": true},\\r\\n        \\"update\\": \\"clamp(scale * pow(1.0005, -event.deltaY * pow(16, event.deltaMode)), 150, 3000)\\"\\r\\n      }]\\r\\n    },\\r\\n    { \\"name\\": \\"angles\\",\\r\\n      \\"value\\": [0, 0],\\r\\n      \\"on\\": [{\\r\\n        \\"events\\": \\"mousedown\\",\\r\\n        \\"update\\": \\"[rotateX, centerY]\\"\\r\\n      }]\\r\\n    },\\r\\n    { \\"name\\": \\"cloned\\",\\r\\n      \\"value\\": null,\\r\\n      \\"on\\": [{\\r\\n        \\"events\\": \\"mousedown\\",\\r\\n        \\"update\\": \\"copy(\'projection\')\\"\\r\\n      }]\\r\\n    },\\r\\n    { \\"name\\": \\"start\\",\\r\\n      \\"value\\": null,\\r\\n      \\"on\\": [{\\r\\n        \\"events\\": \\"mousedown\\",\\r\\n        \\"update\\": \\"invert(cloned, xy())\\"\\r\\n      }]\\r\\n    },\\r\\n    { \\"name\\": \\"drag\\",\\r\\n      \\"value\\": null,\\r\\n      \\"on\\": [{\\r\\n        \\"events\\": \\"[mousedown, window:mouseup] > window:mousemove\\",\\r\\n        \\"update\\": \\"invert(cloned, xy())\\"\\r\\n      }]\\r\\n    },\\r\\n    { \\"name\\": \\"delta\\", \\"value\\": null,\\r\\n      \\"on\\": [{\\r\\n        \\"events\\": {\\"signal\\": \\"drag\\"},\\r\\n        \\"update\\": \\"[drag[0] - start[0], start[1] - drag[1]]\\"\\r\\n      }]\\r\\n    },\\r\\n    { \\"name\\": \\"rotateX\\", \\"value\\": 0,\\r\\n      \\"on\\": [{\\r\\n        \\"events\\": {\\"signal\\": \\"delta\\"},\\r\\n        \\"update\\": \\"angles[0] + delta[0]\\"\\r\\n      }]\\r\\n    },\\r\\n    { \\"name\\": \\"centerY\\", \\"value\\": 0,\\r\\n      \\"on\\": [{\\r\\n        \\"events\\": {\\"signal\\": \\"delta\\"},\\r\\n        \\"update\\": \\"clamp(angles[1] + delta[1], -60, 60)\\"\\r\\n      }]\\r\\n    }\\r\\n  ],\\r\\n\\r\\n  \\"projections\\": [\\r\\n    {\\r\\n      \\"name\\": \\"projection\\",\\r\\n      \\"type\\": \\"mercator\\",\\r\\n      \\"scale\\": {\\"signal\\": \\"scale\\"},\\r\\n      \\"rotate\\": [{\\"signal\\": \\"rotateX\\"}, 0, 0],\\r\\n      \\"center\\": [0, {\\"signal\\": \\"centerY\\"}],\\r\\n      \\"translate\\": [{\\"signal\\": \\"tx\\"}, {\\"signal\\": \\"ty\\"}]\\r\\n    }\\r\\n  ],\\r\\n\\r\\n  \\"data\\": [\\r\\n    { \\"name\\": \\"world\\",\\r\\n      \\"values\\": {\\r\\n        \\"type\\": \\"FeatureCollection\\",\\r\\n        << add map data here >>\\r\\n      },\\r\\n      \\"format\\": {\\"type\\": \\"json\\", \\"property\\": \\"features\\"}\\r\\n    },\\r\\n    { \\"name\\": \\"dataset\\", \\"format\\": {} },\\r\\n    { \\"name\\": \\"graticule\\",\\r\\n      \\"transform\\": [ { \\"type\\": \\"graticule\\", \\"step\\": [15, 15] } ]\\r\\n    },\\r\\n    { \\"name\\": \\"world_map\\",\\r\\n      \\"source\\": \\"world\\",\\r\\n      \\"transform\\": [\\r\\n        { \\"type\\": \\"formula\\",\\r\\n          \\"expr\\": \\"datum[\\\\\\"properties\\\\\\"] && datum[\\\\\\"properties\\\\\\"][\\\\\\"Country\\\\\\"]\\",\\r\\n          \\"as\\": \\"properties.Country\\"\\r\\n        },\\r\\n        { \\"type\\": \\"lookup\\",\\r\\n          \\"from\\": \\"dataset\\",\\r\\n          \\"key\\": \\"Country\\",\\r\\n          \\"fields\\": [\\"properties.Country\\"],\\r\\n          \\"values\\": [\\"Population\\", \\"Population by Country\\"]\\r\\n        },\\r\\n        { \\"type\\": \\"filter\\",\\r\\n          \\"expr\\": \\"isValid(datum[\\\\\\"Population\\\\\\"]) && isFinite(+datum[\\\\\\"Population\\\\\\"])\\"\\r\\n        }\\r\\n      ]\\r\\n    },\\r\\n    { \\"name\\": \\"powerbi_dataset\\",\\r\\n      \\"source\\": \\"dataset\\",\\r\\n      \\"transform\\": [\\r\\n        { \\"type\\": \\"geojson\\",\\r\\n          \\"fields\\": [\\"Longitude\\", \\"Latitude\\"],\\r\\n          \\"signal\\": \\"layer_1_geojson_0\\"\\r\\n        },\\r\\n        { \\"type\\": \\"geopoint\\",\\r\\n          \\"projection\\": \\"projection\\",\\r\\n          \\"fields\\": [\\"Longitude\\", \\"Latitude\\"],\\r\\n          \\"as\\": [\\"layer_1_x\\", \\"layer_1_y\\"]\\r\\n        }\\r\\n      ]\\r\\n    }\\r\\n  ],\\r\\n\\r\\n  \\"marks\\": [\\r\\n    { \\"type\\": \\"shape\\",\\r\\n      \\"from\\": {\\"data\\": \\"graticule\\"},\\r\\n      \\"encode\\": {\\r\\n        \\"enter\\": {\\r\\n          \\"strokeWidth\\": {\\"value\\": 0.25},\\r\\n          \\"stroke\\": {\\"value\\": \\"#88D5FF\\"},\\r\\n          \\"fill\\": {\\"value\\": \\"#88D5FF\\"}\\r\\n        }\\r\\n      },\\r\\n      \\"transform\\": [ { \\"type\\": \\"geoshape\\", \\"projection\\": \\"projection\\" } ]\\r\\n    },\\r\\n    { \\"type\\": \\"shape\\",\\r\\n      \\"style\\": [\\"geoshape\\"],\\r\\n      \\"from\\": {\\"data\\": \\"world_map\\"},\\r\\n      \\"encode\\": {\\r\\n        \\"enter\\": {\\r\\n          \\"strokeWidth\\": {\\"value\\": 0.5},\\r\\n          \\"stroke\\": {\\"value\\": \\"#000000\\"}\\r\\n        },\\r\\n        \\"update\\": {\\r\\n          \\"fill\\": {\\"scale\\": \\"color\\", \\"field\\": \\"Population by Country\\"},\\r\\n            \\"tooltip\\": {\\r\\n              \\"signal\\": \\"{\\\\\\"Country\\\\\\": isValid(datum[\\\\\\"properties.Country\\\\\\"]) ? datum[\\\\\\"properties.Country\\\\\\"] : \\\\\\"\\\\\\"+datum[\\\\\\"properties.Country\\\\\\"], \\\\\\"Population\\\\\\": isValid(datum[\\\\\\"Population by Country\\\\\\"]) ? datum[\\\\\\"Population by Country\\\\\\"] : \\\\\\"\\\\\\"+datum[\\\\\\"Population by Country\\\\\\"]}\\"\\r\\n            },\\r\\n            \\"ariaRoleDescription\\": {\\"value\\": \\"geoshape\\"},\\r\\n            \\"description\\": {\\r\\n              \\"signal\\": \\"\\\\\\"Population: \\\\\\" + (format(datum[\\\\\\"Population\\\\\\"], \\\\\\"\\\\\\")) + \\\\\\"; Country: \\\\\\" + (isValid(datum[\\\\\\"properties.Country\\\\\\"]) ? datum[\\\\\\"properties.Country\\\\\\"] : \\\\\\"\\\\\\"+datum[\\\\\\"properties.Country\\\\\\"])\\"\\r\\n            }\\r\\n        }\\r\\n      },\\r\\n      \\"transform\\": [ { \\"type\\": \\"geoshape\\", \\"projection\\": \\"projection\\" } ]\\r\\n    },\\r\\n    { \\"type\\": \\"symbol\\",\\r\\n      \\"style\\": [\\"circle\\"],\\r\\n      \\"from\\": {\\"data\\": \\"powerbi_dataset\\"},\\r\\n      \\"encode\\": {\\r\\n        \\"update\\": {\\r\\n          \\"opacity\\": {\\"value\\": 1.0},\\r\\n          \\"fill\\": {\\"value\\": \\"red\\"},\\r\\n          \\"tooltip\\": {\\r\\n            \\"signal\\": \\"{\\\\\\"Country\\\\\\": isValid(datum[\\\\\\"Country\\\\\\"]) ? datum[\\\\\\"Country\\\\\\"] : \\\\\\"\\\\\\"+datum[\\\\\\"Country\\\\\\"], \\\\\\"City\\\\\\": isValid(datum[\\\\\\"City\\\\\\"]) ? datum[\\\\\\"City\\\\\\"] : \\\\\\"\\\\\\"+datum[\\\\\\"City\\\\\\"], \\\\\\"Population\\\\\\": isValid(datum[\\\\\\"Population\\\\\\"]) ? datum[\\\\\\"Population\\\\\\"] : \\\\\\"\\\\\\"+datum[\\\\\\"Population\\\\\\"]}\\"\\r\\n          },\\r\\n          \\"ariaRoleDescription\\": {\\"value\\": \\"circle\\"},\\r\\n          \\"description\\": {\\r\\n            \\"signal\\": \\"\\\\\\"Longitude: \\\\\\" + (format(datum[\\\\\\"Longitude\\\\\\"], \\\\\\"\\\\\\")) + \\\\\\"; Latitude: \\\\\\" + (format(datum[\\\\\\"Latitude\\\\\\"], \\\\\\"\\\\\\")) + \\\\\\"; Country: \\\\\\" + (isValid(datum[\\\\\\"Country\\\\\\"]) ? datum[\\\\\\"Country\\\\\\"] : \\\\\\"\\\\\\"+datum[\\\\\\"Country\\\\\\"]) + \\\\\\"; City: \\\\\\" + (isValid(datum[\\\\\\"City\\\\\\"]) ? datum[\\\\\\"City\\\\\\"] : \\\\\\"\\\\\\"+datum[\\\\\\"City\\\\\\"])\\"\\r\\n          },\\r\\n          \\"x\\": {\\"field\\": \\"layer_1_x\\"},\\r\\n          \\"y\\": {\\"field\\": \\"layer_1_y\\"},\\r\\n          \\"size\\": {\\"value\\": 10},\\r\\n          \\"shape\\": {\\"value\\": \\"circle\\"}\\r\\n        }\\r\\n      }\\r\\n    }\\r\\n  ],\\r\\n  \\"scales\\": [\\r\\n    { \\"name\\": \\"color\\",\\r\\n      \\"type\\": \\"linear\\",\\r\\n      \\"domain\\": {\\"data\\": \\"world_map\\", \\"field\\": \\"Population by Country\\"},\\r\\n      \\"range\\":  [\\"#EBF7BB\\", \\"#1D368A\\"],\\r\\n      \\"interpolate\\": \\"hcl\\",\\r\\n      \\"zero\\": false\\r\\n    }\\r\\n  ]\\r\\n}\\r\\n```\\r\\n\\r\\nThis is by no means an efficient way to create geographic maps with AppSource Deneb, but it does prove that it can be done, if for whatever reason you are not allowed to use the standalone Deneb version.\\r\\n\\r\\nIf you want to design maps in a particular style, like the futuristic outline ones you see in movies and video games, then it is doable with this approach.\\r\\n\\r\\n![Example futuristic map style](/src/assets/blog/2022-11-26--30.png)\\r\\n\\r\\nExample futuristic map from **[Reddit](https://www.reddit.com/r/imaginarymaps/comments/wado40/the_world_of_the_new_order_last_days_of_europe_in)**.\\r\\n\\r\\nSince geographic maps just use coordinate points, it also means it is feasible to draw all kinds of custom shapes.\\r\\n\\r\\nThe sky\'s the limit in what you can do with Deneb.\\r\\n\\r\\n\\r\\n### References\\r\\n\\r\\n* Microsoft Power BI Community Forum Question **[Deneb Vega Lite Map not displaying](https://community.powerbi.com/t5/Desktop/Deneb-Vega-Lite-Map-not-displaying/m-p/2487853)**\\r\\n\\r\\n* Stack Overflow Question **[Loading feature data into Vega-Lite](https://stackoverflow.com/questions/71254436/loading-feature-data-into-vega-lite)**\\r\\n\\r\\n* Website **[GeoJSON Maps of the globe](https://geojson-maps.ash.ms)**\\r\\n\\r\\n* Website **[Vega-Lite Example Gallery](https://vega.github.io/vega-lite/examples)**\\r\\n\\r\\n* Website **[Vega Example Gallery](https://vega.github.io/vega/examples)**\\r\\n\\r\\n\\r\\nClick **[here](https://github.com/makuharistudio/makuharistudio.github.io/blob/main/src/markdown/posts/2022-11-26.md)** for this post\'s markdown file in GitHub.","photo":"../assets/blog/2022-11-26--00.png\\r"},{"id":1666962000,"title":"Comparing manual forecasting with Excel\'s built-in FORECAST.ETS function\\r","name":"comparing-manual-forecasting-with-excels-built-in-forecastets-function","tech":"logo-excel\\r","tags":"[\\"Excel\\", \\"DAX\\", \\"Machine Learning\\"]\\r","date":"29 October 2022\\r","content":"This post discusses my learnings from comparing manual forecasting in Excel using a ratio-to-moving averages method to estimate seasonal indices, versus using Excel\'s out-of-the-box FORECAST.ETS() function.\\r\\n\\r\\nThis began from my wanting to create an Excel variation of my Power BI International Marketplace profit report.\\r\\n\\r\\n![Excel profit forecast dashboard](/src/assets/portfolio/img-2022-10-excel-international-marketplace-profit-forecast.gif)\\r\\n\\r\\n* **[https://makuharistudio.github.io/#/portfolio/international-marketplace-profit-forecast](https://makuharistudio.github.io/#/portfolio/international-marketplace-profit-forecast)**\\r\\n\\r\\nOne key component of that report, is that it integrated Python into its data model via Power Query (typically not best practice) to forecast seasonal profits using exponential smoothing via Python. See my **[blog post](https://makuharistudio.github.io/#/blog/add-forecasts-from-python-using-visual-studio-code-to-power-bi)** for more information on that.\\r\\n\\r\\nFor my Excel variation, I wanted to keep the forecasting within Excel without relying on an additional tool, and began learning how to do it manually via Wayne Winston\'s 2014 course on LinkedIn Learning; *\\"Excel Data Analysis: Forecasting\\"* **[https://www.linkedin.com/learning/excel-data-analysis-forecasting](https://www.linkedin.com/learning/excel-data-analysis-forecasting)**.\\r\\n\\r\\nI later found Microsoft released the FORECAST.ETS() function only a couple of years later from Excel 2016:\\r\\n\\r\\n* **[https://support.microsoft.com/en-us/office/forecast-ets-function-15389b8b-677e-4fbd-bd95-21d464333f41](https://support.microsoft.com/en-us/office/forecast-ets-function-15389b8b-677e-4fbd-bd95-21d464333f41)**\\r\\n\\r\\nSo I tried applying both methods against my International Marketplace dataset:\\r\\n\\r\\n* **[https://github.com/makuharistudio/data-visualisation-datasets/blob/main/International%20Marketplace%20sales/normalised%20flat%20files](https://github.com/makuharistudio/data-visualisation-datasets/blob/main/International%20Marketplace%20sales/normalised%20flat%20files)**\\r\\n\\r\\n\\r\\n### Download Excel file\\r\\n\\r\\nYou can download the completed Excel workbook comparing the two methods below:\\r\\n\\r\\n* **[https://github.com/makuharistudio/data-visualisation-datasets/raw/main/International%20Marketplace%20sales/International%20Marketplace%20FORECAST%20ETS%20vs%20ratio-to-moving%20point%20average.xlsx](https://github.com/makuharistudio/data-visualisation-datasets/raw/main/International%20Marketplace%20sales/International%20Marketplace%20FORECAST%20ETS%20vs%20ratio-to-moving%20point%20average.xlsx)**\\r\\n\\r\\n\\r\\n## Data modelling\\r\\n\\r\\nBefore getting into the forecasting, here\'s a bit of an explanation on how you can forecast values for dates with order/sales records that don\'t exist yet.\\r\\n\\r\\n\\r\\n### Step 1. Create a Year-Month table\\r\\n\\r\\nTo model the dates to account for both:\\r\\n\\r\\na) new records added to the dataset and\\r\\nb) keeping a consistent date buffer to forecast on, based on the latest record\\r\\n\\r\\nuse Power Query to create multiple references to the data source to find the earliest and latest Order Dates.\\r\\n\\r\\n![Power Query: Earliest and latest OrderDates](/src/assets/blog/2022-10-29--01.png)\\r\\n\\r\\n**OrderDate (earliest)**\\r\\n\\r\\n```\\r\\nlet\\r\\n    Source = FactSales,\\r\\n    #\\"remove other columns\\" = Table.SelectColumns(#\\"Source\\",{\\"OrderDate\\"}),\\r\\n    #\\"earliest date\\" = List.Min(#\\"remove other columns\\"[OrderDate])\\r\\nin\\r\\n    #\\"earliest date\\"\\r\\n```\\r\\n\\r\\n**OrderDate (latest)**\\r\\n\\r\\n```\\r\\nlet\\r\\n    Source = FactSales,\\r\\n    #\\"remove other columns\\" = Table.SelectColumns(#\\"Source\\",{\\"OrderDate\\"}),\\r\\n    #\\"removed duplicates\\" = Table.Distinct(#\\"remove other columns\\"),\\r\\n    #\\"latest date\\" = List.Max(#\\"removed duplicates\\"[OrderDate])\\r\\nin\\r\\n    #\\"latest date\\"\\r\\n```\\r\\n\\r\\n**Note:** It is very important to ensure that the data source is referenced separately. Otherwise, using Power Query\'s Reference on the existing sales query would lead to circular dependencies that prevent processing in the next step.\\r\\n\\r\\nThen using those dates, create a Year-Month calendar list. In this example, the query below takes the latest order date (31/12/2022) and it finds the 31st December for the following year and defines it as the last date for your calendar. Then change it to only include Year and Month numbers, and add an index column.\\r\\n\\r\\n![Power Query: Year-Month Index](/src/assets/blog/2022-10-29--02.png)\\r\\n\\r\\n**Year-Month Index**\\r\\n\\r\\n```\\r\\nlet\\r\\n    Source = List.Dates(#\\"OrderDate (earliest)\\", Duration.Days(Date.From(#datetime(Date.Year(#\\"OrderDate (latest)\\")+1, 12, 31, 0, 0, 0))-#\\"OrderDate (earliest)\\")+1, #duration(1, 0, 0, 0)),\\r\\n    #\\"convert to table\\" = Table.FromList(Source, Splitter.SplitByNothing(), null, null, ExtraValues.Error),\\r\\n    #\\"change type\\" = Table.TransformColumnTypes(#\\"convert to table\\",{{\\"Column1\\", type date}}),\\r\\n    #\\"rename to Date column\\" = Table.RenameColumns(#\\"change type\\",{{\\"Column1\\", \\"Date\\"}}),\\r\\n    #\\"add Year column\\" = Table.AddColumn(#\\"rename to Date column\\", \\"Year\\", each Date.Year([Date]), Int64.Type),\\r\\n    #\\"add Month column\\" = Table.AddColumn(#\\"add Year column\\", \\"Month\\", each Date.Month([Date]), Int64.Type),\\r\\n    #\\"remove other columns\\" = Table.SelectColumns(#\\"add Month column\\",{\\"Year\\", \\"Month\\"}),\\r\\n    #\\"remove duplicates\\" = Table.Distinct(#\\"remove other columns\\"),\\r\\n    #\\"add Index column\\" = Table.AddIndexColumn(#\\"remove duplicates\\", \\"Index\\", 1, 1, Int64.Type)\\r\\nin\\r\\n    #\\"add Index column\\"\\r\\n```\\r\\n\\r\\n\\r\\n### Step 2. Create a Date table\\r\\n\\r\\nFollowing similar principles in the previous step, create a main Date table, and merge the Year-Month table to it, so that the latter\'s index is added. In this example, we have named our date table as \\"Calendar\\".\\r\\n\\r\\n![Power Query: Merge Calendar table with Year-Month Index table](/src/assets/blog/2022-10-29--03.png)\\r\\n\\r\\n**Calendar**\\r\\n\\r\\n```\\r\\nlet\\r\\n    Source = List.Dates(#\\"OrderDate (earliest)\\", Duration.Days(Date.From(#datetime(Date.Year(#\\"OrderDate (latest)\\")+1, 12, 31, 0, 0, 0))-#\\"OrderDate (earliest)\\")+1, #duration(1, 0, 0, 0)),\\r\\n    #\\"conver to table\\" = Table.FromList(Source, Splitter.SplitByNothing(), null, null, ExtraValues.Error),\\r\\n    #\\"change type\\" = Table.TransformColumnTypes(#\\"conver to table\\",{{\\"Column1\\", type date}}),\\r\\n    #\\"rename to Date column\\" = Table.RenameColumns(#\\"change type\\",{{\\"Column1\\", \\"Date\\"}}),\\r\\n    #\\"add Year column\\" = Table.AddColumn(#\\"rename to Date column\\", \\"Year\\", each Date.Year([Date]), Int64.Type),\\r\\n    #\\"add Quarter column\\" = Table.AddColumn(#\\"add Year column\\", \\"Quarter\\", each \\"Q\\" & Text.From(Date.QuarterOfYear([Date])), type text),\\r\\n    #\\"add Month column\\" = Table.AddColumn(#\\"add Quarter column\\", \\"Month\\", each Date.Month([Date]), Int64.Type),\\r\\n    #\\"add Month name column\\" = Table.AddColumn(#\\"add Month column\\", \\"Month name\\", each Text.Upper(Text.Start(Date.MonthName([Date]),3)), type text),\\r\\n    #\\"add Day column\\" = Table.AddColumn(#\\"add Month name column\\", \\"Day\\", each Date.Day([Date]), Int64.Type),\\r\\n    #\\"add Day name column\\" = Table.AddColumn(#\\"add Day column\\", \\"Day name\\", each Text.Upper(Text.Start(Date.DayOfWeekName([Date]),3)), type text),\\r\\n    #\\"merge with Year-Month Index\\" = Table.NestedJoin(#\\"add Day name column\\", {\\"Year\\", \\"Month\\"}, #\\"Year-Month Index\\", {\\"Year\\", \\"Month\\"}, \\"Year-Month Index\\", JoinKind.Inner),\\r\\n    #\\"expand Year-Month Index\\" = Table.ExpandTableColumn(#\\"merge with Year-Month Index\\", \\"Year-Month Index\\", {\\"Index\\"}, {\\"Index\\"})\\r\\nin\\r\\n    #\\"expand Year-Month Index\\"\\r\\n```\\r\\n\\r\\nRemember to Mark as Date Table via Power Pivot.\\r\\n\\r\\nThen add the relationship between the sales table and the date table. \\r\\n\\r\\n![Power Query: Relationship between Calendar table and FactSales data](/src/assets/blog/2022-10-29--04.png)\\r\\n\\r\\n\\r\\n### Step 3. Create DAX measure and a pivot table\\r\\n\\r\\nIn the example above, we have an additional relationship from the sales table\'s ShipDate field to the calendar. This means needing to define USERELATIONSHIP() when creating our DAX query to sum profit:\\r\\n\\r\\n```\\r\\n=VAR currentyear = YEAR(CALCULATE(MAX(FactSales[OrderDate]), ALL(FactSales)))\\r\\nRETURN CALCULATE(SUM(FactSales[Profit]), YEAR(FactSales[OrderDate]) = currentyear, USERELATIONSHIP(\'Calendar\'[Date], FactSales[OrderDate]))\\r\\n```\\r\\n\\r\\n![Power Query: DAX measure](/src/assets/blog/2022-10-29--05.png)\\r\\n\\r\\n\\r\\nNext, add a pivot table from the Data Model, using the Index from the Calendar date table, year and month fields, and the DAX measure.\\r\\n\\r\\nBy default, Excel will only show the records that exist for the DAX measure.\\r\\n\\r\\n![Pivot table: Add calendar fields, index, and DAX measure](/src/assets/blog/2022-10-29--06.png)\\r\\n\\r\\nTo show the rows for unforecasted months, configure the *PivotTable Options* to *Show items with no data on rows*\\r\\n\\r\\n![Pivot table: Enable Show items with no data on rows](/src/assets/blog/2022-10-29--07.png)\\r\\n\\r\\nNow the rows without data which will be forecasted for, display in the pivot. If a new year\'s data is added, then the additional months will update in accordance with that.\\r\\n\\r\\n\\r\\n**Note:** As at the time of writing, FORECAST.ETS() cannot be called from within DAX, so ultimately, you would need to reference the pivot table\'s cells, and perform the calculations from normal cells.\\r\\n\\r\\n![Pivot table: Pivot table with extra year-months for predictions](/src/assets/blog/2022-10-29--08.png)\\r\\n\\r\\n\\r\\nFinally, onto the forecasting...\\r\\n\\r\\n\\r\\n## Manual: Ratio-to-moving averages method\\r\\n\\r\\nBeginning with the manual ratio-to-moving averages method, these are the general steps:\\r\\n\\r\\n\\r\\n### Step 1. 3-period moving average\\r\\n\\r\\nCreate a column for the moving average. You can choose how many periods cover the average and redo your analysis to try diffserent ones. In the case of the LinkedIn Learning course, 4 periods were used, but I\'ve used 3 here to reflect the number of months per quarter.\\r\\n\\r\\nBecause of the nature of the averaging and need to maintain a consistent pattern, the range for the result periods will be less than the range of the period data you have.\\r\\n\\r\\n![Ratio-to-moving average: 3-period moving average](/src/assets/blog/2022-10-29--09.png)\\r\\n\\r\\n\\r\\n### Step 2. Centred moving average (CMA)\\r\\n\\r\\nCreate a column for the centred moving average, which averages the previous and current period\'s 3-period moving average.\\r\\n\\r\\nIn this case, there\'ll just be one less period in the results from the start versus the input.\\r\\n\\r\\n![Ratio-to-moving average: Centred moving average](/src/assets/blog/2022-10-29--10.png)\\r\\n\\r\\n\\r\\n### Step 3. Actual ÷ CMA\\r\\n\\r\\nCreate a column to divide the actual profit value by the centred moving average.\\r\\n\\r\\n![Ratio-to-moving average: Divide actual by CMA](/src/assets/blog/2022-10-29--11.png)\\r\\n\\r\\n\\r\\n### Step 4. Seasonal average based on month number\\r\\n\\r\\nCreate a separate reference table that averages the Actual ÷ CMA results based on their month number as a seasonal index.\\r\\n\\r\\n![Ratio-to-moving average: Seasonal index](/src/assets/blog/2022-10-29--12.png)\\r\\n\\r\\nThen average the seasonal index values.\\r\\n\\r\\n![Ratio-to-moving average: Average the seasonal indexes](/src/assets/blog/2022-10-29--13.png)\\r\\n\\r\\n\\r\\n### Step 5. Normalised seasonal index\\r\\n\\r\\nAdd a new column to that reference table to normalise seasonal index values by dividing each with the overall average of them. This normalised index value is what will be used to forecast the later months.\\r\\n\\r\\n![Ratio-to-moving average: Normalise each seasonal indexes](/src/assets/blog/2022-10-29--14.png)\\r\\n\\r\\nHowever, incorporating those exact cells into the forecast will cause a circular reference, and thus not work. So the results need to be copy-and-pasted as plain values into new cells, which will be used for forecasting.\\r\\n\\r\\n![Ratio-to-moving average: Copy-and-paste normalised index](/src/assets/blog/2022-10-29--15.png)\\r\\n\\r\\n\\r\\n### Step 6. SLOPE() and INTERCEPT() of CMA\\r\\n\\r\\nNext, create 2 cells to each calculate the slope and intercepts of the CMA values based on the overall index value.\\r\\n\\r\\n![Ratio-to-moving average: Slope and intercept](/src/assets/blog/2022-10-29--16.png)\\r\\n\\r\\n\\r\\n### Step 7. Trendline level\\r\\n\\r\\nFor each month that will be forecasted, create a column to calculate trendline level.\\r\\nThis calculation will be the INTERCEPT() result + SLOPE() result x overall index\\r\\n\\r\\n![Ratio-to-moving average: Trendline level](/src/assets/blog/2022-10-29--17.png)\\r\\n\\r\\n\\r\\n### Step 8. Forecast using the trendline level and normalised index\\r\\n\\r\\nLastly, calculate the forecast by multiplying the trendline value for the month number, with a VLOOKUP of the normalised index.\\r\\n\\r\\n![Ratio-to-moving average: Forecast](/src/assets/blog/2022-10-29--18.png)\\r\\n\\r\\n\\r\\nNext we\'ll look at how we can forecast more simply and with more accuracy.\\r\\n\\r\\n\\r\\n\\r\\n## Excel\'s FORECAST.ETS() function\\r\\n\\r\\nYou will only need the overall index to serve as a continuous reference, and the profit columns only.\\r\\nSelect them, including the indexes being forecasted for.\\r\\n\\r\\nThen from the Data tab > Forecast Sheet\\r\\n\\r\\n![FORECAST.ETS function: Forecast Sheet](/src/assets/blog/2022-10-29--19.png)\\r\\n\\r\\nIn the Create Forecast Worksheet prompt, specify where the forecast starts and ends based on the index number, and the seasonality.\\r\\n\\r\\n![FORECAST.ETS function: Forecast Sheet prompt](/src/assets/blog/2022-10-29--20.png)\\r\\n\\r\\nNow you have both the forecasted values and a line chart to show its accuracy.\\r\\n\\r\\n![FORECAST.ETS function: Forecast Sheet result](/src/assets/blog/2022-10-29--21.png)\\r\\n\\r\\n\\r\\n\\r\\n## Compare forecasting accuracies of both methods\\r\\n\\r\\nThe mean absolute percentage error (MAPE) is used to check how much error the forecast could have. For example, a MAPE score of 5% means the forecast can be off by about 5%.\\r\\n\\r\\nHow to calculate the MAPE:\\r\\n\\r\\n### Step 1. Apply your forecasting method to actuals\\r\\n\\r\\nFor each of the methods above, create a new column that calculates the forecasts for the actual values you already have.\\r\\n\\r\\n* **Ratio-to-moving average**\\r\\n\\r\\nThe formula used to forecast the later months is easily adapted to existing months.\\r\\n\\r\\n![Forecast on actuals: Ratio-to-moving average](/src/assets/blog/2022-10-29--22.png)\\r\\n\\r\\n* **Forecast sheet**\\r\\n\\r\\nFor the Forecast Sheet method, rather than clicking on the Forecast Sheet button, simply apply the same formula in the forecasted cells.\\r\\n\\r\\n![Forecast on actuals: Forecast Sheet](/src/assets/blog/2022-10-29--23.png)\\r\\n\\r\\n\\r\\n### Step 2. Create the ABS % of the error\\r\\n\\r\\nCreate a new column to calculate the absolute percentage of the error between the actual and the forecast for it.\\r\\n\\r\\nThis is calculated as ABS((Actual - Forecast) ÷ Actual)\\r\\n\\r\\n![Forecast on actuals: Absolute percentage of the error](/src/assets/blog/2022-10-29--24.png)\\r\\n\\r\\n\\r\\n### Step 3. Create the MAPE\\r\\n\\r\\nTake the average of these absolute percentages of errors to get the MAPE.\\r\\n\\r\\nComparing the two methods above, the MAPE scores are:\\r\\n\\r\\n* manual ratio-to-moving average method: 14.95%\\r\\n* Excel\'s FORECAST.ETS function: 1.16%\\r\\n\\r\\nSo clearly, the FORECAST.ETS function (at least on this dataset), is far less off in terms of forecasting accuracy than ratio-to-moving average. The performance of Excel\'s algorithm over the manual method is also self-evident by comparing the line charts.\\r\\n\\r\\n![Comparing MAPE scores of different methods](/src/assets/blog/2022-10-29--25.png)\\r\\n\\r\\n\\r\\n## Manual: Checking for autocorrelation\\r\\n\\r\\nHowever, the presence of autocorrelation (which seeks to detect the infrequency of + and - sign changes in errors) can negate the findings from MAPE. So as a final step, we can check for that in our model.\\r\\n\\r\\n\\r\\n### Step 1. Visualise the linear trendline coefficients for actuals\\r\\n\\r\\nAs an optional step, plot the actuals on a line chart, then add a linear trendline.\\r\\nThis will help you visually validate the values against the next step.\\r\\n\\r\\n![Excel: Linear trendline of actuals](/src/assets/blog/2022-10-29--26.png)\\r\\n\\r\\n\\r\\n### Step 2. Use the LINEST() function to get the coefficients\\r\\n\\r\\nPass the actual profit values, and the overall index as parameters into the LINEST() function. Be sure to click Citrl + Shift + Enter when completing the formula.\\r\\n\\r\\nThe first rows contains the slope and the y-intercept seen in the line chart\'s linear trendline.\\r\\n\\r\\n![Excel: LINEST() function](/src/assets/blog/2022-10-29--27.png)\\r\\n\\r\\n\\r\\n### Step 3. Calculate the + or - error values\\r\\n\\r\\nCreate a new column to calculate the positive or negative error values using the following equation:\\r\\n\\r\\nactual - (slope x month index + y-intercept)\\r\\n\\r\\n![Excel: + or - error values](/src/assets/blog/2022-10-29--28.png)\\r\\n\\r\\n\\r\\n### Step 4. Check for positive or negative values\\r\\n\\r\\nCreate a new column that performs a binary check to see if the multiplication of the previous period\'s + or - error value is less than 0.\\r\\n\\r\\n![Excel: Binary sign change check](/src/assets/blog/2022-10-29--29.png)\\r\\n\\r\\n\\r\\n### Step 5. Count the number of actual observations\\r\\n\\r\\nCreate a new reference cell to count the number of actual observations.\\r\\n\\r\\n![Autocorrelation: count observations](/src/assets/blog/2022-10-29--30.png)\\r\\n\\r\\n\\r\\n### Step 6. Sum the number of sign changes\\r\\n\\r\\nThe result of Step 4. should be each actual observation having a 1 or 0 based on the sign of the previous value. So summing these will show the number of changes.\\r\\n\\r\\n![Autocorrelation: sum sign changes](/src/assets/blog/2022-10-29--31.png)\\r\\n\\r\\n\\r\\n### Step 7. Calculate cut-off, then compare with sum of sign changes\\r\\n\\r\\nThe cut-off value indicates the minimum number of sign changes to not be impacted by autocorrelation.\\r\\n\\r\\nThe formula for this is:\\r\\n\\r\\n((observation count - 1) ÷ 2) - square root of (observation count - 1)\\r\\n\\r\\n![Autocorrelation: cut-off](/src/assets/blog/2022-10-29--32.png)\\r\\n\\r\\nIn this case, the sum of sign changes (8) is higher than the cut-off (6), so autocorrelation does not undermine the MAPE check performed earlier.\\r\\n\\r\\n\\r\\n\\r\\n### References\\r\\n\\r\\n* LinkedIn Learning Course **[Excel Data Analysis: Forecasting by Wayne Winston](https://www.linkedin.com/learning/excel-data-analysis-forecasting)**\\r\\n\\r\\n* YouTube video **[Forecasting in Excel Made SIMPLE (include seasonality & make predictions) by Leila Gharani](https://www.youtube.com/watch?v=j22tLUQQDh4)**\\r\\n\\r\\n* Microsoft Office Community Question **[Using coefficients from trendline in Excel Chart](https://answers.microsoft.com/en-us/msoffice/forum/all/using-coefficients-from-trendline-in-excel-chart/16bb5160-1b3d-432e-86dc-8fb15b44100f)**\\r\\n\\r\\n\\r\\nClick **[here](https://github.com/makuharistudio/makuharistudio.github.io/blob/main/src/markdown/posts/2022-10-29.md)** for this post\'s markdown file in GitHub.","photo":"../assets/blog/2022-10-29--00.png\\r"},{"id":1663509600,"title":"How to webscrape a YouTube channel\'s video titles using Python and Visual Studio Code\\r","name":"how-to-webscrape-a-youtube-channels-video-titles-using-python-and-visual-studio-code","tech":"logo-python\\r","tags":"[\\"Python\\"]\\r","date":"19 September 2022\\r","content":"This post shows how to webscrape all the video titles from a YouTube channel, despite the 50 result per request limit of the YouTube API version 3 (as at time of writing), using Visual Studio Code, and a mix of Python libraries.\\r\\n\\r\\n\\r\\n## Step 1. Log into console.cloud.google.com and create a new project.\\r\\n\\r\\nIn the example below, I created a new project named *\\"Le Wagon YouTube Channel\\"*, but the name you use may not particularly matter, as the purpose of creating the project is just to get an API key for web scraping.\\r\\n\\r\\nAs at the time of writing, you can get a Twitter Developer account off the back of an existing Twitter account or create a new one, but you will need to provide your mobile phone number for verification.\\r\\n\\r\\n* **[https://console.cloud.google.com](https://console.cloud.google.com)**\\r\\n\\r\\n![Google Cloud Console: new project](/src/assets/blog/2022-09-19--01.png)\\r\\n\\r\\n\\r\\n## Step 2. Enable the YouTube Data API v3 and create an API key\\r\\n\\r\\nFrom within the project, go to the APIs and services section > Library > search for YouTube Data API v3 > Enable. \\r\\n\\r\\n![Google Cloud Console: enable YouTube API](/src/assets/blog/2022-09-19--02.png)\\r\\n\\r\\nOnce enabled, go to the APIs and services section > Credentials > create API Key\\r\\n\\r\\n![Google Cloud Console: generate API key](/src/assets/blog/2022-09-19--03.png)\\r\\n\\r\\n\\r\\n## Step 3. Install Python, create a virtual environment, and install libraries\\r\\n\\r\\nInstall Python\\r\\n* **[https://www.python.org/downloads/windows](https://www.python.org/downloads/windows)**\\r\\n\\r\\nCreate a folder for your Python project and open it in Visual Studio Code.\\r\\nIn this example, the folder name is *Project* and is on the Desktop.\\r\\n\\r\\nCreate your virtual environment as a subfolder of your project.\\r\\n\\r\\n```\\r\\npython -m venv C:\\\\Users\\\\Administrator\\\\Desktop\\\\Project\\\\venv\\r\\n```\\r\\n\\r\\nInstall the Python Extension for Visual Studio Code.\\r\\n\\r\\n![Visual Studio Code: create and activate virtual environment](/src/assets/blog/2022-09-19--04.png)\\r\\n\\r\\nYou can find more detailed screenshot steps of the above from a previous blog post:\\r\\n* **[Add forecasts from Python using Visual Studio Code to Power BI](https://makuharistudio.github.io/#/blog/add-forecasts-from-python-using-visual-studio-code-to-power-bi)**\\r\\n\\r\\n\\r\\nFrom within the Python virtual environment, install the required dependencies for the script.\\r\\n\\r\\n```\\r\\npip install google-api-python-client\\r\\npip install pandas\\r\\npip install numpy\\r\\n```\\r\\n\\r\\n![Visual Studio Code: install libraries](/src/assets/blog/2022-09-19--05.png)\\r\\n\\r\\n\\r\\n## Step 4. Find the YouTube channel\'s ID via browser source code\\r\\n\\r\\nNavigate to the main page for the YouTube channel you want to scrape, then right-click > View page source.\\r\\n\\r\\n![Browser: YouTube channel](/src/assets/blog/2022-09-19--06.png)\\r\\n\\r\\nPress Ctrl + F to find the *externalId* attribute, as its value is the channel ID.\\r\\n\\r\\n![Browser: YouTube channel ID](/src/assets/blog/2022-09-19--07.png)\\r\\n\\r\\nIn this example, Le Wagon\'s channel ID is **\'UChCDYcBCrb8tuPAO6e0P-Hw\'**\\r\\n\\r\\nBefore creating the python file to add and run the script, I\'ve outlined how it works below.\\r\\n\\r\\nIf you do not want an overview how the code works and just want to implement the code, then skip the *Code explanation* to Step 5, otherwise you can continue below:\\r\\n\\r\\n\\r\\n## Code explanation\\r\\n\\r\\nThe first half of the code is mostly based on this YouTube tutorial by techTFQ:\\r\\n\\r\\n* YouTube video **[\\"Python Project to Scrape YouTube using YouTube Data API | Analyze and Visualize YouTube data\\" by Thoufiq Mohammed](https://www.youtube.com/watch?v=SwSbnmqk3zY)**\\r\\n\\r\\nHowever, even though I copied the code from the tutorial, I found that I was unable to pull more than 50 records into a single file, despite the video showing it was capable of doing that.\\r\\n\\r\\nI was unsure if this was due to issues with the code demonstrated, or perhaps changes to YouTube\'s API, such as regarding immediate subsequent calls as part of the 50 result limit, that made the code no longer capable of pulling more than 50 videos worth of data.\\r\\n\\r\\nRather than spend time trying to figure that out, I instead took the approach of running a loop that would send separate API requests and store each result into individual temporary files, then use Python to append all the results into a single file.\\r\\n\\r\\n### Use the channel ID to retrieve the uploads ID\\r\\n\\r\\nThis is the first part of the code, where you would need to substitute the ?????????? with your API key and the channel ID retrieved in earlier steps. It uses that information to pull the uploads ID for the channel, which lists all the video IDs.\\r\\n\\r\\n```\\r\\nfrom googleapiclient.discovery import build\\r\\nimport pandas as pd\\r\\nimport numpy as np\\r\\nimport csv\\r\\nimport glob\\r\\nimport re\\r\\nimport json\\r\\n\\r\\napi_key = \'??????????\'\\r\\nservice = build(\'youtube\', \'v3\', developerKey=api_key)\\r\\nchannel_id = \'??????????\'\\r\\n\\r\\n\\r\\n\\r\\n# EXTRACT YOUTUBE CHANNEL\'S UPLOADS ID FOR FULL PLAYLIST\\r\\n\\r\\ndef get_uploads_id(service, channel_id):\\r\\n\\r\\n    request = service.channels().list(\\r\\n        part=\'contentDetails\',\\r\\n        id=channel_id\\r\\n    )\\r\\n    response = request.execute()\\r\\n\\r\\n    for channel in response[\'items\']:\\r\\n        channelstats = channel[\'contentDetails\'][\'relatedPlaylists\'][\'uploads\']\\r\\n\\r\\n    return channelstats\\r\\n\\r\\nuploadsID = (get_uploads_id(service, channel_id))\\r\\n```\\r\\n\\r\\n![Visual Studio Code: Python part 1](/src/assets/blog/2022-09-19--08.png)\\r\\n\\r\\n\\r\\n### Store all the video ids from the channel\\r\\n\\r\\nThis second part of the code is pretty much straight from Thoufiq Mohammed\'s YouTube tutorial, and it retrieves all of the video IDs for the selected channel, then stores them into an array. In order to account for the 50 result per request limit, Thoufiq\'s code uses page tokens and a for loop to go through each \\"page\\" of 50 video IDs.\\r\\n\\r\\n* YouTube video **[\\"Python Project to Scrape YouTube using YouTube Data API | Analyze and Visualize YouTube data\\" by Thoufiq Mohammed](https://www.youtube.com/watch?v=SwSbnmqk3zY)**\\r\\n\\r\\n```\\r\\n# EXTRACT YOUTUBE VIDEO IDS TO SEPARATE CSV FILES\\r\\n\\r\\ndef get_video_ids(service, uploadsID):\\r\\n\\r\\n    request = service.playlistItems().list(\\r\\n        part=\'contentDetails\',\\r\\n        playlistId = uploadsID,\\r\\n        maxResults = 50)\\r\\n    response = request.execute()\\r\\n\\r\\n    video_ids = []\\r\\n\\r\\n    for i in range(len(response[\'items\'])):\\r\\n        video_ids.append(response[\'items\'][i][\'contentDetails\'][\'videoId\'])\\r\\n\\r\\n    next_page_token = response.get(\'nextPageToken\')\\r\\n    more_pages = True\\r\\n\\r\\n    while more_pages:\\r\\n        if next_page_token is None:\\r\\n            more_pages = False\\r\\n        else:\\r\\n            request = service.playlistItems().list(\\r\\n                        part=\'contentDetails\',\\r\\n                        playlistId = uploadsID,\\r\\n                        maxResults = 50,\\r\\n                        pageToken = next_page_token)\\r\\n            response = request.execute()   \\r\\n\\r\\n            for i in range(len(response[\'items\'])):\\r\\n                video_ids.append(response[\'items\'][i][\'contentDetails\'][\'videoId\'])\\r\\n\\r\\n            next_page_token = response.get(\'nextPageToken\')\\r\\n \\r\\n    return (video_ids)\\r\\n\\r\\nvideo_ids = get_video_ids(service, uploadsID)\\r\\n```\\r\\n\\r\\n![Visual Studio Code: Python part 2](/src/assets/blog/2022-09-19--09.png)\\r\\n\\r\\n### Extract all the video ids into separate csv files\\r\\n\\r\\nThoufiq\'s code stores data for the API requests with variable arrays, as you would typically expect. But as it was not working for me, rather than figure out what other variation of similar in-memory based API requests would work, I took a primitive approach of separating the array into csv files with 50 video IDs each.\\r\\n\\r\\nWhether it\'s because of the different approach to pulling the data for the API requests, or its implied slower performance for subsequent API requests, I placed my chances on this allowing me to get what I needed.\\r\\n\\r\\nThis third part of the code is simple:\\r\\n\\r\\n```\\r\\nchunk_size = 50\\r\\n\\r\\nvideo_id_chunks = [video_ids[i:i + chunk_size] for i in range(0, len(video_ids), chunk_size)]\\r\\n\\r\\nfor i in range(len(video_id_chunks)):\\r\\n\\r\\n    filename = \'video_ids_\' + str(i) + \'.csv\'\\r\\n    file = open(filename, \'w\', newline=\'\', encoding=\'utf-8\')\\r\\n    writer = csv.writer(file)\\r\\n    writer.writerow(video_id_chunks[i])\\r\\n    file.close()\\r\\n```\\r\\n\\r\\n![Visual Studio Code: Python part 3a](/src/assets/blog/2022-09-19--10.png)\\r\\n\\r\\nHere you can see an example of what the comma separated files look like:\\r\\n\\r\\n![Visual Studio Code: Python part 3b](/src/assets/blog/2022-09-19--11.png)\\r\\n\\r\\n### Loop each csv for YouTube API requests then store results into separate json files\\r\\n\\r\\nThis fourth part of the code creates a glob variable to list all the temp files containing the video IDs, then loops it for each file, which in turn each file has all its videos looped through to retrieve the video details via the API such as title and publish date, and exports each result set to separate temporary json files.\\r\\n\\r\\nThere is one issue here that I have not yet solved. Note that the dictionary keys for count of views, likes, and comments are commented out.\\r\\n\\r\\nIt is possible to uncomment these and retrieve results. However, in my testing I found that some videos returned a KeyError that stopped the whole process. Typically the way to deal with this is to create a try excepts, but as I am still a Python novice, could not figure out how to design it for a dict(), and didn\'t really need these fields, I didn\'t spend time to try to solve that yet.\\r\\n\\r\\n```\\r\\n# EXTRACT YOUTUBE VIDEO DETAILS TO SEPARATE JSON FILES\\r\\n\\r\\nall_files_ids = glob.glob(\\"video_ids_*.csv\\")\\r\\n\\r\\nfor i in range(len(all_files_ids)):\\r\\n\\r\\n    with open(all_files_ids[i]) as csvfile:\\r\\n        video_ids_for_details = np.loadtxt(csvfile, delimiter=\',\', dtype=\'str\')\\r\\n\\r\\n    def get_video_details(service, video_ids_for_details):\\r\\n\\r\\n        all_video_stats = []\\r\\n\\r\\n        for i in range(0, len(video_ids_for_details), 50):\\r\\n            request = service.videos().list(\\r\\n                part=\'snippet,statistics\',\\r\\n                id=\',\'.join(video_ids_for_details[i:i+50]))\\r\\n            response = request.execute()\\r\\n\\r\\n            for video in response[\'items\']:\\r\\n                video_stats = dict(Title = video[\'snippet\'][\'title\'],\\r\\n                                   Video_id = video[\'id\'],\\r\\n                                   # Views = video[\'statistics\'][\'viewCount\'],\\r\\n                                   # Likes = video[\'statistics\'][\'likeCount\'],\\r\\n                                   # Comments = video[\'statistics\'][\'commentCount\'],\\r\\n                                   Published_date = video[\'snippet\'][\'publishedAt\'])\\r\\n                all_video_stats.append(video_stats)\\r\\n\\r\\n            return all_video_stats\\r\\n\\r\\n    csv_video_list = pd.DataFrame(get_video_details(service, video_ids_for_details))\\r\\n    csv_video_list.to_json(re.sub(\'_ids_\',\'_details_\', re.sub(\'.csv\', \'\', all_files_ids[i])) + \'.json\', orient=\'records\')\\r\\n```\\r\\n\\r\\n![Visual Studio Code: Python part 4a](/src/assets/blog/2022-09-19--12.png)\\r\\n\\r\\nHere you can see an example of what the json files look like (though honestly I applied the pretty-print function from Notepad++ to clean it up a little):\\r\\n\\r\\n![Visual Studio Code: Python part 4b](/src/assets/blog/2022-09-19--13.png)\\r\\n\\r\\n### Combine the temporary json files into a single json file\\r\\n\\r\\nThe fifth and final step of the code is to combine all the data from each of the temporary json files into a single json file output. Looking back on this, I should have included a clean up script component to delete the temporary csv and json files.\\r\\n\\r\\n```\\r\\n# COMBINE YOUTUBE VIDEO DETAILS INTO A SINGLE JSON FILE\\r\\n\\r\\nall_files_details = glob.glob(\\"video_details_*.json\\")\\r\\n\\r\\ndef merge_JsonFiles(filename):\\r\\n    result = list()\\r\\n    for f1 in filename:\\r\\n        with open(f1, \'r\') as infile:\\r\\n            result.extend(json.load(infile))\\r\\n\\r\\n    with open(\'compileddata.json\', \'w\') as output_file:\\r\\n        json.dump(result, output_file)\\r\\n\\r\\nmerge_JsonFiles(all_files_details)\\r\\n```\\r\\n\\r\\n![Visual Studio Code: Python part 5](/src/assets/blog/2022-09-19--14.png)\\r\\n\\r\\n\\r\\n## Step 5. Install Python, create a virtual environment, and install libraries\\r\\n\\r\\nCreate a new Python file in your project directory, in my case it is named *extract-script.py*.\\r\\n\\r\\nThen copy-and-paste the completed code below (substituting your API key and channel ID), then click Run Python File.\\r\\n\\r\\n![Visual Studio Code: Run Python File](/src/assets/blog/2022-09-19--15.png)\\r\\n\\r\\nThe completed json output is the file named *compileddata.json*.\\r\\n\\r\\n![Visual Studio Code: Output json file](/src/assets/blog/2022-09-19--16.png)\\r\\n\\r\\n**Note:** As-is, this code only extracts the YouTube video IDs, titles, and publish date. You can try to uncomment the view, like, and comment count, but there is a chance the script may fail due to KeyErrors.\\r\\nThat caveat aside, you now have all the video titles for a YouTube channel, and can explore more fields to pull via the YouTube Data API v3 official site.\\r\\n\\r\\n```\\r\\nfrom googleapiclient.discovery import build\\r\\nimport pandas as pd\\r\\nimport numpy as np\\r\\nimport csv\\r\\nimport glob\\r\\nimport re\\r\\nimport json\\r\\n\\r\\napi_key = \'??????????\'\\r\\nservice = build(\'youtube\', \'v3\', developerKey=api_key)\\r\\nchannel_id = \'UChCDYcBCrb8tuPAO6e0P-Hw\'\\r\\n\\r\\n\\r\\n\\r\\n# EXTRACT YOUTUBE CHANNEL\'S UPLOADS ID FOR FULL PLAYLIST\\r\\n\\r\\ndef get_uploads_id(service, channel_id):\\r\\n\\r\\n    request = service.channels().list(\\r\\n        part=\'contentDetails\',\\r\\n        id=channel_id\\r\\n    )\\r\\n    response = request.execute()\\r\\n\\r\\n    for channel in response[\'items\']:\\r\\n        channelstats = channel[\'contentDetails\'][\'relatedPlaylists\'][\'uploads\']\\r\\n\\r\\n    return channelstats\\r\\n\\r\\nuploadsID = (get_uploads_id(service, channel_id))\\r\\n\\r\\n\\r\\n\\r\\n# EXTRACT YOUTUBE VIDEO IDS TO SEPARATE CSV FILES\\r\\n\\r\\ndef get_video_ids(service, uploadsID):\\r\\n\\r\\n    request = service.playlistItems().list(\\r\\n        part=\'contentDetails\',\\r\\n        playlistId = uploadsID,\\r\\n        maxResults = 50)\\r\\n    response = request.execute()\\r\\n\\r\\n    video_ids = []\\r\\n\\r\\n    for i in range(len(response[\'items\'])):\\r\\n        video_ids.append(response[\'items\'][i][\'contentDetails\'][\'videoId\'])\\r\\n\\r\\n    next_page_token = response.get(\'nextPageToken\')\\r\\n    more_pages = True\\r\\n\\r\\n    while more_pages:\\r\\n        if next_page_token is None:\\r\\n            more_pages = False\\r\\n        else:\\r\\n            request = service.playlistItems().list(\\r\\n                        part=\'contentDetails\',\\r\\n                        playlistId = uploadsID,\\r\\n                        maxResults = 50,\\r\\n                        pageToken = next_page_token)\\r\\n            response = request.execute()   \\r\\n\\r\\n            for i in range(len(response[\'items\'])):\\r\\n                video_ids.append(response[\'items\'][i][\'contentDetails\'][\'videoId\'])\\r\\n\\r\\n            next_page_token = response.get(\'nextPageToken\')\\r\\n \\r\\n    return (video_ids)\\r\\n\\r\\nvideo_ids = get_video_ids(service, uploadsID)\\r\\n\\r\\nchunk_size = 50\\r\\n\\r\\nvideo_id_chunks = [video_ids[i:i + chunk_size] for i in range(0, len(video_ids), chunk_size)]\\r\\n\\r\\nfor i in range(len(video_id_chunks)):\\r\\n\\r\\n    filename = \'video_ids_\' + str(i) + \'.csv\'\\r\\n    file = open(filename, \'w\', newline=\'\', encoding=\'utf-8\')\\r\\n    writer = csv.writer(file)\\r\\n    writer.writerow(video_id_chunks[i])\\r\\n    file.close()\\r\\n\\r\\n\\r\\n\\r\\n# EXTRACT YOUTUBE VIDEO DETAILS TO SEPARATE JSON FILES\\r\\n\\r\\nall_files_ids = glob.glob(\\"video_ids_*.csv\\")\\r\\n\\r\\nfor i in range(len(all_files_ids)):\\r\\n\\r\\n    with open(all_files_ids[i]) as csvfile:\\r\\n        video_ids_for_details = np.loadtxt(csvfile, delimiter=\',\', dtype=\'str\')\\r\\n\\r\\n    def get_video_details(service, video_ids_for_details):\\r\\n\\r\\n        all_video_stats = []\\r\\n\\r\\n        for i in range(0, len(video_ids_for_details), 50):\\r\\n            request = service.videos().list(\\r\\n                part=\'snippet,statistics\',\\r\\n                id=\',\'.join(video_ids_for_details[i:i+50]))\\r\\n            response = request.execute()\\r\\n\\r\\n            for video in response[\'items\']:\\r\\n                video_stats = dict(Title = video[\'snippet\'][\'title\'],\\r\\n                                   Video_id = video[\'id\'],\\r\\n                                   # Views = video[\'statistics\'][\'viewCount\'],\\r\\n                                   # Likes = video[\'statistics\'][\'likeCount\'],\\r\\n                                   # Comments = video[\'statistics\'][\'commentCount\'],\\r\\n                                   Published_date = video[\'snippet\'][\'publishedAt\'])\\r\\n                all_video_stats.append(video_stats)\\r\\n\\r\\n            return all_video_stats\\r\\n\\r\\n    csv_video_list = pd.DataFrame(get_video_details(service, video_ids_for_details))\\r\\n    csv_video_list.to_json(re.sub(\'_ids_\',\'_details_\', re.sub(\'.csv\', \'\', all_files_ids[i])) + \'.json\', orient=\'records\')\\r\\n\\r\\n\\r\\n\\r\\n# COMBINE YOUTUBE VIDEO DETAILS INTO A SINGLE JSON FILE\\r\\n\\r\\nall_files_details = glob.glob(\\"video_details_*.json\\")\\r\\n\\r\\ndef merge_JsonFiles(filename):\\r\\n    result = list()\\r\\n    for f1 in filename:\\r\\n        with open(f1, \'r\') as infile:\\r\\n            result.extend(json.load(infile))\\r\\n\\r\\n    with open(\'compileddata.json\', \'w\') as output_file:\\r\\n        json.dump(result, output_file)\\r\\n\\r\\nmerge_JsonFiles(all_files_details)\\r\\n```\\r\\n\\r\\n\\r\\n\\r\\n### References\\r\\n\\r\\n* YouTube video **[\\"Python Project to Scrape YouTube using YouTube Data API\\" | Analyze and Visualize YouTube data by Thoufiq Mohammed](https://www.youtube.com/watch?v=SwSbnmqk3zY)**\\r\\n\\r\\n* YouTube video **[\\"How to split a list into evenly sized chunks in Python | Python Tutorial\\" by Jie Jenn](https://www.youtube.com/watch?v=SuEk_TBkReQ)**\\r\\n\\r\\n* YouTube video **[\\"How to Read Multiple CSV Files in Python | For-Loop + 2 More\\" by Business Science](https://www.youtube.com/watch?v=TN_Cvyq_rxE)**\\r\\n\\r\\n* Soft Hints blog post **[How to Merge Multiple JSON Files Into Pandas DataFrame blog post by John D K](https://softhints.com/merge-multiple-json-files-pandas-dataframe)**\\r\\n\\r\\n* Stack Overflow Question **[KeyError: \'commentCount\' using Youtube API in Python](https://stackoverflow.com/questions/70103870/keyerror-commentcount-using-youtube-api-in-python)**\\r\\n\\r\\n\\r\\nClick **[here](https://github.com/makuharistudio/makuharistudio.github.io/blob/main/src/markdown/posts/2022-09-19.md)** for this post\'s markdown file in GitHub.","photo":"../assets/blog/2022-09-19--00.png\\r"},{"id":1661522400,"title":"Creating a decorated scatterplot visual using Deneb and Power BI\\r","name":"creating-a-decorated-scatterplot-visual-using-deneb-and-power-bi","tech":"logo-powerbi\\r","tags":"[\\"Power BI\\", \\"Deneb\\", \\"Vega-Lite\\"]\\r","date":"27 August 2022\\r","content":"This is my second attempt with Deneb, and this time I\'ve designed a more advanced and fancier zoomable scatterplot. The centre of the axis represents Earth, and the data points around it represent satellites, whereby their distance from the centre reflects their average orbital distance from Earth, and their circumferential position relative to the centre reflects the year they were launched.\\r\\n\\r\\n\\r\\nThe final Power BI report *\\"Satellite launch overview\\"* is available here:\\r\\n* **[https://community.powerbi.com/t5/Data-Stories-Gallery/Satellite-launch-overview/m-p/2730077](https://community.powerbi.com/t5/Data-Stories-Gallery/Satellite-launch-overview/m-p/2730077)**\\r\\n\\r\\n\\r\\n![My Power BI visualisation](/src/assets/portfolio/img-2022-08-satellite-launch-overview.gif)\\r\\n\\r\\n### Requirements\\r\\n\\r\\nDeneb is a highly flexible custom visual developed by **[Daniel Marsh-Patrick](https://twitter.com/the_d_mp)** that can be used to create unique visualisations for Power BI reports with JSON-based syntaxes; Vega or Vega-lite.\\r\\n\\r\\nDeneb can be downloaded from the Microsoft App Store:\\r\\n\\r\\n* **[https://appsource.microsoft.com/en-US/product/power-bi-visuals/coacervolimited1596856650797.deneb?tab=Overview](https://appsource.microsoft.com/en-US/product/power-bi-visuals/coacervolimited1596856650797.deneb?tab=Overview)**\\r\\n\\r\\nThe official website for Deneb:\\r\\n\\r\\n* **[https://deneb-viz.github.io](https://deneb-viz.github.io)**\\r\\n\\r\\nTwo satellite datasets were merged together for my report, but this custom visual design only uses the one from the Union of Concerned Scientists:\\r\\n\\r\\n* **[https://www.ucsusa.org/resources/satellite-database](https://www.ucsusa.org/resources/satellite-database)**\\r\\n\\r\\nFor more information on my dataset merge using Power Query, see my Github:\\r\\n\\r\\n* **[https://github.com/makuharistudio/data-visualisation-datasets/tree/main/Satellite%20launch%20overview](https://github.com/makuharistudio/data-visualisation-datasets/tree/main/Satellite%20launch%20overview)**\\r\\n\\r\\n\\r\\n### Inspiration\\r\\n\\r\\nThe main inspirations for this custom visual are these Tableau Public community gallery visualisations:\\r\\n\\r\\n* [Yuli Wang\'s :](https://twitter.com/Yuli_Wg) **[50 years of Chinese Aerospace](https://public.tableau.com/app/profile/yuri.wg/viz/50_15655374759590/1)**\\r\\n\\r\\n![Tableau satellite report by Yuli Wang](/src/assets/blog/2022-08-27--01.png)\\r\\n\\r\\n* [Wendy Shijia\'s :](https://twitter.com/ShijiaWendy) **[50 Years of China\'s Space Journey](https://public.tableau.com/app/profile/wendy.shijia/viz/50YearsofChinasSpaceJourney/50yrsChinasSpaceJourney)**\\r\\n\\r\\n![Tableau satellite report by Wendy Shijia](/src/assets/blog/2022-08-27--01a.png)\\r\\n\\r\\n* [Jean-Paul Frenett\'s :](https://public.tableau.com/app/profile/jean.paul.frenett) **[Satellites of Earth](https://public.tableau.com/app/profile/jean.paul.frenett/viz/SatellitesofEarth/SatellitesinOrbit)**\\r\\n\\r\\n![Tableau satellite report by Jean-Paul Frenett](/src/assets/blog/2022-08-27--02.png)\\r\\n\\r\\n* [Lubos Pribula\'s :](https://twitter.com/LubosPribula) **[Traffic Overhead](https://public.tableau.com/app/profile/lubospribula/viz/TrafficOverhead/TrafficOverhead)**\\r\\n\\r\\n![Tableau satellite report by Lubos Pribula](/src/assets/blog/2022-08-27--03.png)\\r\\n\\r\\n\\r\\n## BUILDING THE SATELLITE CUSTOM VISUAL USING DENEB\\r\\n\\r\\n\\r\\n### Step 1: Set up the data and custom columns needed to plot each satellite \\r\\n\\r\\nFollow the Power Query code from my Github repository (mentioned in the Requirements above) to import the data into Power BI.\\r\\nThe end result should be a single dimension table.\\r\\n\\r\\nFrom Report view, add the following custom columns to that dimension table using DAX:\\r\\n\\r\\n**Cos**\\r\\n\\r\\n```\\r\\nCos = \\r\\nVAR EarliestLaunch = CALCULATE(MIN(Satellites[Launch date]), ALLEXCEPT(Satellites,Satellites[Record type]))\\r\\nVAR LatestLaunch = CALCULATE(MAX(Satellites[Launch date]), ALLEXCEPT(Satellites,Satellites[Record type]))\\r\\nVAR Angle = IF(ISBLANK([Orbit class]) = FALSE, \\r\\n               (1.5 * PI() *\\r\\n                (INT(Satellites[Launch date] - EarliestLaunch)) \\r\\n                 /\\r\\n                (INT(LatestLaunch - EarliestLaunch))),\\r\\n               BLANK()\\r\\n            )\\r\\nVAR OrbitRadius = \\r\\n    SWITCH([Orbit class],\\r\\n           \\"Low Earth Orbit\\", Satellites[Distance (km)],\\r\\n           \\"Medium Earth Orbit\\", Satellites[Distance (km)],\\r\\n           \\"Geostationary Transfer Orbit\\", Satellites[Distance (km)],\\r\\n           \\"Geosynchronous Equatorial Orbit\\", Satellites[Distance (km)],\\r\\n           BLANK()\\r\\n    )\\r\\nRETURN IF(ISBLANK(Satellites[Orbit class]) = FALSE, (COS(Angle) * (OrbitRadius)))\\r\\n```\\r\\n\\r\\n**Sin**\\r\\n\\r\\n```\\r\\nSin = \\r\\nVAR EarliestLaunch = CALCULATE(MIN(Satellites[Launch date]), ALLEXCEPT(Satellites,Satellites[Record type]))\\r\\nVAR LatestLaunch = CALCULATE(MAX(Satellites[Launch date]), ALLEXCEPT(Satellites,Satellites[Record type]))\\r\\nVAR Angle = IF(ISBLANK([Orbit class]) = FALSE, \\r\\n               (1.5 * PI() *\\r\\n                (INT(Satellites[Launch date] - EarliestLaunch)) \\r\\n                 /\\r\\n                (INT(LatestLaunch - EarliestLaunch))),\\r\\n               BLANK()\\r\\n            )\\r\\nVAR OrbitRadius = \\r\\n    SWITCH([Orbit class],\\r\\n           \\"Low Earth Orbit\\", Satellites[Distance (km)],\\r\\n           \\"Medium Earth Orbit\\", Satellites[Distance (km)],\\r\\n           \\"Geostationary Transfer Orbit\\", Satellites[Distance (km)],\\r\\n           \\"Geosynchronous Equatorial Orbit\\", Satellites[Distance (km)],\\r\\n           BLANK()\\r\\n    )\\r\\nRETURN IF(ISBLANK(Satellites[Orbit class]) = FALSE, (SIN(Angle) * (OrbitRadius)))\\r\\n```\\r\\n\\r\\nThe idea behind using Sin and Cos for the calculations to map the satellites as a scatterplot is based on Yuli Wang\'s Tableau Public report. That report additionally (and very cleverly) removes the scaled distance of outlier satellites with average distances tremendously greater than the others, and in doing so is able to fit all the satellites onscreen in a neat and ordered way.\\r\\n\\r\\nHowever, the approach we will take is to deliberately show that scaled distance, even if the outliers are not immediately seen. As at the time of writing, Tableau is unable to zoom freely to resize what is seen onscreen, whereas Power BI can via Deneb and Vega-Lite, and in a way enhances the user\'s experience to be able to see and interact with that scale.\\r\\n\\r\\nAs a next step, import Deneb into your report, adding an instance of it to the page, and resize it to the full screen. Add the fields from the dimension table to the deneb visual as per screenshot below.\\r\\n\\r\\n![Power BI: Adding dimension fields to the Deneb custom visual](/src/assets/blog/2022-08-27--04.png)\\r\\n\\r\\n\\r\\n### Step 2: Create your planet Earth image base64 code\\r\\n\\r\\nNext find a .png image of Earth that will be used as the centre axis i.e. the origin (0,0).\\r\\n\\r\\nIn my case, I used this Earth image by PIRO4D from pixabay.com \\r\\n\\r\\n* **[https://pixabay.com/photos/earth-globe-sea-trenches-2314687](https://pixabay.com/photos/earth-globe-sea-trenches-2314687)**\\r\\n\\r\\n![Earth globe sea trenches](/src/assets/blog/2022-08-27--05.png)\\r\\n\\r\\nIf the image you want to use doesn\'t have a transparent background, you can use an online tool such as **[https://onlinepngtools.com/crop-png](https://onlinepngtools.com/crop-png)** to trim out that background.\\r\\n\\r\\n![Trim out background part of the image](/src/assets/blog/2022-08-27--06.png)\\r\\n\\r\\nNote that the larger the image, the more code it will generate when converted to base64, which in turn impacts the performance of the Deneb code for editing and rendering. You can use an online tool such as **[https://onlinepngtools.com/resize-png](https://onlinepngtools.com/resize-png)** to resize it, in my case to 50 x 50 pixels.\\r\\n\\r\\n![Resize the image](/src/assets/blog/2022-08-27--07.png)\\r\\n\\r\\nThen lastly, use an online tool such as [https://www.browserling.com/tools/image-to-base64](https://www.browserling.com/tools/image-to-base64) to convert the trimmed .png image to base64 code.\\r\\n\\r\\n![Generate base64 code for the image](/src/assets/blog/2022-08-27--08.png)\\r\\n\\r\\nCopy out the base64 code and save it e.g. to a .txt file, as we will use it a little later.\\r\\n\\r\\nIn my case, you can download the base64 code I used from my Github repository:\\r\\n\\r\\n* **[https://raw.githubusercontent.com/makuharistudio/data-visualisation-datasets/main/Satellite%20launch%20overview/images/base64code%20for%20earth-50x50.txt](https://raw.githubusercontent.com/makuharistudio/data-visualisation-datasets/main/Satellite%20launch%20overview/images/base64code%20for%20earth-50x50.txt)**\\r\\n\\r\\n\\r\\n### Step 3: Set a dark background for the entire report canvas\\r\\n\\r\\nYou can either set a solid black or other dark coloured background.\\r\\n\\r\\nIn my case, I used this galaxy wallpaper image by Adrien Olichon from pexels.com\\r\\n\\r\\n* **[https://www.pexels.com/photo/galaxy-wallpaper-2538107](https://www.pexels.com/photo/galaxy-wallpaper-2538107)**\\r\\n\\r\\n![Galaxy wallpaper](/src/assets/blog/2022-08-27--09.png)\\r\\n\\r\\n![Power BI add background image](/src/assets/blog/2022-08-27--10.png)\\r\\n\\r\\nThe colour palette we will use for the actual custom visual is lighter to contrast with the dark background.\\r\\n\\r\\n\\r\\n### Step 4: Begin setting up the core Vega-lite code for the Deneb visual\\r\\n\\r\\nThere will be multiple layers of Vega-lite code placed on top of each other to create this visual.\\r\\n\\r\\nBegin by clearing out the defaulted code, and replace it with the following core code:\\r\\n\\r\\n```\\r\\n{ \\"background\\": \\"null\\",\\r\\n  \\"view\\": {\\"fill\\": \\"#0B0D14\\", \\r\\n           \\"fillOpacity\\": 0 },\\r\\n  \\"data\\": {\\"name\\": \\"dataset\\"},\\r\\n  \\"layer\\": [\\r\\n  ],\\r\\n  \\"config\\": {\\r\\n    \\"legend\\": {\\"title\\": \\"null\\",\\r\\n               \\"titleColor\\": \\"#ffffff\\",\\r\\n               \\"labelColor\\": \\"#ffffff\\",\\r\\n               \\"labelFontSize\\": 10,\\r\\n               \\"labelFont\\": \\"Consolas\\",\\r\\n               \\"orient\\": \\"top-left\\",\\r\\n               \\"labelLimit\\": 260  }\\r\\n  }\\r\\n}\\r\\n```\\r\\n\\r\\n![Deneb: Adding the core code structure](/src/assets/blog/2022-08-27--11.png)\\r\\n\\r\\nOur next steps will be to fill in the **\\"layer\\": [ ]** array with multiple layers to complete the visual.\\r\\n\\r\\nSo the layer code structure will appear like this:\\r\\n\\r\\n```\\r\\n{ \\"background\\": \\"null\\",\\r\\n  \\"view\\": {\\"fill\\": \\"#0B0D14\\", \\r\\n           \\"fillOpacity\\": 0 },\\r\\n  \\"data\\": {\\"name\\": \\"dataset\\"},\\r\\n  \\"layer\\": [\\r\\n            { JSON code for layer 5 e.g. axis label to display year of satellite launch },\\r\\n            { JSON code for layer 9 e.g. axis label to display average orbital distance from Earth },\\r\\n            { JSON code for layer 2 e.g. x-axis line },\\r\\n            { JSON code for layer 1 e.g. Earth image },\\r\\n            { JSON code for layer 4 e.g. scatterplot data points for the satellites },\\r\\n  ],\\r\\n  \\"config\\": {\\r\\n    \\"legend\\": {\\"title\\": \\"null\\",\\r\\n               \\"titleColor\\": \\"#ffffff\\",\\r\\n               \\"labelColor\\": \\"#ffffff\\",\\r\\n               \\"labelFontSize\\": 10,\\r\\n               \\"labelFont\\": \\"Consolas\\",\\r\\n               \\"orient\\": \\"top-left\\",\\r\\n               \\"labelLimit\\": 260  }\\r\\n  }\\r\\n}\\r\\n```\\r\\n\\r\\nThe logic behind how each layer is constructed is outlined below.\\r\\n\\r\\n\\r\\n### Step 5: Layer 1 - Adding planet Earth to the centre of the axis\\r\\n\\r\\nWe want to place the image in the centre of the axis i.e. at the origin, coordinates (0,0).\\r\\n\\r\\nWhilst building this visual, I\'ve tried providing the raw value of 0, but this does not appear to work, presumably because it does not reference an actual data record.\\r\\n\\r\\nThe workaround I came up with was to perform a generalised aggregate calculation across all records, in this case, the maximum value of the Sin field, and create a separate calculation to multiply that aggregate with zero, to get the zero-value needed for axis mapping.\\r\\n\\r\\n```\\r\\n{ \\"transform\\": [\\r\\n      { \\"aggregate\\": [{\\"op\\": \\"max\\", \\"field\\": \\"Sin\\", \\"as\\": \\"max_sin\\"}] },\\r\\n      { \\"calculate\\": \\"datum.max_sin * 0\\", \\"as\\": \\"origin zero\\" } ],\\r\\n```               \\r\\n\\r\\nThen we encode the data point\'s x and y axis to the calculation\'s zero value.\\r\\n\\r\\n```\\r\\n\\"encoding\\": { \\"x\\": { \\"aggregate\\": \\"median\\",\\r\\n                     \\"field\\": \\"origin zero\\",\\r\\n                     \\"type\\": \\"quantitative\\"},\\r\\n              \\"y\\": { \\"aggregate\\": \\"median\\",\\r\\n                     \\"field\\": \\"origin zero\\",\\r\\n                     \\"type\\": \\"quantitative\\"},\\r\\n```\\r\\n\\r\\nLastly, we embed the Earth image\'s base64 code.\\r\\n\\r\\n\\r\\n**Layer code to add to visual:**\\r\\n\\r\\n```\\r\\n{ \\"transform\\": [\\r\\n       { \\"aggregate\\": [{\\"op\\": \\"max\\", \\"field\\": \\"Sin\\", \\"as\\": \\"max_sin\\"}] },\\r\\n       { \\"calculate\\": \\"datum.max_sin * 0\\", \\"as\\": \\"origin zero\\" } ],\\r\\n  \\"mark\\": {\\"type\\": \\"image\\",\\r\\n           \\"width\\": 75,\\r\\n           \\"height\\": 75},\\r\\n  \\"encoding\\": { \\"x\\": { \\"aggregate\\": \\"median\\",\\r\\n                       \\"field\\": \\"origin zero\\",\\r\\n                       \\"type\\": \\"quantitative\\"},\\r\\n                \\"y\\": { \\"aggregate\\": \\"median\\",\\r\\n                       \\"field\\": \\"origin zero\\",\\r\\n                       \\"type\\": \\"quantitative\\"},\\r\\n                \\"url\\": { \\"datum\\": \\"data:image/png;base64, << replace this message with your base64 code >>\\",\\r\\n                         \\"type\\":  \\"nominal\\"}\\r\\n              }\\r\\n}\\r\\n```\\r\\n\\r\\n**Note:** Because the base64 code is long, I\'ve excluded it from the code above, but you would just copy-and-paste it in place of the << >> message, as per screenshot below\\r\\n\\r\\n![Deneb: Adding the Earth layer code](/src/assets/blog/2022-08-27--12.png)\\r\\n\\r\\n\\r\\n### Step 6: Layers 2 & 3 - Adding the lines for the x and y axis\\r\\n\\r\\nFollowing the same multiply by zero calculation logic of the previous layer, we can create \\"rule\\"-type marks to draw out the lines for the x and y axis.\\r\\n\\r\\n**Layer code to add to visual:**\\r\\n\\r\\nAdd this code above the Earth layer, so that the lines are hidden behind the Earth image as they pass through it.\\r\\n\\r\\nThe further down you place an element within the **\\"layer\\": [ ]** array, the more it is \\"on top\\" of other layers.\\r\\n\\r\\n```\\r\\n{ \\"transform\\": [\\r\\n      { \\"aggregate\\": [{\\"op\\": \\"max\\", \\"field\\": \\"Sin\\", \\"as\\": \\"max_sin\\"}] },\\r\\n      { \\"calculate\\": \\"datum.max_sin * 0\\", \\"as\\": \\"x-axis zero for vertical rule\\" } ],\\r\\n  \\"mark\\": {\\"type\\": \\"rule\\",\\r\\n           \\"strokeDash\\": [1, 10],\\r\\n           \\"strokeDashOffset\\": 50000},\\r\\n  \\"encoding\\": { \\"x\\": { \\"field\\": \\"x-axis zero for vertical rule\\",\\r\\n                       \\"type\\": \\"quantitative\\"},\\r\\n                       \\"color\\": {\\"value\\": \\"#9DA4AC\\"},\\r\\n                       \\"size\\": {\\"value\\": 1} }\\r\\n  },\\r\\n{ \\"transform\\": [\\r\\n      { \\"aggregate\\": [{\\"op\\": \\"max\\", \\"field\\": \\"Sin\\", \\"as\\": \\"max_sin\\"}] },\\r\\n      { \\"calculate\\": \\"datum.max_sin * 0\\", \\"as\\": \\"y-axis zero for horizontal rule\\" } ],\\r\\n  \\"mark\\": {\\"type\\": \\"rule\\",\\r\\n           \\"strokeDash\\": [1, 10],\\r\\n           \\"strokeDashOffset\\": 50000},\\r\\n  \\"encoding\\": { \\"y\\": { \\"field\\": \\"y-axis zero for horizontal rule\\",\\r\\n                       \\"type\\": \\"quantitative\\"},\\r\\n                       \\"color\\": {\\"value\\": \\"#9DA4AC\\"},\\r\\n                       \\"size\\": {\\"value\\": 1} }\\r\\n},\\r\\n```\\r\\n\\r\\n![Deneb: Adding the x axis and y axis layer codes](/src/assets/blog/2022-08-27--13.png)\\r\\n\\r\\n\\r\\n### Step 7: Layer 4 - Adding scatterplot data points for the satellite data\\r\\n\\r\\nThis is the most important layer of the visual, as it enables zoom in and out with the user\'s mouse scroll wheel, and is based on an official Vega-Lite example called the *Scatterplot Pan & Zoom*.\\r\\n\\r\\n* **[https://vega.github.io/vega-lite/examples/selection_translate_scatterplot_drag.html](https://vega.github.io/vega-lite/examples/selection_translate_scatterplot_drag.html)**\\r\\n\\r\\nThe concept is to bind the scales as a parameter, and use the axis\' **\\"scale\\": {\\"domain\\"}** attribute to define a default zoom setting, which the user can get back to after scrolling, by double-clicking the visual.\\r\\n\\r\\nThe x-axis and y-axis are mapped to the satellite\'s **Sin** and **Cos** values respectively\\r\\n\\r\\n```\\r\\n{ \\"params\\": [{ \\"name\\": \\"grid\\",\\r\\n               \\"select\\": \\"interval\\",\\r\\n               \\"bind\\": \\"scales\\"},\\r\\n             { \\"name\\": \\"legend\\",\\r\\n               \\"select\\": {\\"type\\": \\"point\\", \\"fields\\": [\\"Orbit class\\"]},\\r\\n               \\"bind\\": \\"legend\\"} ],\\r\\n  \\"mark\\": { \\"type\\": \\"point\\", \\r\\n            \\"shape\\": \\"circle\\",\\r\\n            \\"tooltip\\": true,\\r\\n            \\"filled\\": true,\\r\\n            \\"fillOpacity\\": 0.75},\\r\\n  \\"encoding\\": { \\"x\\": {\\"field\\": \\"Sin\\", \\r\\n                      \\"type\\": \\"quantitative\\",\\r\\n                      \\"title\\": false, \\r\\n                      \\"axis\\": {\\"disable\\": true,\\r\\n                               \\"grid\\": false,\\r\\n                               \\"labels\\": false},\\r\\n                               \\"scale\\": {\\"domain\\": [-70400,70050]}},\\r\\n                \\"y\\": {\\"field\\": \\"Cos\\", \\r\\n                      \\"type\\": \\"quantitative\\",\\r\\n                      \\"title\\": false, \\r\\n                      \\"axis\\": {\\"disable\\": true,\\r\\n                               \\"grid\\": false,\\r\\n                               \\"labels\\": false},\\r\\n                               \\"scale\\": {\\"domain\\": [-69540,60370]}},\\r\\n```\\r\\n\\r\\nIn this case, we\'ve additionally defined a legend bind as an extra **params** element so that selecting an orbit class in the legend highlights satellite data points for that class.\\r\\n\\r\\nBy default, Vega-Lite sorts a column\'s values alphabetically, but you can manually define the sort order, as well as the colour scheme.\\r\\n\\r\\n```\\r\\n\\"color\\": { \\"field\\": \\"Orbit class\\",\\r\\n           \\"type\\": \\"nominal\\",\\r\\n           \\"sort\\": [\\"Geostationary Transfer Orbit\\", \\"Geosynchronous Equatorial Orbit\\", \\"Medium Earth Orbit\\", \\"Low Earth Orbit\\"],\\r\\n           \\"scale\\": {\\"range\\": [\\"#C8F6FF\\", \\"#8DECFF\\", \\"#2DDBFF\\", \\"#11BBDE\\"]} },\\r\\n```\\r\\n\\r\\n\\r\\n**Layer code to add to visual:**\\r\\n\\r\\nAdd this code below the Earth layer, so it is the last element in the **\\"layer\\": [ ]** array. This allows users to easily hover over the data points and show tooltips without the interference of other layers.\\r\\n\\r\\n```\\r\\n{ \\"params\\": [{ \\"name\\": \\"grid\\",\\r\\n               \\"select\\": \\"interval\\",\\r\\n               \\"bind\\": \\"scales\\"},\\r\\n             { \\"name\\": \\"legend\\",\\r\\n               \\"select\\": {\\"type\\": \\"point\\", \\"fields\\": [\\"Orbit class\\"]},\\r\\n               \\"bind\\": \\"legend\\"} ],\\r\\n  \\"mark\\": { \\"type\\": \\"point\\", \\r\\n            \\"shape\\": \\"circle\\",\\r\\n            \\"tooltip\\": true,\\r\\n            \\"filled\\": true,\\r\\n            \\"fillOpacity\\": 0.75},\\r\\n  \\"encoding\\": { \\"x\\": {\\"field\\": \\"Sin\\", \\r\\n                      \\"type\\": \\"quantitative\\",\\r\\n                      \\"title\\": false, \\r\\n                      \\"axis\\": {\\"disable\\": true,\\r\\n                               \\"grid\\": false,\\r\\n                               \\"labels\\": false},\\r\\n                      \\"scale\\": {\\"domain\\": [-70400,70050]}},\\r\\n                \\"y\\": {\\"field\\": \\"Cos\\", \\r\\n                      \\"type\\": \\"quantitative\\",\\r\\n                      \\"title\\": false, \\r\\n                      \\"axis\\": {\\"disable\\": true,\\r\\n                               \\"grid\\": false,\\r\\n                               \\"labels\\": false},\\r\\n                               \\"scale\\": {\\"domain\\": [-69540,60370]}},\\r\\n                \\"size\\": {\\"value\\": 50},\\r\\n                \\"color\\": { \\"field\\": \\"Orbit class\\",\\r\\n                           \\"type\\":  \\"nominal\\",\\r\\n                           \\"sort\\": [ \\"Geostationary Transfer Orbit\\", \\"Geosynchronous Equatorial Orbit\\", \\"Medium Earth Orbit\\", \\"Low Earth Orbit\\"],\\r\\n                           \\"scale\\": {\\"range\\": [\\"#C8F6FF\\", \\"#8DECFF\\", \\"#2DDBFF\\", \\"#11BBDE\\" ]} },\\r\\n                \\"opacity\\": { \\"condition\\": {\\"param\\": \\"legend\\", \\"value\\": 1},\\r\\n                             \\"value\\": 0.025 },\\r\\n                \\"tooltip\\": [ {\\"field\\": \\"Satellite catalog number (NORAD)\\", \\"type\\": \\"nominal\\", \\"title\\": \\"NORAD\\"},\\r\\n                             {\\"field\\": \\"International designator (COSPAR)\\", \\"title\\": \\"COSPAR\\"},\\r\\n                             {\\"field\\": \\"Name\\", \\"title\\": \\"SATELLITE\\"},\\r\\n                             {\\"field\\": \\"Country\\", \\"title\\": \\"COUNTRY\\"},\\r\\n                             {\\"field\\": \\"Purpose\\", \\"title\\": \\"PURPOSE\\"},\\r\\n                             {\\"field\\": \\"Users\\", \\"title\\": \\"USERS\\"},\\r\\n                             {\\"field\\": \\"Launch date\\", \\"title\\": \\"LAUNCH DATE\\", \\"type\\": \\"temporal\\", \\"format\\": \\"%d-%m-%Y (DMY)\\"},\\r\\n                             {\\"field\\": \\"Status\\", \\"title\\": \\"STATUS\\"},\\r\\n                             {\\"field\\": \\"Orbit class\\", \\"title\\": \\"ORBIT CLASS\\"},\\r\\n                             {\\"field\\": \\"Distance (km)\\", \\"title\\": \\"AVERAGE DISTANCE (km)\\", \\"type\\": \\"nominal\\", \\"format\\": \\",.0f\\"},\\r\\n                             {\\"field\\": \\"Apogee (km)\\", \\"title\\": \\"APOGEE (km)\\", \\"type\\": \\"nominal\\", \\"format\\": \\",.0f\\"},\\r\\n                             {\\"field\\": \\"Perigee (km)\\", \\"title\\": \\"PERIGEE (km)\\", \\"type\\": \\"nominal\\", \\"format\\": \\",.0f\\"},\\r\\n                             {\\"field\\": \\"Launch site\\", \\"title\\": \\"LAUNCH SITE\\"},\\r\\n                             {\\"field\\": \\"Launch vehicle\\", \\"title\\": \\"LAUNCH VEHICLE\\"}] }\\r\\n}\\r\\n```\\r\\n\\r\\n![Deneb: Adding the scatterplot for satellite data points](/src/assets/blog/2022-08-27--14.png)\\r\\n\\r\\n\\r\\n### Step 8: Layers 5, 6, 7, and 8 - Adding year labels for the top, bottom, left, and right sides of the origin\\r\\n\\r\\nUnfortunately, I was unable to figure out how to programmatically determine the years that reflect each side of the x and y axis.\\r\\n\\r\\nFortunately, we have the satellite data points onscreen, so we can just hover over the satellites which sit on each of the 4 axis points, and manually hardcode the year values as labels.\\r\\n\\r\\nFor example, there is only one satellite sitting on the positive y-axis, and its tooltip shows that its launch year is 1974\\r\\n\\r\\n![Identify the year for positive y-axis](/src/assets/blog/2022-08-27--15.png)\\r\\n\\r\\nIn this code we again use the multiply by zero calculation to align the position of the label, and define the distance of the label from the centre by applying the absolute function and multiply it with a fixed value of 50% the distance of the highest Sin value.\\r\\n\\r\\n```\\r\\n{ \\"transform\\": [\\r\\n       { \\"aggregate\\": [{\\"op\\": \\"max\\", \\"field\\": \\"Sin\\", \\"as\\": \\"max_sin\\"}] },\\r\\n       { \\"calculate\\": \\"datum.max_sin * 0\\", \\"as\\": \\"x-axis zero\\" },\\r\\n       { \\"calculate\\": \\"abs(datum.max_sin) * 0.5\\", \\"as\\": \\"y-axis top year\\" } ],\\r\\n  \\"mark\\": {\\"type\\": \\"text\\",\\r\\n           \\"style\\": \\"label\\",\\r\\n           \\"angle\\": 0,\\r\\n           \\"baseline\\": \\"top\\",\\r\\n           \\"align\\": \\"center\\",\\r\\n           \\"fontSize\\": 30 },\\r\\n  \\"encoding\\": { \\"x\\": { \\"field\\": \\"x-axis zero\\",\\r\\n                       \\"type\\": \\"quantitative\\"},\\r\\n                \\"y\\": { \\"field\\": \\"y-axis top year\\",\\r\\n                       \\"type\\": \\"quantitative\\"},\\r\\n                       \\"text\\": {\\"value\\": \\"1974\\"},\\r\\n                       \\"color\\": {\\"value\\": \\"#9DA4AC\\"} }\\r\\n},\\r\\n```\\r\\n\\r\\nThen rinse-and-repeat for the 3 other points from the origin.\\r\\n\\r\\n**Layer code to add to visual:**\\r\\n\\r\\nAdd these 4 layers for each of the 4 year labels, as the first elements in the **\\"layer\\": [ ]** array.\\r\\n\\r\\n```\\r\\n{ \\"transform\\": [\\r\\n       { \\"aggregate\\": [{\\"op\\": \\"max\\", \\"field\\": \\"Sin\\", \\"as\\": \\"max_sin\\"}] },\\r\\n       { \\"calculate\\": \\"datum.max_sin * 0\\", \\"as\\": \\"x-axis zero\\" },\\r\\n       { \\"calculate\\": \\"abs(datum.max_sin) * 0.5\\", \\"as\\": \\"y-axis top year\\" } ],\\r\\n  \\"mark\\": {\\"type\\": \\"text\\",\\r\\n           \\"style\\": \\"label\\",\\r\\n           \\"angle\\": 0,\\r\\n           \\"baseline\\": \\"top\\",\\r\\n           \\"align\\": \\"center\\",\\r\\n           \\"fontSize\\": 30 },\\r\\n  \\"encoding\\": { \\"x\\": { \\"field\\": \\"x-axis zero\\",\\r\\n                       \\"type\\": \\"quantitative\\"},\\r\\n                \\"y\\": { \\"field\\": \\"y-axis top year\\",\\r\\n                       \\"type\\": \\"quantitative\\"},\\r\\n                       \\"text\\": {\\"value\\": \\"1974\\"},\\r\\n                       \\"color\\": {\\"value\\": \\"#9DA4AC\\"} }\\r\\n},\\r\\n{ \\"transform\\": [\\r\\n    { \\"aggregate\\": [{\\"op\\": \\"max\\", \\"field\\": \\"Sin\\", \\"as\\": \\"max_sin\\"}] },\\r\\n                    { \\"calculate\\": \\"datum.max_sin * 0\\", \\"as\\": \\"x-axis zero\\" },\\r\\n                    { \\"calculate\\": \\"abs(datum.max_sin) * -1 * 0.6\\", \\"as\\": \\"y-axis bottom year\\" } ],\\r\\n      \\"mark\\": {\\"type\\": \\"text\\",\\r\\n               \\"style\\": \\"label\\",\\r\\n               \\"angle\\": 0,\\r\\n               \\"baseline\\": \\"bottom\\",\\r\\n               \\"align\\": \\"center\\",\\r\\n               \\"fontSize\\": 30 },\\r\\n      \\"encoding\\": { \\"x\\": {\\"field\\": \\"x-axis zero\\",\\r\\n                          \\"type\\":  \\"quantitative\\"},\\r\\n                    \\"y\\": {\\"field\\": \\"y-axis bottom year\\",\\r\\n                           \\"type\\":  \\"quantitative\\"},\\r\\n                    \\"text\\": {\\"value\\": \\"2006\\"},\\r\\n                    \\"color\\": {\\"value\\": \\"#9DA4AC\\"} }\\r\\n},\\r\\n{ \\"transform\\": [\\r\\n    { \\"aggregate\\": [{\\"op\\": \\"max\\", \\"field\\": \\"Sin\\", \\"as\\": \\"max_sin\\"}] },\\r\\n                    { \\"calculate\\": \\"datum.max_sin * 0\\", \\"as\\": \\"y-axis zero\\" },\\r\\n                    { \\"calculate\\": \\"abs(datum.max_sin) * 0.5\\", \\"as\\": \\"x-axis right year\\" } ],\\r\\n      \\"mark\\": {\\"type\\": \\"text\\",\\r\\n               \\"style\\": \\"label\\",\\r\\n               \\"angle\\": 0,\\r\\n               \\"baseline\\": \\"middle\\",\\r\\n               \\"align\\": \\"center\\",\\r\\n               \\"fontSize\\": 30 },\\r\\n      \\"encoding\\": { \\"y\\": {\\"field\\": \\"y-axis zero\\",\\r\\n                          \\"type\\":  \\"quantitative\\"},\\r\\n                    \\"x\\": {\\"field\\": \\"x-axis right year\\",\\r\\n                          \\"type\\":  \\"quantitative\\"},\\r\\n                    \\"text\\": {\\"value\\": \\"1990\\"},\\r\\n                    \\"color\\": {\\"value\\": \\"#9DA4AC\\"} }\\r\\n},\\r\\n{ \\"transform\\": [\\r\\n    { \\"aggregate\\": [{\\"op\\": \\"max\\", \\"field\\": \\"Sin\\", \\"as\\": \\"max_sin\\"}] },\\r\\n                    { \\"calculate\\": \\"datum.max_sin * 0\\", \\"as\\": \\"y-axis zero\\" },\\r\\n                    { \\"calculate\\": \\"abs(datum.max_sin) * -1 * 0.5\\", \\"as\\": \\"x-axis left year\\" } ],\\r\\n      \\"mark\\": {\\"type\\": \\"text\\",\\r\\n               \\"style\\": \\"label\\",\\r\\n               \\"angle\\": 0,\\r\\n               \\"baseline\\": \\"middle\\",\\r\\n               \\"align\\": \\"center\\",\\r\\n               \\"fontSize\\": 30 },\\r\\n      \\"encoding\\": { \\"y\\": {\\"field\\": \\"y-axis zero\\",\\r\\n                          \\"type\\":  \\"quantitative\\"},\\r\\n                    \\"x\\": {\\"field\\": \\"x-axis left year\\",\\r\\n                          \\"type\\":  \\"quantitative\\"},\\r\\n                    \\"text\\": {\\"value\\": \\"2021\\"},\\r\\n                    \\"color\\": {\\"value\\": \\"#9DA4AC\\"} }\\r\\n},\\r\\n```\\r\\n\\r\\n![Deneb: Adding year labels for each of the 4 points of the origin](/src/assets/blog/2022-08-27--16.png)\\r\\n\\r\\n\\r\\n### Step 9: Layers 9 and more\\r\\n\\r\\nThe last part is to add multiple layers for each label along the axis to mark various satellite distances from Earth.\\r\\n\\r\\nIt is arbitrary how many labels you would like to add, but one idea is to include the minimum and maximum values for each Orbit class along each of the four axis parts, so that when a user zooms in, they have an idea of how many satellites fall within that min-max range.\\r\\n\\r\\nBecause the distance label will be marked along the axis, we need to filter the data by the year that part of the axis represents.\\r\\nIn this case, we are filtering by 2021 because we are using the negative part of the x-axis.\\r\\n\\r\\n```\\r\\n{ \\"timeUnit\\": \\"year\\", \\"field\\": \\"Launch date\\", \\"as\\": \\"date\\"},\\r\\n{ \\"filter\\": \\"year(datum.date) == 2021\\"},\\r\\n```\\r\\n\\r\\nTo suffix \\"km\\" to the distance value, simply concatenate it:\\r\\n\\r\\n```\\r\\n{ \\"calculate\\": \\"abs(round(datum.min_sin_GEO)) + \'km\'\\", \\"as\\": \\"display GEO max 2021 kms\\"},\\r\\n```\\r\\n\\r\\n**Layer code to add to visual:**\\r\\n\\r\\nAdd this code between the years layers and the axis layers within the **\\"layer\\": [ ]** array.\\r\\n\\r\\nThis is an example of a single label, for the satellite in Geosynchronous Equatorial Orbit with the lowest average distance from Earth and launched in 2021.\\r\\n\\r\\n```\\r\\n{ \\"transform\\": [\\r\\n          { \\"timeUnit\\": \\"year\\", \\"field\\": \\"Launch date\\", \\"as\\": \\"date\\"},\\r\\n          { \\"filter\\": \\"year(datum.date) == 2021\\"},\\r\\n          { \\"filter\\": {\\"field\\": \\"Orbit class\\", \\"equal\\": \\"Geosynchronous Equatorial Orbit\\"}},\\r\\n          { \\"aggregate\\": [{\\"op\\": \\"min\\", \\"field\\": \\"Sin\\", \\"as\\": \\"min_sin_GEO\\"}] },\\r\\n          { \\"calculate\\": \\"datum.min_sin_GEO * 0\\", \\"as\\": \\"y-axis zero\\" },\\r\\n          { \\"calculate\\": \\"abs(round(datum.min_sin_GEO)) + \'km\'\\", \\"as\\": \\"display GEO max 2021 kms\\"},\\r\\n          { \\"calculate\\": \\"abs(datum.min_sin_GEO) * -1\\", \\"as\\": \\"x-axis GEO max 2021 distance\\" } ],\\r\\n  \\"mark\\": {\\"type\\": \\"text\\", \\"style\\": \\"label\\", \\"angle\\": 0, \\"baseline\\": \\"bottom\\", \\"align\\": \\"center\\", \\"fontSize\\": 16 },\\r\\n  \\"encoding\\": { \\"y\\": {\\"field\\": \\"y-axis zero\\", \\"type\\":  \\"quantitative\\"},\\r\\n                \\"x\\": {\\"field\\": \\"x-axis GEO max 2021 distance\\", \\"type\\": \\"quantitative\\"},\\r\\n                \\"text\\": {\\"field\\": \\"display GEO max 2021 kms\\", \\"type\\": \\"nominal\\"},\\r\\n                \\"color\\": {\\"value\\": \\"#AAB6C4\\"} }\\r\\n},\\r\\n```\\r\\n\\r\\n![Deneb: Adding distance label](/src/assets/blog/2022-08-27--17.png)\\r\\n\\r\\nYou can find more distance label layers in the completed code below.\\r\\n\\r\\nAn important note is to filter your data by Record type: \\"UCSUSA active observation\\", as the n2yo.com data does not have the average distance data, because most of those records are for decayed or unknown status satellites.\\r\\n\\r\\n![Power BI: Apply filter to the Deneb visual](/src/assets/blog/2022-08-27--18.png)\\r\\n\\r\\n\\r\\n## FINAL DENEB CODE\\r\\n\\r\\nThis is the final Deneb code for the custom code:\\r\\n\\r\\n```\\r\\n{\\"background\\": \\"null\\",\\r\\n \\"view\\": {\\"fill\\": \\"#0B0D14\\", \\r\\n          \\"fillOpacity\\": 0 },\\r\\n \\"data\\": {\\"name\\": \\"dataset\\"},\\r\\n \\"layer\\": [\\r\\n     { \\"transform\\": [\\r\\n            { \\"aggregate\\": [{\\"op\\": \\"max\\", \\"field\\": \\"Sin\\", \\"as\\": \\"max_sin\\"}] },\\r\\n            { \\"calculate\\": \\"datum.max_sin * 0\\", \\"as\\": \\"x-axis zero\\" },\\r\\n            { \\"calculate\\": \\"abs(datum.max_sin) * 0.5\\", \\"as\\": \\"y-axis top year\\" } ],\\r\\n       \\"mark\\": {\\"type\\": \\"text\\",\\r\\n                \\"style\\": \\"label\\",\\r\\n                \\"angle\\": 0,\\r\\n                \\"baseline\\": \\"top\\",\\r\\n                \\"align\\": \\"center\\",\\r\\n                \\"fontSize\\": 30 },\\r\\n       \\"encoding\\": { \\"x\\": {\\"field\\": \\"x-axis zero\\",\\r\\n                           \\"type\\":  \\"quantitative\\"},\\r\\n                     \\"y\\": {\\"field\\": \\"y-axis top year\\",\\r\\n                           \\"type\\":  \\"quantitative\\"},\\r\\n                     \\"text\\": {\\"value\\": \\"1974\\"},\\r\\n                     \\"color\\": {\\"value\\": \\"#9DA4AC\\"} }\\r\\n     },\\r\\n     { \\"transform\\": [\\r\\n            { \\"aggregate\\": [{\\"op\\": \\"max\\", \\"field\\": \\"Sin\\", \\"as\\": \\"max_sin\\"}] },\\r\\n            { \\"calculate\\": \\"datum.max_sin * 0\\", \\"as\\": \\"x-axis zero\\" },\\r\\n            { \\"calculate\\": \\"abs(datum.max_sin) * -1 * 0.6\\", \\"as\\": \\"y-axis bottom year\\" } ],\\r\\n       \\"mark\\": {\\"type\\": \\"text\\",\\r\\n                \\"style\\": \\"label\\",\\r\\n                \\"angle\\": 0,\\r\\n                \\"baseline\\": \\"bottom\\",\\r\\n                \\"align\\": \\"center\\",\\r\\n                \\"fontSize\\": 30 },\\r\\n       \\"encoding\\": { \\"x\\": {\\"field\\": \\"x-axis zero\\",\\r\\n                           \\"type\\":  \\"quantitative\\"},\\r\\n                     \\"y\\": {\\"field\\": \\"y-axis bottom year\\",\\r\\n                           \\"type\\":  \\"quantitative\\"},\\r\\n                     \\"text\\": {\\"value\\": \\"2006\\"},\\r\\n                     \\"color\\": {\\"value\\": \\"#9DA4AC\\"} }\\r\\n     },\\r\\n     { \\"transform\\": [\\r\\n            { \\"aggregate\\": [{\\"op\\": \\"max\\", \\"field\\": \\"Sin\\", \\"as\\": \\"max_sin\\"}] },\\r\\n            { \\"calculate\\": \\"datum.max_sin * 0\\", \\"as\\": \\"y-axis zero\\" },\\r\\n            { \\"calculate\\": \\"abs(datum.max_sin) * 0.5\\", \\"as\\": \\"x-axis right year\\" } ],\\r\\n       \\"mark\\": {\\"type\\": \\"text\\",\\r\\n                \\"style\\": \\"label\\",\\r\\n                \\"angle\\": 0,\\r\\n                \\"baseline\\": \\"middle\\",\\r\\n                \\"align\\": \\"center\\",\\r\\n                \\"fontSize\\": 30 },\\r\\n       \\"encoding\\": { \\"y\\": {\\"field\\": \\"y-axis zero\\",\\r\\n                           \\"type\\":  \\"quantitative\\"},\\r\\n                     \\"x\\": {\\"field\\": \\"x-axis right year\\",\\r\\n                           \\"type\\":  \\"quantitative\\"},\\r\\n                     \\"text\\": {\\"value\\": \\"1990\\"},\\r\\n                     \\"color\\": {\\"value\\": \\"#9DA4AC\\"} }\\r\\n     },\\r\\n     { \\"transform\\": [\\r\\n            { \\"aggregate\\": [{\\"op\\": \\"max\\", \\"field\\": \\"Sin\\", \\"as\\": \\"max_sin\\"}] },\\r\\n            { \\"calculate\\": \\"datum.max_sin * 0\\", \\"as\\": \\"y-axis zero\\" },\\r\\n            { \\"calculate\\": \\"abs(datum.max_sin) * -1 * 0.5\\", \\"as\\": \\"x-axis left year\\" } ],\\r\\n       \\"mark\\": {\\"type\\": \\"text\\",\\r\\n                \\"style\\": \\"label\\",\\r\\n                \\"angle\\": 0,\\r\\n                \\"baseline\\": \\"middle\\",\\r\\n                \\"align\\": \\"center\\",\\r\\n                \\"fontSize\\": 30 },\\r\\n       \\"encoding\\": { \\"y\\": {\\"field\\": \\"y-axis zero\\",\\r\\n                           \\"type\\":  \\"quantitative\\"},\\r\\n                     \\"x\\": {\\"field\\": \\"x-axis left year\\",\\r\\n                           \\"type\\":  \\"quantitative\\"},\\r\\n                     \\"text\\": {\\"value\\": \\"2021\\"},\\r\\n                     \\"color\\": {\\"value\\": \\"#9DA4AC\\"} }\\r\\n     },\\r\\n     { \\"transform\\": [\\r\\n         { \\"timeUnit\\": \\"year\\", \\"field\\": \\"Launch date\\", \\"as\\": \\"date\\"},\\r\\n         { \\"filter\\": \\"year(datum.date) == 1974\\"},\\r\\n         { \\"filter\\": {\\"field\\": \\"Orbit class\\", \\"equal\\": \\"Low Earth Orbit\\"}},\\r\\n         { \\"aggregate\\": [{\\"op\\": \\"min\\", \\"field\\": \\"Cos\\", \\"as\\": \\"min_sin_LEO\\"}] },\\r\\n         { \\"calculate\\": \\"datum.min_sin_LEO * 0\\", \\"as\\": \\"x-axis zero\\" },\\r\\n         { \\"calculate\\": \\"abs(round(datum.min_sin_LEO)) + \'km\'\\", \\"as\\": \\"display LEO max 1974 kms\\"}, \\r\\n         { \\"calculate\\": \\"abs(datum.min_sin_LEO)\\", \\"as\\": \\"y-axis LEO max 1974 distance\\" } ],\\r\\n       \\"mark\\": { \\"type\\": \\"text\\", \\"style\\": \\"label\\", \\"angle\\": 0, \\"baseline\\": \\"bottom\\", \\"align\\": \\"left\\", \\"fontSize\\": 16 },\\r\\n       \\"encoding\\": { \\"y\\": {\\"field\\": \\"y-axis LEO max 1974 distance\\", \\"type\\":  \\"quantitative\\"},\\r\\n                     \\"x\\": {\\"field\\": \\"x-axis zero\\", \\"type\\":  \\"quantitative\\"},\\r\\n                     \\"text\\": {\\"field\\": \\"display LEO max 1974 kms\\", \\"type\\": \\"nominal\\"},\\r\\n                     \\"color\\": {\\"value\\": \\"#AAB6C4\\"} }\\r\\n     },\\r\\n     { \\"transform\\": [\\r\\n         { \\"timeUnit\\": \\"year\\", \\"field\\": \\"Launch date\\", \\"as\\": \\"date\\"},\\r\\n         { \\"filter\\": \\"year(datum.date) == 1990\\"},\\r\\n         { \\"filter\\": {\\"field\\": \\"Orbit class\\", \\"equal\\": \\"Low Earth Orbit\\"}},\\r\\n         { \\"aggregate\\": [{\\"op\\": \\"min\\", \\"field\\": \\"Sin\\", \\"as\\": \\"min_sin_LEO\\"}] },\\r\\n         { \\"calculate\\": \\"datum.min_sin_LEO * 0\\", \\"as\\": \\"y-axis zero\\" },\\r\\n         { \\"calculate\\": \\"abs(round(datum.min_sin_LEO)) + \'km\'\\", \\"as\\": \\"display LEO max 1990 kms\\"}, \\r\\n         { \\"calculate\\": \\"abs(datum.min_sin_LEO)\\", \\"as\\": \\"x-axis LEO max 1990 distance\\" } ],\\r\\n       \\"mark\\": {\\"type\\": \\"text\\", \\"style\\": \\"label\\", \\"angle\\": 0, \\"baseline\\": \\"bottom\\", \\"align\\": \\"center\\", \\"fontSize\\": 16 },\\r\\n       \\"encoding\\": { \\"y\\": {\\"field\\": \\"y-axis zero\\", \\"type\\":  \\"quantitative\\"},\\r\\n                     \\"x\\": {\\"field\\": \\"x-axis LEO max 1990 distance\\", \\"type\\": \\"quantitative\\"},\\r\\n                     \\"text\\": {\\"field\\": \\"display LEO max 1990 kms\\", \\"type\\": \\"nominal\\"},\\r\\n                     \\"color\\": {\\"value\\": \\"#AAB6C4\\"} }\\r\\n     },\\r\\n     { \\"transform\\": [\\r\\n         { \\"timeUnit\\": \\"year\\", \\"field\\": \\"Launch date\\", \\"as\\": \\"date\\"},\\r\\n         { \\"filter\\": \\"year(datum.date) == 1990\\"},\\r\\n         { \\"filter\\": {\\"field\\": \\"Orbit class\\", \\"equal\\": \\"Geosynchronous Equatorial Orbit\\"}},\\r\\n         { \\"aggregate\\": [{\\"op\\": \\"min\\", \\"field\\": \\"Sin\\", \\"as\\": \\"min_sin_GEO\\"}] },\\r\\n         { \\"calculate\\": \\"datum.min_sin_GEO * 0\\", \\"as\\": \\"y-axis zero\\" },\\r\\n         { \\"calculate\\": \\"abs(round(datum.min_sin_GEO)) + \'km\'\\", \\"as\\": \\"display GEO max 1990 kms\\"}, \\r\\n         { \\"calculate\\": \\"abs(datum.min_sin_GEO)\\", \\"as\\": \\"x-axis GEO max 1990 distance\\" } ],\\r\\n       \\"mark\\": {\\"type\\": \\"text\\", \\"style\\": \\"label\\", \\"angle\\": 0, \\"baseline\\": \\"bottom\\", \\"align\\": \\"center\\", \\"fontSize\\": 16 },\\r\\n       \\"encoding\\": { \\"y\\": {\\"field\\": \\"y-axis zero\\", \\"type\\":  \\"quantitative\\"},\\r\\n                     \\"x\\": {\\"field\\": \\"x-axis GEO max 1990 distance\\", \\"type\\": \\"quantitative\\"},\\r\\n                     \\"text\\": {\\"field\\": \\"display GEO max 1990 kms\\", \\"type\\": \\"nominal\\"},\\r\\n                     \\"color\\": {\\"value\\": \\"#AAB6C4\\"} }\\r\\n     },\\r\\n     { \\"transform\\": [\\r\\n         { \\"timeUnit\\": \\"year\\", \\"field\\": \\"Launch date\\", \\"as\\": \\"date\\"},\\r\\n         { \\"filter\\": \\"year(datum.date) == 2006\\"},\\r\\n         { \\"filter\\": {\\"field\\": \\"Orbit class\\", \\"equal\\": \\"Low Earth Orbit\\"}},\\r\\n         { \\"aggregate\\": [{\\"op\\": \\"max\\", \\"field\\": \\"Cos\\", \\"as\\": \\"max_sin_LEO\\"}] },\\r\\n         { \\"calculate\\": \\"datum.max_sin_LEO * 0\\", \\"as\\": \\"x-axis zero\\" },\\r\\n         { \\"calculate\\": \\"abs(round(datum.max_sin_LEO)) + \'km\'\\", \\"as\\": \\"display LEO min 2006 kms\\"}, \\r\\n         { \\"calculate\\": \\"abs(datum.max_sin_LEO) * -1\\", \\"as\\": \\"y-axis LEO min 2006 distance\\" } ],\\r\\n       \\"mark\\": { \\"type\\": \\"text\\", \\"style\\": \\"label\\", \\"angle\\": 0, \\"baseline\\": \\"bottom\\", \\"align\\": \\"left\\", \\"fontSize\\": 16 },\\r\\n       \\"encoding\\": { \\"y\\": {\\"field\\": \\"y-axis LEO min 2006 distance\\", \\"type\\":  \\"quantitative\\"},\\r\\n                     \\"x\\": {\\"field\\": \\"x-axis zero\\", \\"type\\":  \\"quantitative\\"},\\r\\n                     \\"text\\": {\\"field\\": \\"display LEO min 2006 kms\\", \\"type\\": \\"nominal\\"},\\r\\n                     \\"color\\": {\\"value\\": \\"#AAB6C4\\"} }\\r\\n     },\\r\\n     { \\"transform\\": [\\r\\n         { \\"timeUnit\\": \\"year\\", \\"field\\": \\"Launch date\\", \\"as\\": \\"date\\"},\\r\\n         { \\"filter\\": \\"year(datum.date) == 2006\\"},\\r\\n         { \\"filter\\": {\\"field\\": \\"Orbit class\\", \\"equal\\": \\"Low Earth Orbit\\"}},\\r\\n         { \\"aggregate\\": [{\\"op\\": \\"median\\", \\"field\\": \\"Cos\\", \\"as\\": \\"med_sin_LEO\\"}] },\\r\\n         { \\"calculate\\": \\"datum.med_sin_LEO * 0\\", \\"as\\": \\"x-axis zero\\" },\\r\\n         { \\"calculate\\": \\"abs(round(datum.med_sin_LEO)) + \'km\'\\", \\"as\\": \\"display LEO med 2006 kms\\"}, \\r\\n         { \\"calculate\\": \\"abs(datum.med_sin_LEO) * -1\\", \\"as\\": \\"y-axis LEO med 2006 distance\\" } ],\\r\\n       \\"mark\\": { \\"type\\": \\"text\\", \\"style\\": \\"label\\", \\"angle\\": 0, \\"baseline\\": \\"bottom\\", \\"align\\": \\"left\\", \\"fontSize\\": 16 },\\r\\n       \\"encoding\\": { \\"y\\": {\\"field\\": \\"y-axis LEO med 2006 distance\\", \\"type\\":  \\"quantitative\\"},\\r\\n                     \\"x\\": {\\"field\\": \\"x-axis zero\\", \\"type\\":  \\"quantitative\\"},\\r\\n                     \\"text\\": {\\"field\\": \\"display LEO med 2006 kms\\", \\"type\\": \\"nominal\\"},\\r\\n                     \\"color\\": {\\"value\\": \\"#AAB6C4\\"} }\\r\\n     },\\r\\n     { \\"transform\\": [\\r\\n         { \\"timeUnit\\": \\"year\\", \\"field\\": \\"Launch date\\", \\"as\\": \\"date\\"},\\r\\n         { \\"filter\\": \\"year(datum.date) == 2006\\"},\\r\\n         { \\"filter\\": {\\"field\\": \\"Orbit class\\", \\"equal\\": \\"Low Earth Orbit\\"}},\\r\\n         { \\"aggregate\\": [{\\"op\\": \\"min\\", \\"field\\": \\"Cos\\", \\"as\\": \\"min_sin_LEO\\"}] },\\r\\n         { \\"calculate\\": \\"datum.min_sin_LEO * 0\\", \\"as\\": \\"x-axis zero\\" },\\r\\n         { \\"calculate\\": \\"abs(round(datum.min_sin_LEO)) + \'km\'\\", \\"as\\": \\"display LEO max 2006 kms\\"}, \\r\\n         { \\"calculate\\": \\"abs(datum.min_sin_LEO) * -1\\", \\"as\\": \\"y-axis LEO max 2006 distance\\" } ],\\r\\n       \\"mark\\": { \\"type\\": \\"text\\", \\"style\\": \\"label\\", \\"angle\\": 0, \\"baseline\\": \\"bottom\\", \\"align\\": \\"left\\", \\"fontSize\\": 16 },\\r\\n       \\"encoding\\": { \\"y\\": {\\"field\\": \\"y-axis LEO max 2006 distance\\", \\"type\\":  \\"quantitative\\"},\\r\\n                     \\"x\\": {\\"field\\": \\"x-axis zero\\", \\"type\\":  \\"quantitative\\"},\\r\\n                     \\"text\\": {\\"field\\": \\"display LEO max 2006 kms\\", \\"type\\": \\"nominal\\"},\\r\\n                     \\"color\\": {\\"value\\": \\"#AAB6C4\\"} }\\r\\n     },\\r\\n     { \\"transform\\": [\\r\\n         { \\"timeUnit\\": \\"year\\", \\"field\\": \\"Launch date\\", \\"as\\": \\"date\\"},\\r\\n         { \\"filter\\": \\"year(datum.date) == 2006\\"},\\r\\n         { \\"filter\\": {\\"field\\": \\"Orbit class\\", \\"equal\\": \\"Medium Earth Orbit\\"}},\\r\\n         { \\"aggregate\\": [{\\"op\\": \\"min\\", \\"field\\": \\"Cos\\", \\"as\\": \\"min_sin_MEO\\"}] },\\r\\n         { \\"calculate\\": \\"datum.min_sin_MEO * 0\\", \\"as\\": \\"x-axis zero\\" },\\r\\n         { \\"calculate\\": \\"abs(round(datum.min_sin_MEO)) + \'km\'\\", \\"as\\": \\"display MEO max 2006 kms\\"}, \\r\\n         { \\"calculate\\": \\"abs(datum.min_sin_MEO) * -1\\", \\"as\\": \\"y-axis MEO max 2006 distance\\" } ],\\r\\n       \\"mark\\": { \\"type\\": \\"text\\", \\"style\\": \\"label\\", \\"angle\\": 0, \\"baseline\\": \\"bottom\\", \\"align\\": \\"left\\", \\"fontSize\\": 16 },\\r\\n       \\"encoding\\": { \\"y\\": {\\"field\\": \\"y-axis MEO max 2006 distance\\", \\"type\\":  \\"quantitative\\"},\\r\\n                     \\"x\\": {\\"field\\": \\"x-axis zero\\", \\"type\\":  \\"quantitative\\"},\\r\\n                     \\"text\\": {\\"field\\": \\"display MEO max 2006 kms\\", \\"type\\": \\"nominal\\"},\\r\\n                     \\"color\\": {\\"value\\": \\"#AAB6C4\\"} }\\r\\n     },\\r\\n     { \\"transform\\": [\\r\\n         { \\"timeUnit\\": \\"year\\", \\"field\\": \\"Launch date\\", \\"as\\": \\"date\\"},\\r\\n         { \\"filter\\": \\"year(datum.date) == 2006\\"},\\r\\n         { \\"filter\\": {\\"field\\": \\"Orbit class\\", \\"equal\\": \\"Geosynchronous Equatorial Orbit\\"}},\\r\\n         { \\"aggregate\\": [{\\"op\\": \\"min\\", \\"field\\": \\"Cos\\", \\"as\\": \\"min_sin_GEO\\"}] },\\r\\n         { \\"calculate\\": \\"datum.min_sin_GEO * 0\\", \\"as\\": \\"x-axis zero\\" },\\r\\n         { \\"calculate\\": \\"abs(round(datum.min_sin_GEO)) + \'km\'\\", \\"as\\": \\"display GEO max 2006 kms\\"}, \\r\\n         { \\"calculate\\": \\"abs(datum.min_sin_GEO) * -1\\", \\"as\\": \\"y-axis GEO max 2006 distance\\" } ],\\r\\n       \\"mark\\": {\\"type\\": \\"text\\", \\"style\\": \\"label\\", \\"angle\\": 0, \\"baseline\\": \\"bottom\\", \\"align\\": \\"left\\", \\"fontSize\\": 16 },\\r\\n       \\"encoding\\": { \\"y\\": {\\"field\\": \\"y-axis GEO max 2006 distance\\", \\"type\\": \\"quantitative\\"},\\r\\n                     \\"x\\": {\\"field\\": \\"x-axis zero\\", \\"type\\":  \\"quantitative\\"},\\r\\n                     \\"text\\": {\\"field\\": \\"display GEO max 2006 kms\\", \\"type\\": \\"nominal\\"},\\r\\n                     \\"color\\": {\\"value\\": \\"#AAB6C4\\"} }\\r\\n     },\\r\\n     { \\"transform\\": [\\r\\n         { \\"timeUnit\\": \\"year\\", \\"field\\": \\"Launch date\\", \\"as\\": \\"date\\"},\\r\\n         { \\"filter\\": \\"year(datum.date) == 2021\\"},\\r\\n         { \\"filter\\": {\\"field\\": \\"Orbit class\\", \\"equal\\": \\"Low Earth Orbit\\"}},\\r\\n         { \\"aggregate\\": [{\\"op\\": \\"max\\", \\"field\\": \\"Sin\\", \\"as\\": \\"max_sin_LEO\\"}] },\\r\\n         { \\"calculate\\": \\"datum.max_sin_LEO * 0\\", \\"as\\": \\"y-axis zero\\" },\\r\\n         { \\"calculate\\": \\"abs(round(datum.max_sin_LEO)) + \'km\'\\", \\"as\\": \\"display LEO min 2021 kms\\"}, \\r\\n         { \\"calculate\\": \\"abs(datum.max_sin_LEO) * -1\\", \\"as\\": \\"x-axis LEO min 2021 distance\\" } ],\\r\\n       \\"mark\\": {\\"type\\": \\"text\\", \\"style\\": \\"label\\", \\"angle\\": 0, \\"baseline\\": \\"bottom\\", \\"align\\": \\"center\\", \\"fontSize\\": 16 },\\r\\n       \\"encoding\\": { \\"y\\": {\\"field\\": \\"y-axis zero\\", \\"type\\":  \\"quantitative\\"},\\r\\n                     \\"x\\": {\\"field\\": \\"x-axis LEO min 2021 distance\\", \\"type\\": \\"quantitative\\"},\\r\\n                     \\"text\\": {\\"field\\": \\"display LEO min 2021 kms\\", \\"type\\": \\"nominal\\"},\\r\\n                     \\"color\\": {\\"value\\": \\"#AAB6C4\\"} }\\r\\n     },\\r\\n     { \\"transform\\": [\\r\\n         { \\"timeUnit\\": \\"year\\", \\"field\\": \\"Launch date\\", \\"as\\": \\"date\\"},\\r\\n         { \\"filter\\": \\"year(datum.date) == 2021\\"},\\r\\n         { \\"filter\\": {\\"field\\": \\"Orbit class\\", \\"equal\\": \\"Low Earth Orbit\\"}},\\r\\n         { \\"aggregate\\": [{\\"op\\": \\"median\\", \\"field\\": \\"Sin\\", \\"as\\": \\"med_sin_LEO\\"}] },\\r\\n         { \\"calculate\\": \\"datum.med_sin_LEO * 0\\", \\"as\\": \\"y-axis zero\\" },\\r\\n         { \\"calculate\\": \\"abs(round(datum.med_sin_LEO)) + \'km\'\\", \\"as\\": \\"display LEO med 2021 kms\\"}, \\r\\n         { \\"calculate\\": \\"abs(datum.med_sin_LEO) * -1\\", \\"as\\": \\"x-axis LEO med 2021 distance\\" } ],\\r\\n       \\"mark\\": {\\"type\\": \\"text\\", \\"style\\": \\"label\\", \\"angle\\": 0, \\"baseline\\": \\"bottom\\", \\"align\\": \\"center\\", \\"fontSize\\": 16 },\\r\\n       \\"encoding\\": { \\"y\\": {\\"field\\": \\"y-axis zero\\", \\"type\\": \\"quantitative\\"},\\r\\n                     \\"x\\": {\\"field\\": \\"x-axis LEO med 2021 distance\\", \\"type\\": \\"quantitative\\"},\\r\\n                     \\"text\\": {\\"field\\": \\"display LEO med 2021 kms\\", \\"type\\": \\"nominal\\"},\\r\\n                     \\"color\\": {\\"value\\": \\"#AAB6C4\\"} }\\r\\n     },\\r\\n     { \\"transform\\": [\\r\\n         { \\"timeUnit\\": \\"year\\", \\"field\\": \\"Launch date\\", \\"as\\": \\"date\\"},\\r\\n         { \\"filter\\": \\"year(datum.date) == 2021\\"},\\r\\n         { \\"filter\\": {\\"field\\": \\"Orbit class\\", \\"equal\\": \\"Low Earth Orbit\\"}},\\r\\n         { \\"aggregate\\": [{\\"op\\": \\"min\\", \\"field\\": \\"Sin\\", \\"as\\": \\"min_sin_LEO\\"}] },\\r\\n         { \\"calculate\\": \\"datum.min_sin_LEO * 0\\", \\"as\\": \\"y-axis zero\\" },\\r\\n         { \\"calculate\\": \\"abs(round(datum.min_sin_LEO)) + \'km\'\\", \\"as\\": \\"display LEO max 2021 kms\\"}, \\r\\n         { \\"calculate\\": \\"abs(datum.min_sin_LEO) * -1\\", \\"as\\": \\"x-axis LEO max 2021 distance\\" } ],\\r\\n       \\"mark\\": {\\"type\\": \\"text\\", \\"style\\": \\"label\\", \\"angle\\": 0, \\"baseline\\": \\"bottom\\", \\"align\\": \\"center\\", \\"fontSize\\": 16 },\\r\\n       \\"encoding\\": { \\"y\\": {\\"field\\": \\"y-axis zero\\", \\"type\\": \\"quantitative\\"},\\r\\n                     \\"x\\": {\\"field\\": \\"x-axis LEO max 2021 distance\\", \\"type\\": \\"quantitative\\"},\\r\\n                     \\"text\\": {\\"field\\": \\"display LEO max 2021 kms\\", \\"type\\": \\"nominal\\"},\\r\\n                     \\"color\\": {\\"value\\": \\"#AAB6C4\\"} }\\r\\n     },\\r\\n     { \\"transform\\": [\\r\\n         { \\"timeUnit\\": \\"year\\", \\"field\\": \\"Launch date\\", \\"as\\": \\"date\\"},\\r\\n         { \\"filter\\": \\"year(datum.date) == 2021\\"},\\r\\n         { \\"filter\\": {\\"field\\": \\"Orbit class\\", \\"equal\\": \\"Medium Earth Orbit\\"}},\\r\\n         { \\"aggregate\\": [{\\"op\\": \\"min\\", \\"field\\": \\"Sin\\", \\"as\\": \\"min_sin_MEO\\"}] },\\r\\n         { \\"calculate\\": \\"datum.min_sin_MEO * 0\\", \\"as\\": \\"y-axis zero\\" },\\r\\n         { \\"calculate\\": \\"abs(round(datum.min_sin_MEO)) + \'km\'\\", \\"as\\": \\"display MEO max 2021 kms\\"}, \\r\\n         { \\"calculate\\": \\"abs(datum.min_sin_MEO) * -1\\", \\"as\\": \\"x-axis MEO max 2021 distance\\" } ],\\r\\n       \\"mark\\": {\\"type\\": \\"text\\", \\"style\\": \\"label\\", \\"angle\\": 0, \\"baseline\\": \\"bottom\\", \\"align\\": \\"center\\", \\"fontSize\\": 16 },\\r\\n       \\"encoding\\": { \\"y\\": {\\"field\\": \\"y-axis zero\\", \\"type\\":  \\"quantitative\\"},\\r\\n                     \\"x\\": {\\"field\\": \\"x-axis MEO max 2021 distance\\", \\"type\\": \\"quantitative\\"},\\r\\n                     \\"text\\": {\\"field\\": \\"display MEO max 2021 kms\\", \\"type\\": \\"nominal\\"},\\r\\n                     \\"color\\": {\\"value\\": \\"#AAB6C4\\"} }\\r\\n     },\\r\\n     { \\"transform\\": [\\r\\n         { \\"timeUnit\\": \\"year\\", \\"field\\": \\"Launch date\\", \\"as\\": \\"date\\"},\\r\\n         { \\"filter\\": \\"year(datum.date) == 2021\\"},\\r\\n         { \\"filter\\": {\\"field\\": \\"Orbit class\\", \\"equal\\": \\"Geosynchronous Equatorial Orbit\\"}},\\r\\n         { \\"aggregate\\": [{\\"op\\": \\"min\\", \\"field\\": \\"Sin\\", \\"as\\": \\"min_sin_GEO\\"}] },\\r\\n         { \\"calculate\\": \\"datum.min_sin_GEO * 0\\", \\"as\\": \\"y-axis zero\\" },\\r\\n         { \\"calculate\\": \\"abs(round(datum.min_sin_GEO)) + \'km\'\\", \\"as\\": \\"display GEO max 2021 kms\\"}, \\r\\n         { \\"calculate\\": \\"abs(datum.min_sin_GEO) * -1\\", \\"as\\": \\"x-axis GEO max 2021 distance\\" } ],\\r\\n       \\"mark\\": {\\"type\\": \\"text\\", \\"style\\": \\"label\\", \\"angle\\": 0, \\"baseline\\": \\"bottom\\", \\"align\\": \\"center\\", \\"fontSize\\": 16 },\\r\\n       \\"encoding\\": { \\"y\\": {\\"field\\": \\"y-axis zero\\", \\"type\\":  \\"quantitative\\"},\\r\\n                     \\"x\\": {\\"field\\": \\"x-axis GEO max 2021 distance\\", \\"type\\": \\"quantitative\\"},\\r\\n                     \\"text\\": {\\"field\\": \\"display GEO max 2021 kms\\", \\"type\\": \\"nominal\\"},\\r\\n                     \\"color\\": {\\"value\\": \\"#AAB6C4\\"} }\\r\\n     },\\r\\n     { \\"transform\\": [\\r\\n            { \\"aggregate\\": [{\\"op\\": \\"max\\", \\"field\\": \\"Sin\\", \\"as\\": \\"max_sin\\"}] },\\r\\n            { \\"calculate\\": \\"datum.max_sin * 0\\", \\"as\\": \\"x-axis zero for vertical rule\\" } ],\\r\\n       \\"mark\\": {\\"type\\": \\"rule\\",\\r\\n                \\"strokeDash\\": [1, 10],\\r\\n                \\"strokeDashOffset\\": 50000},\\r\\n       \\"encoding\\": { \\"x\\": { \\"field\\": \\"x-axis zero for vertical rule\\",\\r\\n                            \\"type\\": \\"quantitative\\"},\\r\\n                            \\"color\\": {\\"value\\": \\"#9DA4AC\\"},\\r\\n                            \\"size\\": {\\"value\\": 1} }\\r\\n     },\\r\\n     { \\"transform\\": [\\r\\n            { \\"aggregate\\": [{\\"op\\": \\"max\\", \\"field\\": \\"Sin\\", \\"as\\": \\"max_sin\\"}] },\\r\\n            { \\"calculate\\": \\"datum.max_sin * 0\\", \\"as\\": \\"y-axis zero for horizontal rule\\" } ],\\r\\n       \\"mark\\": {\\"type\\": \\"rule\\",\\r\\n                \\"strokeDash\\": [1, 10],\\r\\n                \\"strokeDashOffset\\": 50000},\\r\\n       \\"encoding\\": { \\"y\\": { \\"field\\": \\"y-axis zero for horizontal rule\\",\\r\\n                            \\"type\\": \\"quantitative\\"},\\r\\n                            \\"color\\": {\\"value\\": \\"#9DA4AC\\"},\\r\\n                            \\"size\\": {\\"value\\": 1} }\\r\\n     },\\r\\n     { \\"transform\\": [\\r\\n            { \\"aggregate\\": [{\\"op\\": \\"max\\", \\"field\\": \\"Sin\\", \\"as\\": \\"max_sin\\"}] },\\r\\n            { \\"calculate\\": \\"datum.max_sin * 0\\", \\"as\\": \\"origin zero\\" } ],\\r\\n       \\"mark\\": {\\"type\\": \\"image\\",\\r\\n                \\"width\\": 75,\\r\\n                \\"height\\": 75},\\r\\n       \\"encoding\\": { \\"x\\": { \\"aggregate\\": \\"median\\",\\r\\n                            \\"field\\": \\"origin zero\\",\\r\\n                            \\"type\\": \\"quantitative\\"},\\r\\n                     \\"y\\": { \\"aggregate\\": \\"median\\",\\r\\n                            \\"field\\": \\"origin zero\\",\\r\\n                            \\"type\\": \\"quantitative\\"},\\r\\n                     \\"url\\": { \\"datum\\": \\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAXYElEQVRoQ71aeYxdd3X+7n7v29+bfeyxZ7edGCfOQlZISFEr2oLYpCZQ1EJSCSFo6Z/8Q4Gqoi2oQRQVqBLRNpAQAWkkICUkyDGNKThxHGInJN5mMvaMZ94sb+btd+93fs+hpEkgQNqxrseeefPu75zzfd/5zrmj4TX6uPymj0xpJm6wLHO/bRl7291g/MzS2s4U0MZHB9D2O+lz8/PPQ9fmNU0/rtnW0djzDuLIvadfiyNov82b7HvjbRNRnP6p7di36Fo6wwBg8QrCGEdPLCHrmmh1fEA3oPFOadRC2N0ATJOXC1gONDtzUjfteyLH/hccvmvuNz3PbxTI7uv/5HIk+Jiha++SG+t8F4cBuJ6DLK9mfR2GkcIxY5xZ7qAZethYmodXKKNx/hhgWCoIWC40J8Mrqy7dzd6X2plPh4e+/PivG9CvFcjUte8btKF9jrm9RWeWw6DL5Boo5HOweHA9aqKvbwAGEz737GOY2fU6HDp8BOvRKPZdPI6VxUXM/fQHBJvO6KUqDg+fR+rmoFt8Zy8PRgvYmXscw/lo80dfqr7agF51IFNX/NHNSOMvappWQpogjnyYho5KpR+mFjL7CXK5LDIuIRN18fyzTyDHCjx7tobz6wGyfSOYmRzBU0ceQ1g/x/NphJuGlMQysgOsDgOzLOgZBpMpS0CbcN0PBQe/fM+rCeZVBHKjObGv/MUo9m+LkxBp2EWS+DC0FJ7nwdISjE/OYnJmN4w0xM8Of5cBFLFRXUfTj3FsyYDhlaEZNi7ZVcHC/DzOn3qKZ0sZiN4LJmVQBnnEquisiJYtqSvNlpG4+TtDfeiDeOQT0S8L6JcGUp68vOi5/d/RNf36OOywIAFsx4LnZuDws2vriP0W9u67glXpImxvYmnuKUQ82PomqWDbON+w0TIGkMvocKJNrNeZDN1Bd+lJ9X4adFZFeEa4SXCEm5ktIPVyQK4CrTDEYAqP+qb3h3j477ZeKZhXDqR8ebGUtx+xLetS27ZgktGGnrLaFhHgEB6L2D4xCyttgDrFgBrodkNsNlpYCsrM7Ag6aRbD5jlsaFNwoypWV7fg15Z40D4GYwPBFuJOjQExuCRmVSxoacwMMBgGomXJnxzfqziCyMs86Wveja8UzCsEcqOZG6wdyBaK12cyOVbBQRK2Ucw5Csqul0Fn6zw8O4Zt8DJ11Lca8KOExM8I/HGiPYRmOsDDUY3IAy0NsDX/JGJWLQmafI0BZ2AWWhKgs/KsCkSnSmgUEZ1wM0SvCTXkCbF8H1AYRJItHfKj8o0vB7OXDSQ7cPEdmWz+1kKxTwXhqSqYPDRJLlkk0bW4Bc+KUCrkEPkd1OtttIMElb48Eh5CZwVDHuy51sWItCIT0UV38Rj8zWXwPwymo2TYLo1RwCjF1PO4tcb3avE+hCwFQ0sJNcJYLw5IEEgKA4izxTvD799+2/+G2EsCKYzuv9nSjXtyxQoDcElohz2Bicl6iJjJoLXKhAeEWoyMRdyzJbRaXbS7ERthgvIgA0l1RLFcBjbtMdT1KfitTXTmfoQgiJB2t/gePT4kSQLDLcAi3HQKQnvlBKskss43VsqWwioMkytlhJkColyRcp2/JfjeZ7/+i8G8KJDc0L5B2zKf87xcSeDjsjPbpgabB24RSvkMsUso5VgpLW6jWVtBt0OSx5pSKMu00TeU4eF0kt9ArW2gXbwEQeygvrqI5pkfkw8UH8m0qJX0Ev5bKqJ7FdgCn9YKwkZVQUt6lSZwcwgvLYJeGUFIzsS5yqZt2Lua3//sz/vMiwIpDO7+quN4700poykhJPJaKBFePLxjhygU+nlYHoK4Ji3Qrm+h3myjxUASfj3xNQbvICPVk4pQBhqV65EuH8X8M8+oIHpyy/eQmggfSGzFDwpIZnAXxeAsJZ4cogCYTExKNbMdT8E58egAKtsRM5GhV7g7fPAf3vtCVX4eiJUZudy07MfFDyFps7kVMDAywcxvscnpcNmoMjwkwhYD8dFgACkP2iEv2jGrYbNfaBbCiE2ynKHwWGjY46iGO9BePgMtIo/mn6DOWvRcgRIE+Uu3swywS6mWnyny3my0mT5YlR1IGytMaJtUyiJhICkhR6OJpDSAUDjjZq8MH/h7ZWd+Hohmlr5hGum7xc+lhE25f4Rde4A3rSOXzfJyVQcXGaYQoNb00W61sLq2AVeEgAfXeeVYjYCNIS1NYSm6GK3qAlVpDjN7RlGdn0Pdd9GtnmDGKbO8u6iU4bBv6Dq8yhiMTD8cKqVfX0ParpH8dTilcbqZHCF3nolqIckXVVWiTP6+4MHPKb93IRB3nICcYyCEEKWP/ml0bBfy+SyzHLDRbdDJ0hpRTcKQ8KDanFuro9kNUKQYWFSDQi5DldJI2n5mbQjr+kVobayhtfgcsxxgx/ROlEoWJbkPC48dRHN9ScFLPsz8AKxcv2qKUiHTK6K7ehp6QmEgAuzyOKV6Gkm3iXaVECXEYopRQOIHhjeJ7392rvdOuvtJisPHTeKcakucu+wVeUW2mdlpHmhBNULBaZQYWKs30el2kTJgh0FkKAwibR6j7VSuY+O0UGvZCDohDzTPTK7zcHnMXnYpgyyjz2nhiR8cQGN5gRygmBRGIE038LuK+NmRi9CleoFuImb312n58+NXseI5BLVziFgVgViHYpR4hU8FD97+Vz2k6vYJAn7GpPFzXRvDo2PY2jgHn4TTqD42pdAlB7xsryGmjLrW8DE6UIQfpCogixnI0JIk2VF0vT3YivvQqa2jPneUPIuQ23kpKrN7kNaWMVbuYvsg8O17HuJ9NmHRJKY8bBK0+D45OOWdhBuJTdKb7OomlTOOKdPkThz48DfOsgF04DOQON9/Mnjo87MSyBSLe0qsjmOliguS/ZRWwfNsNEJfya9B2LgkUJEc6FB1WqGFbXlRHRKcECnkPEwPFWG7Hk5UmUlvFEdO59E89zQPtg2Z4SkU+4pYefowxiZGkIlXcHY9w/lkjgrHJp7tNc2EQTuskEHFyozuoqPPsAc1YLVOITJIcL6222rD71apXDYiwjK1vWkJ5AOsyZ3SiT2awFLJ48FN1UM8lrvDDHRYmQwtdsqsZCuDmPN3snsX+bUG9pQX2ABTDFVKGC0V+FrKMBtbpLt4ZGU/anM/Q7Z/jM7WxdD4CKrPn0O8ehIrJ59A3+zVKA1PoFtbZKNM0V/mjJPbicvGQ1hxk70+Qa3jYHENWD76ENpJATkmJKEARQmhaLtskhney7hVAvk8r4/IiOo5uurgolyFvEeis1eQCyHT4IoqkexNcwLrXbpSaWYs48Q4s6oPYMZ+mhZiFq4eYXbYx1x3FMdXJxC16kxAzO7t4e3765hbSfDgN79HlW1j+orr0CFXJyf6yTETF/XX0GjHGDXZFGPhY4h6y8e5dQOL4Sy2zq8iam5QyZoI/S2klVFE5HPkuF+QQA7wutFhNVxHxlV+Ax4If+VE5dJJZJ8lF60/25kknehSeWODWc4ObmPeDPQPsEM7FXSMEWQt+iRqf5DmeGD6MnJsetDHTTuWUG05uP/BBezeO42V5TVUN2Pivo3x6TGscJz3OG3qQ7swqR/BoHYKC51RnDlfhh2cw9qauGxaoRb9nl9jp++HTy4lrvuIBMIthjZpETqyJEioSqnhwaWLLbktVJyEzY4DEAm97Pdho0F7TfxKRcQrlUa3oV2ro7xrP3YXTuMsLoavF6lctlIvm0rI6Qvv2LWIMU6xBqt++7d1/M6lDs6ttPGdr30LoztGsVZlloMAU79/G1VsCK6xioDw1ei6q8+dRuPkYYSbZ5msPGjNETQX2U84SZZH4BvmvASSmDQ2GfFRJPxmk4OOzAqmB6cyjFHnPIY4fVq2iSPLQ4hC2gtyQHkgBpMbGUfUbiE7thvFchHTpbMYyYR4on0pOgkNHuF4w+QarhnvMB4Gx6p/5j8KeMNkA3Ua4BPHT+HJJ84oqR269E3om9yHUM/wDGJlEoykx9BeXcPiJolOiHdWF1iNDknvI2ZSQlqbrqnJbIZUYFXOW3BomRe49SAu1KWzbLn+Ci4uryPvGTi+VsDqJpuWCoLfJ7R0EiozuB1ZdtvtI9R1yu/OXBV5Nsjjjd3YCkzsGWzibft89hwNVSbqvmP9aGz5cMNlzP1sAQWzgdHpCaw5e1EoGhjPLqPfqePQ6usI8hp+z70fD8zvRU0bQ6dK6aWEW2yIfn0BDQbX5RlUIB6zVGEgCSG1vNpmEEJk4QHnkL4xFLI+dle2sJ4M4MxZMaysihg+VsTK91P/OXRNXoId2zxMDETYMxKw79h4fGMHVoI+qppH2IbwkwyCRCCXImw24VYf53vQTRdKqNqvg5MrYbK0gDcPH2PzdfHQ4gzqHNbe0XcQ5+ouDm3uZzP26KKPKUXrcrrs0o10OScpaGVdQyvmHeI/ZYNLZFJQGZflgMGGZHAhUM43UCgPo715GisrXBCIxaY/svKDNHZcvHU48rJSwxddhov2TuGa2Qjb+h3EfJ9/+slOfraxo6JhN4Os1SIsnDiDtXUqmk2fVdgBuziMmf42dhefxa78Jl1BBw4VkP4Xtqdjc7WFM2tNfG/lGpw+epxJdihKdA70fx0tUdCayzjGuM3OvcX5QVY98pGyo6sth5mBWd7O7lugQhJOYZXBEH4CLQk0U1SVCeurvKWYtxj5gW3om7kE+/btwI4+OmSOuwMZumT+2JGn1/DMT0+itXwScWMN3rZ9GL767RjZPoBP3XQKJv1UQM55qSxN2JSpmG1Oi1thiKPPLuH44hZ+8GOQ4JRsOvSIXb8ZtxXZD7CH3KgRTuKjUhq13ofsnCTrXDwUt9Fal9QQFDfX1WvEuqhXiVdiNrscvOTfyvMQtwmbp1McJJYHaftFwukA2FxT9gBZ/8QcnthgkN22Fzve8kG8dW8d72efCTYaSJsdmCR0p9bEYI5zzUAOc+fW8V8nF7FKo/qdw9zSUEFTzvMdjtxdREp+/5Hm8MNCYMlwSEymwg9iUB3L4FqTjtQdnmQzon5361QYmhLC6kK8sGkTxFpEHW5rxJ73qKf+lksXVyBQTdiByKlYRl0mQmeApb1vxujVb8XfvGkd1w5sksBNdOscDzaaXFR0MeMwadftxtKRk3hmYQOHqxv46kM1tO0JGBwzfC1GK6irhvgBduw7K9yQtLpUAHKEpCAG6dvlIFQm6cxOaUiNpiHthMgij6emOrJS8UW4Em5xscDvKUgyUFE1JQz8LIbQpSrGMqvQvxUmryKsdqM0uRdXTWj49HWca2gSA87/QbOFNa6OhCdTr5+E2ZfFxmPP4cenqjh4dgV3H2iym3NaHZ1h0+Vu2W8rizJFSJwqUJNjwqvF3ZRSLXol6SUmd7MynUnPMDnqhuscRcUVSyh0qnIoqZxVHiVPVlQNJAhTOq5MghKYxcSwTwj0xNbIkqF88U0oX3Qd3nlFFn9+GUlPI2h0mqgSTn6H4zM/a9wH7Ll+mnYlootexE9OrdC/Jbj7gTkk5Ie7cx9dsE+nHSjTKDc4kbH1GTlsi9uQ3uhGDnAjKIcw2E2FF7rFxUKbHJEDsiJSCfXIQC0JLPU6gZ7Gw5tcd8Z0symTYAiMVBDqZsyTR1t/CWavegO+fgubK98vYfaDdps/Q4/Fish6SRYfiWOycRJu5Mw5P8FXHl7EsTNtRIU8rCEaSD0+WX/4K8rGy8cnLUP/uBwoIEd60fGQiuxsepRfXbIqCzOubyLCSx1I7W7ZjBgEpxJa9Vl23tPkgvwof1aYIlsSWbgJp2RWUOLAzWGnjsm3fRj3/7HGbWSXksxhjST3OUhlMgYOnM/jgZVt2Okuw0UL+5xncfCkj2/+sI52m9AqFOD1DXFfkPx1+8C/ffyFQCYMQ+eGwFADTC8QgRcrInZEpJbPMQzCzODQ3z3LZxyCfdoP2d3yYY36mezO/ey6S0ia9N2ierKzotWQQIT6VnFIZc3wSnw0kkNpz3V4+zUVfHTvMmqU9NVNKhAfVRxqTuGeR8mRbgvR1iLNqYWJ7RnU7VEsHD6ILpcjMZuoQzexEdDF/vAbF0bdXgW+RdK/M6WySBZNLgFk5d/beBAaNIiaTc7kuIqp0mcyc72K9YYrgaXFILOje1A/fbgnxYr4F3IleyomJRF+CRTFWdN85scvw5+972r8xRt9PHlqE98+puPu+55Ae/Gkeo1UWuTaIFSHZ7fTMVMQOABq5UE6heQ+/+DXfnH5IJFYV/Bcj6nVOKVXWRSLczsXAQo6tCFqtckDp1ztJG2RUBJXWRXpKUJyzjTErRxeKiNJUNxQMk5l4wIuZB+SVSiV4AL5TQxd+y584m0B7v3PFg4++CjvRWFQsJRWIIgUk8oRY2wvt5rnOd7KoweO2X7zyvDQt168DpJQmNmvEQzvUbC5QHiNBBdFUlAh4YTcIrmJ9AK+zhAJJoT0CxwwMxVkhmbQWnpa9SJZysk8Y+YGWOUKlY0HoRSLpMs9CtPXcmZhkwwa6KxxGSFfl0AlncIvMaZEglTGHJ1iA2wg4bqI2+O7gx/e+9IFXY/zNPpmwP2NXlLGWAgv8GBfsej7426bisyhQm5CsioJlkseIjIYeZhoMHDhks05vbv8nIKdMzDJw3CrT/mOWhuonzmsoCkNWDaJ8hrlb+QvdT9CkBUT76ZR4mVFFNFTJRmOtlxy0JZsWnG8q/mjf3/5lWmPifYtLOPdhBr/yS0FR10N7PrcdJjcu6aysuHSWUFG+ovqMb2g5WAyp8h5nMq2HsEJTQlQqiNKFXBfLJBLCE+pskh2D369WNQrpeHya9LDNN6LizMuHlIE3PJEAgjE7wkevf9Fj+ReUK1eQV74sNw7aARvFYdpmVy/tGg7iFNZognxTCqObDkMcka4o3oJby7mUT3i5Ynke97IjJrNfTZRIbl4KwG92v9KmBd2v8qoKiqxvkxEEgasBk9MNUy4eko5fscym+s074l/Z/vR+371Y4ULsZia4x0gpK7PeyEXEDRuNGumy1VlxJJfCEJGXYdVEgGQIATb8kcOLEmwuZSTqsRdGkGBjASsZFn8mATCwFVjJcReqIeglM9IYo64qc1EZbjrlQWgmxVAH6rry3zQ88hLnie+fEV60RRpXx+hhl9ayMTstEJcOWSvwYmUCixMkl0OK75LoCCwU9LL7MashoiAOjB5IK+R3qKWU6oPqW1fz0jwXWQJEdN4JlyxJuzq7IyEc4VBsDJIn4QV3Fh7+Bsv+xzxlwXCWDiEe+l3+Sz9uix3wnVCTJM+oKAjgRC/8kBTSCmB8WsCO43DkkOlC2gi1bZFPU/na5UaMfdqgU0YyVNi4YvAjpc8h0zkkQanSz2bQ65vGLN8pN1otg6dWFv+g1cKQrL+KwJRleFQXvkSM3yrptwuD8GbG2yWJm2LbAcNgQyD0MWqE9simUZ+WCmY/F9Mp/QNReUL0toLqPcQNJWApGeIgyGMyoOjuPbqi7B/qoz5+fN3PmXig4984rd4PP0iAcj130y8fFEz3ZKSXOkh0qgkmwysN8NfWEiQHxK0YXP9csHxCqGVUl14nKDkWgjNSwIw+DCnMrwNV125C2+8fALV8+c3585VP3THZ/72tfqFgV8IJzc0SMjfDtN+j+DeEJLLtyUQmQJVzvk1LqSNbIX45iMzLnblOWHCcVXZGtp5tRXgulPn6KyR0NvHp/COt1yJHSMF1GsbWDi7evfaavMv7/rS/zxae7GsvvR/rwZaL/2p4gjtjPkxPhp7p9gX1T9UlXqkVYMWx2ObD4SiiBUT46nUiD2J8iw7KbH3pVIJr98/jbfcsBfL1RpWq5v3VWv1T9/1hdv/b3+p5iURFXdO2J79fpLhZgbGeabXT3r25sIlkCNnpD8YsqyQz7xKhSze/buXcGoOT9Yb7a93NttfueuOL/z//prTy5Z5bHqKC9IbqMv72VP20nqMM5ad/D/bhBzeTou5zPMDxfz8+GjxeNbWj0ZBcvDef/3n1+QXz/4bNfzT2OZnpQwAAAAASUVORK5CYII=\\",\\r\\n                              \\"type\\":  \\"nominal\\"}\\r\\n                   }\\r\\n     },\\r\\n     { \\"params\\": [{ \\"name\\": \\"grid\\",\\r\\n                    \\"select\\": \\"interval\\",\\r\\n                    \\"bind\\": \\"scales\\"},\\r\\n                  { \\"name\\": \\"legend\\",\\r\\n                    \\"select\\": {\\"type\\": \\"point\\", \\"fields\\": [\\"Orbit class\\"]},\\r\\n                    \\"bind\\": \\"legend\\"} ],\\r\\n       \\"mark\\": { \\"type\\": \\"point\\", \\r\\n                 \\"shape\\": \\"circle\\",\\r\\n                 \\"tooltip\\": true,\\r\\n                 \\"filled\\": true,\\r\\n                 \\"fillOpacity\\": 0.75},\\r\\n       \\"encoding\\": { \\"x\\": { \\"field\\": \\"Sin\\", \\r\\n                            \\"type\\": \\"quantitative\\",\\r\\n                            \\"title\\": false, \\r\\n                            \\"axis\\": {\\"disable\\": true,\\r\\n                                     \\"grid\\": false,\\r\\n                                     \\"labels\\": false},\\r\\n                                     \\"scale\\": {\\"domain\\": [-70400,70050]}},\\r\\n                      \\"y\\": { \\"field\\": \\"Cos\\", \\r\\n                             \\"type\\": \\"quantitative\\",\\r\\n                             \\"title\\": false, \\r\\n                             \\"axis\\": {\\"disable\\": true,\\r\\n                                      \\"grid\\": false,\\r\\n                                      \\"labels\\": false},\\r\\n                                      \\"scale\\": {\\"domain\\": [-69540,60370]}},\\r\\n                      \\"size\\": {\\"value\\": 50},\\r\\n                      \\"color\\": { \\"field\\": \\"Orbit class\\",\\r\\n                                 \\"type\\":  \\"nominal\\",\\r\\n                                 \\"sort\\": [ \\"Geostationary Transfer Orbit\\", \\"Geosynchronous Equatorial Orbit\\", \\"Medium Earth Orbit\\", \\"Low Earth Orbit\\"],\\r\\n                                 \\"scale\\": {\\"range\\": [\\"#C8F6FF\\", \\"#8DECFF\\", \\"#2DDBFF\\", \\"#11BBDE\\" ]} },\\r\\n                      \\"opacity\\": { \\"condition\\": {\\"param\\": \\"legend\\", \\"value\\": 1},\\r\\n                                   \\"value\\": 0.025 },\\r\\n                      \\"tooltip\\": [ {\\"field\\": \\"Satellite catalog number (NORAD)\\", \\"type\\": \\"nominal\\", \\"title\\": \\"NORAD\\"},\\r\\n                                   {\\"field\\": \\"International designator (COSPAR)\\", \\"title\\": \\"COSPAR\\"},\\r\\n                                   {\\"field\\": \\"Name\\", \\"title\\": \\"SATELLITE\\"},\\r\\n                                   {\\"field\\": \\"Country\\", \\"title\\": \\"COUNTRY\\"},\\r\\n                                   {\\"field\\": \\"Purpose\\", \\"title\\": \\"PURPOSE\\"},\\r\\n                                   {\\"field\\": \\"Users\\", \\"title\\": \\"USERS\\"},\\r\\n                                   {\\"field\\": \\"Launch date\\", \\"title\\": \\"LAUNCH DATE\\", \\"type\\": \\"temporal\\", \\"format\\": \\"%d-%m-%Y (DMY)\\"},\\r\\n                                   {\\"field\\": \\"Status\\", \\"title\\": \\"STATUS\\"},\\r\\n                                   {\\"field\\": \\"Orbit class\\", \\"title\\": \\"ORBIT CLASS\\"},\\r\\n                                   {\\"field\\": \\"Distance (km)\\", \\"title\\": \\"AVERAGE DISTANCE (km)\\", \\"type\\": \\"nominal\\", \\"format\\": \\",.0f\\"},\\r\\n                                   {\\"field\\": \\"Apogee (km)\\", \\"title\\": \\"APOGEE (km)\\", \\"type\\": \\"nominal\\", \\"format\\": \\",.0f\\"},\\r\\n                                   {\\"field\\": \\"Perigee (km)\\", \\"title\\": \\"PERIGEE (km)\\", \\"type\\": \\"nominal\\", \\"format\\": \\",.0f\\"},\\r\\n                                   {\\"field\\": \\"Launch site\\", \\"title\\": \\"LAUNCH SITE\\"},\\r\\n                                   {\\"field\\": \\"Launch vehicle\\", \\"title\\": \\"LAUNCH VEHICLE\\"}] }\\r\\n     }\\r\\n    ],\\r\\n    \\"config\\": {\\r\\n      \\"legend\\": {\\"title\\": \\"null\\",\\r\\n                 \\"titleColor\\": \\"#ffffff\\",\\r\\n                 \\"labelColor\\": \\"#ffffff\\",\\r\\n                 \\"labelFontSize\\": 10,\\r\\n                 \\"labelFont\\": \\"Consolas\\",\\r\\n                 \\"orient\\": \\"top-left\\",\\r\\n                 \\"labelLimit\\": 260  }\\r\\n    }\\r\\n}\\r\\n```\\r\\n\\r\\nClick **[here](https://github.com/makuharistudio/makuharistudio.github.io/blob/main/src/markdown/posts/2022-08-27.md)** for this post\'s markdown file in GitHub.","photo":"../assets/blog/2022-08-27--00.png\\r"},{"id":1659189600,"title":"How to webscrape recent Twitter posts by keyword using Python and Visual Studio Code\\r","name":"how-to-webscrape-recent-twitter-posts-by-keyword-using-python-and-visual-studio-code","tech":"logo-python\\r","tags":"[\\"Python\\"]\\r","date":"31 July 2022\\r","content":"This post shows how to webscrape recent Tweets based on a predefined keyword or hashtag, and other related data using the Twitter API, Visual Studio Code, and the Python-based Tweepy library.\\r\\n\\r\\n## Step 1. Create a free Twitter Developer account\\r\\n\\r\\nAs at the time of writing, you can get a Twitter Developer account off the back of an existing Twitter account or create a new one, but you will need to provide your mobile phone number for verification.\\r\\n\\r\\n* **[https://developer.twitter.com](https://developer.twitter.com)**\\r\\n\\r\\nFrom the Twitter Developer Portal, you can create your project and app, and then additionally request for Elevated access, which provides higher level Twitter API accesses and limits. Be mindful that your application may incur costs depending on the features you request, and in my case, I chose free Read-Only access.\\r\\n\\r\\n![Developer Portal: Project](/src/assets/blog/2022-07-31--01.png)\\r\\n\\r\\nGenerate the API Key, Access Tokens, and Secrets that will be needed for your API connection, being careful that data is securely stored.\\r\\n\\r\\n![Developer Portal: Keys and tokens](/src/assets/blog/2022-07-31--02.png)\\r\\n\\r\\n\\r\\n## Step 2. From Visual Studio Code install Python and set up your virtual environment\\r\\n\\r\\nInstall Python\\r\\n* **[https://www.python.org/downloads/windows](https://www.python.org/downloads/windows)**\\r\\n\\r\\nCreate a folder for your Python project and open it in Visual Studio Code. In this example, the folder name is *twitter-web-scraping*.\\r\\n\\r\\nInstall the Python Extension for Visual Studio Code.\\r\\n![Visual Studio Code](/src/assets/blog/2022-04-17--01.png)\\r\\n\\r\\nCreate your virtual environment as a subfolder of your project.\\r\\n```\\r\\npython -m venv C:\\\\Project\\\\twitter-web-scraping\\\\venv\\r\\n```\\r\\n\\r\\nYou can find more detailed screenshot steps of the above from a previous blog post:\\r\\n* **[Add forecasts from Python using Visual Studio Code to Power BI](https://makuharistudio.github.io/#/blog/add-forecasts-from-python-using-visual-studio-code-to-power-bi)**\\r\\n\\r\\n## Step 3. Install relevant Python libraries\\r\\n\\r\\n```\\r\\npip install tweepy\\r\\npip install configparser\\r\\npip install pandas\\r\\n```\\r\\n\\r\\n## Step 4. Create a configuration file to store your Twittter API keys, tokens, and secrets\\r\\n\\r\\nCreate a config.ini file in your project folder, and add your API keys, tokens, and secrets in place of the ???? below.\\r\\n\\r\\n**config.ini**\\r\\n```\\r\\n[twitter]\\r\\n\\r\\napi_key = ????\\r\\napi_key_secret = ????\\r\\n\\r\\naccess_token = ????\\r\\naccess_token_secret = ????\\r\\n```\\r\\n\\r\\nBe very careful not to publish these details publically, such as via Github.\\r\\n\\r\\n![Visual Studio Code: config.ini](/src/assets/blog/2022-07-31--03.png)\\r\\n\\r\\n\\r\\n## Step 5. Create a Python script to run the Tweet extraction\\r\\n\\r\\nThis Python script uses the keys, tokens, and secrets by referencing the config.ini from the previous step.\\r\\n\\r\\nIn the example below, the keyword search being used is \\"Motorola\\". Simply substitute that value for your preferred text string, or hashtag.\\r\\n\\r\\nAt the time of my testing, I can only retrieve a maximum of about 900 records every 15 minutes using my elevated API, and have coded that as part of the script\'s limit so it doesn\'t error out when it is executed.\\r\\n\\r\\n**Note:** tweet.text appears to be a truncated variation of the Tweet data, whereas tweet.full_text scrapes the full Tweet.\\r\\n\\r\\nBecause the data is saved to a CSV file, new lines and commas are replaced with space characters to keep the data to single row records.\\r\\n\\r\\n**python_script.py**\\r\\n```\\r\\nimport tweepy\\r\\nimport configparser\\r\\nimport pandas as pd\\r\\n\\r\\nconfig = configparser.ConfigParser()\\r\\nconfig.read(\'config.ini\')\\r\\napi_key = config[\'twitter\'][\'api_key\']\\r\\napi_key_secret = config[\'twitter\'][\'api_key_secret\']\\r\\naccess_token = config[\'twitter\'][\'access_token\']\\r\\naccess_token_secret = config[\'twitter\'][\'access_token_secret\']\\r\\n\\r\\nauth = tweepy.OAuthHandler(api_key,api_key_secret)\\r\\nauth.set_access_token(access_token, access_token_secret)\\r\\napi = tweepy.API(auth)\\r\\n\\r\\nkeywords = [\'Motorola\']\\r\\n\\r\\nlimit = 901\\r\\ntweets = tweepy.Cursor(api.search_tweets, q=keywords, lang=\'en\', result_type=\'recent\', tweet_mode=\\"extended\\").items(limit)\\r\\n\\r\\ncolumns = [\'TweetDateTime\', \\r\\n           \'UserID\',\\r\\n           \'UserName\',\\r\\n           \'UserScreenName\',\\r\\n           \'UserDescription\',\\r\\n           \'UserCreatedDateTime\',\\r\\n           \'UserVerified\',\\r\\n           \'UserLocation\',\\r\\n           \'UserFollowers\',\\r\\n           \'TweetContent\',\\r\\n           \'TweetFavourites\',\\r\\n           \'TweetRetweets\']\\r\\ndata = []\\r\\nfor tweet in tweets:\\r\\n    data.append([tweet.created_at,\\r\\n                 tweet.user.id, \\r\\n                 tweet.user.name.replace(\'\\\\n\', \' \').replace(\',\',\' \'),\\r\\n                 tweet.user.screen_name.replace(\'\\\\n\', \' \').replace(\',\',\' \'),\\r\\n                 tweet.user.description.replace(\'\\\\n\', \' \').replace(\',\',\' \'),\\r\\n                 tweet.user.created_at,\\r\\n                 tweet.user.verified,\\r\\n                 tweet.user.location.replace(\'\\\\n\', \' \').replace(\',\',\' \'),\\r\\n                 tweet.user.followers_count,\\r\\n                 tweet.full_text.replace(\'\\\\n\', \' \').replace(\',\',\' \'),\\r\\n                 tweet.favorite_count,\\r\\n                 tweet.retweet_count])\\r\\ndf = pd.DataFrame(data, columns=columns)\\r\\ndf.to_csv(\'tweets.csv\')\\r\\n```\\r\\n\\r\\n![Visual Studio Code: python_script.py](/src/assets/blog/2022-07-31--04.png)\\r\\n\\r\\n\\r\\n### References\\r\\n\\r\\n* YouTube video **[\\"How to get TWEETS by Python | Twitter API 2022\\" by AI Spectrum](https://www.youtube.com/watch?v=Lu1nskBkPJU)**\\r\\n\\r\\n* YouTube video **[\\"Get TWEETS by User and Hashtag with Python | Twitter API 2022\\" by AI Spectrum](https://www.youtube.com/watch?v=FmbEhKSpR7M)**\\r\\n\\r\\n* YouTube video **[\\"how to automate search of trending hashtag and number of tweets from those hashtags\\" by iknowpython](https://www.youtube.com/watch?v=ywl--vO3oGs)**\\r\\n\\r\\n* Twitter API v1 Search Tweets Reference **[https://developer.twitter.com/en/docs/twitter-api/v1/tweets/search/api-reference/get-search-tweets](https://developer.twitter.com/en/docs/twitter-api/v1/tweets/search/api-reference/get-search-tweets)**\\r\\n\\r\\n* Twitter API v2 data dictionary **[https://developer.twitter.com/en/docs/twitter-api/data-dictionary/object-model/tweet](https://developer.twitter.com/en/docs/twitter-api/data-dictionary/object-model/tweet)**\\r\\n\\r\\n* Tweepy library Exteded Tweets **[https://docs.tweepy.org/en/stable/extended_tweets.html](https://docs.tweepy.org/en/stable/extended_tweets.html)**\\r\\n\\r\\n\\r\\nClick **[here](https://github.com/makuharistudio/makuharistudio.github.io/blob/main/src/markdown/posts/2022-07-31.md)** for this post\'s markdown file in GitHub.","photo":"../assets/blog/2022-07-31--00.png\\r"},{"id":1655820000,"title":"How to embed an Excel workbook into a React.js application\\r","name":"how-to-embed-an-excel-workbook-into-a-reactjs-application","tech":"logo-react\\r","tags":"[\\"React.js\\", \\"Excel\\", \\"OneDrive\\"]\\r","date":"22 June 2022\\r","content":"In this scenario, we are publishing an Excel workbook that we want the general public to view and interact with, but not allow them to download a copy of. We will walk through creating your own free OneDrive account to host the Excel file, extract and modify the JavaScript embed code, then apply it to our React.js component.\\r\\n\\r\\n**Note:** There are limitaions on what the free version of OneDrive allows you to publish in your Excel workbook. In my case, I found that External Data Connections (e.g. using Power Query to Get Data from a GitHub repository), and using \\"Camera Tools\\" to create a dynamic link to inserted workbook images, are not supported. So bear this in mind when building Excel dashboards for your portfolio.\\r\\n\\r\\n## Step 1. Ensure your Excel workbook has a cell range defined for what the users can view.\\r\\n\\r\\n![Excel cell range named](/src/assets/blog/2022-06-22--01.png)\\r\\n\\r\\n## Step 2.  Create (or log into) your free **[OneDrive.com](https://onedrive.com)** account.\\r\\n\\r\\nIf creating a new account, click \\"See plans and pricing\\" then \\"Sign up for free\\".\\r\\n\\r\\n![Microsoft 365 OneDrive Personal Cloud Storage](/src/assets/blog/2022-06-22--01a.png)\\r\\n\\r\\n![OneDrive Basic 5GB Free](/src/assets/blog/2022-06-22--02.png)\\r\\n\\r\\n\\r\\n## Step 3. Add your Excel file to your OneDrive.\\r\\n\\r\\n## Step 4. Extract the JavaScript embed code.\\r\\n\\r\\nRight-click the Excel file and click Embed.\\r\\n\\r\\n![OneDrive right-click for Embed code 1](/src/assets/blog/2022-06-22--03.png)\\r\\n\\r\\nClick \\"Customise how this embedded workbook will appear to others\\".\\r\\n\\r\\n![OneDrive right-click for Embed code 2](/src/assets/blog/2022-06-22--04.png)\\r\\n\\r\\nConfigure your settings as required for the Excel workbook, and this will autopopulate the JavaScript code.\\r\\n\\r\\nCopy the contents of the JavaScript code.\\r\\n\\r\\n![Extract OneDrive JavaScript Embed code](/src/assets/blog/2022-06-22--05.png)\\r\\n\\r\\n## Step 5. Modify the JavaScript embed code and add to React.js component\\r\\n\\r\\nThe code you receive, discounting the comments, appears as below and is structured for basic HTML pages, i.e. on its own you can\'t just copy and paste it into a React.js component.\\r\\n\\r\\nExample JavaScript embed code from OneDrive:\\r\\n\\r\\n```\\r\\n<div id=\\"myExcelDiv\\" style=\\"width: 700px; height: 900px\\"></div>\\r\\n<script type=\\"text/javascript\\" src=\\"https://onedrive.live.com/embed?resid=ABC12345ABC123A%12345&authkey=%12AB123abc1AbcDEF1&em=3&wdItem=%22\'Dashboard\'!A%1ABCD%22&wdDivId=%22myExcelDiv%22&wdActiveCell=%22\'Dashboard\'!A1%22&wdAllowInteractivity=0&wdAllowTyping=1\\"><\/script>\\r\\n```\\r\\n\\r\\nWhat we will keep from the code above is the div tag and its id\\r\\n\\r\\n```\\r\\n<div id=\\"myExcelDiv\\"></div>\\r\\n```\\r\\n\\r\\nand the src code from the script tag to view the file in an iframe.\\r\\n\\r\\n```\\r\\n\\"https://onedrive.live.com/embed?resid=ABC12345ABC123A%12345&authkey=%12AB123abc1AbcDEF1&em=3&wdItem=%22\'Dashboard\'!A%1ABCD%22&wdDivId=%22myExcelDiv%22&wdActiveCell=%22\'Dashboard\'!A1%22&wdAllowInteractivity=0&wdAllowTyping=1\\"\\r\\n```\\r\\n\\r\\nWe can then append the following code to the src code\\r\\n\\r\\n```\\r\\n&action=embedview&wdbipreview=true\\r\\n```\\r\\n\\r\\nSo it now appears as this.\\r\\n\\r\\n```\\r\\n\\"https://onedrive.live.com/embed?resid=ABC12345ABC123A%12345&authkey=%12AB123abc1AbcDEF1&em=3&wdItem=%22\'Dashboard\'!A%1ABCD%22&wdDivId=%22myExcelDiv%22&wdActiveCell=%22\'Dashboard\'!A1%22&wdAllowInteractivity=0&wdAllowTyping=1&action=embedview&wdbipreview=true\\"\\r\\n```\\r\\n\\r\\nFrom your React.js component, add the src code into your function before the return clause.\\r\\n\\r\\n```\\r\\nconst script = document.createElement(\\"script\\");\\r\\n\\r\\nscript.src = \\"https://onedrive.live.com/embed?resid=ABC12345ABC123A%12345&authkey=%12AB123abc1AbcDEF1&em=3&wdItem=%22\'Dashboard\'!A%1ABCD%22&wdDivId=%22myExcelDiv%22&wdActiveCell=%22\'Dashboard\'!A1%22&wdAllowInteractivity=0&wdAllowTyping=1&action=embedview&wdbipreview=true\\";\\r\\n\\r\\nscript.async = true;\\r\\n\\r\\ndocument.body.appendChild(script);\\r\\n```\\r\\n\\r\\nAdd the myExcelDiv div inside the return clause.\\r\\n\\r\\n```\\r\\n<div id=\\"myExcelDiv\\" className=\'embeddedExcel\'></div>\\r\\n```\\r\\n\\r\\nThen use CSS to style your myExcelDiv. In this example, we have tried to make this full width, minus 20 pixels for the scrollbar\'s width.\\r\\n\\r\\n```\\r\\n.embeddedExcel {\\r\\n    width: (100vw) - 20px;\\r\\n    height: 950px;\\r\\n}\\r\\n```\\r\\n\\r\\nSo the completed code for the React.js component would appear similar to below:\\r\\n\\r\\n```\\r\\nimport React from \'react\';\\r\\nimport \'../App.css\';\\r\\n\\r\\nexport default function ExcelCustomerSupportAgentPerformance() {\\r\\n\\r\\n    const script = document.createElement(\\"script\\");\\r\\n\\r\\n    script.src = \\"https://onedrive.live.com/embed?resid=ABC12345ABC123A%12345&authkey=%12AB123abc1AbcDEF1&em=3&wdItem=%22\'Dashboard\'!A%1ABCD%22&wdDivId=%22myExcelDiv%22&wdActiveCell=%22\'Dashboard\'!A1%22&wdAllowInteractivity=0&wdAllowTyping=1&action=embedview&wdbipreview=true\\";\\r\\n    script.async = true;\\r\\n\\r\\n    document.body.appendChild(script);\\r\\n\\r\\n    return (\\r\\n        <>\\r\\n            <div id=\\"myExcelDiv\\" className=\'embeddedExcel\'></div>\\r\\n\\r\\n        </>\\r\\n    )\\r\\n\\r\\n}\\r\\n```\\r\\n\\r\\n![React.js code](/src/assets/blog/2022-06-22--06.png)\\r\\n\\r\\nReferences\\r\\n\\r\\n* Stack Overflow Question **[Adding a script tag to React.js](https://stackoverflow.com/questions/34424845/adding-script-tag-to-react-jsx)**\\r\\n\\r\\n* YouTube video **[STOP Emailing Excel Files - Securely Embed them in Web Pages Instead!](https://www.youtube.com/watch?v=uvA-U9FKgPw&t=385s)**\\r\\n\\r\\n\\r\\n\\r\\nClick **[here](https://github.com/makuharistudio/makuharistudio.github.io/blob/main/src/markdown/posts/2022-06-22.md)** for this post\'s markdown file in GitHub.","photo":"../assets/blog/2022-06-22--00.png\\r"},{"id":1650981600,"title":"Creating custom visuals using Deneb and Vega-Lite in Power BI\\r","name":"creating-custom-visuals-using-deneb-and-vega-lite-in-power-bi","tech":"logo-powerbi\\r","tags":"[\\"Power BI\\", \\"Deneb\\", \\"Vega-Lite\\"]\\r","date":"27 April 2022\\r","content":"This is my first attempt at using Deneb to create two custom visuals in Power BI, based on 2 visual design elements from existing Tableau Public reports. The dataset used is from my International Marketplace SSIS package project, found in my previous blog post: **[https://makuharistudio.github.io/#/blog/international-marketplace-dataset-created-with-integration-services](https://makuharistudio.github.io/#/blog/international-marketplace-dataset-created-with-integration-services)**\\r\\n\\r\\nDeneb is a highly flexible custom visual developed by **[Daniel Marsh-Patrick](https://twitter.com/the_d_mp)** that can be used to create unique visualisations for Power BI reports with JSON-based syntaxes; Vega or Vega-Lite.\\r\\n\\r\\nDeneb can be downloaded from the Microsoft App Store:\\r\\n\\r\\n* **[https://appsource.microsoft.com/en-US/product/power-bi-visuals/coacervolimited1596856650797.deneb?tab=Overview](https://appsource.microsoft.com/en-US/product/power-bi-visuals/coacervolimited1596856650797.deneb?tab=Overview)**\\r\\n\\r\\nThe official website for Deneb:\\r\\n\\r\\n* **[https://deneb-viz.github.io](https://deneb-viz.github.io)**\\r\\n\\r\\n\\r\\nThe Power BI report I used to incorporate these visuals:\\r\\n* **[https://community.powerbi.com/t5/Data-Stories-Gallery/International-Marketplace-profit-report-using-Python-and-Deneb/m-p/2480550#M7154](https://community.powerbi.com/t5/Data-Stories-Gallery/International-Marketplace-profit-report-using-Python-and-Deneb/m-p/2480550#M7154)**\\r\\n\\r\\n\\r\\n### Deneb visual 1: Time series circle chart with bar chart totals\\r\\n\\r\\nThe first custom visual was a design element mimicked from a Tableau Public community gallery visualisation by [Pradeep Kumar G](https://twitter.com/pradeep_zen) named **[Sample Superstore - Sales Performance | VOTD](https://public.tableau.com/app/profile/pradeepkumar.g/viz/SampleSuperstore-SalesPerformance/viz_)**.\\r\\n\\r\\n**[https://public.tableau.com/app/profile/pradeepkumar.g/viz/SampleSuperstore-SalesPerformance/viz_](https://public.tableau.com/app/profile/pradeepkumar.g/viz/SampleSuperstore-SalesPerformance/viz_)**\\r\\n\\r\\nThe original dashboard appears as below:\\r\\n\\r\\n![Tableau sales dashboard by Pradeep Kumar](/src/assets/blog/2022-04-27--01.png)\\r\\n\\r\\nIf you scroll further down, you will find the design element I attempted to replicate using Deneb:\\r\\n\\r\\n![Tableau sales dashboard element by Pradeep Kumar](/src/assets/blog/2022-04-27--02.png)\\r\\n\\r\\nPower BI native visuals do not have the ability to recreate the circle chart with gradient colours (that I can find as yet), so Deneb is useful here to create that component. \\r\\n\\r\\nOpening this dashboard in Tableau Desktop, the composition of the circle chart and the bar chart are simply two separate visuals placed side-by-side.\\r\\n\\r\\n![Tableau sales dashboard element by Pradeep Kumar in Tableau Desktop](/src/assets/blog/2022-04-27--03.png)\\r\\n\\r\\nAnother major advantage of Deneb is that you can create multiple visuals as a single chart, so rather than having to create a separate bar chart, it can be created as an additional \\"view\\" alongside the circle chart.\\r\\n\\r\\nDeneb has a few ways to **[concatenate views](https://vega.github.io/vega-lite/docs/concat.html)**, which involves how you want to set the visual elements bedside each other. In this case I used hconcat for horizontal layout of the circle chart, the bar chart, and a third chart to act as a numerical marker for the bar chart.\\r\\n\\r\\n![Deneb hconcat Vega-Lite outline](/src/assets/blog/2022-04-27--04.png)\\r\\n\\r\\nVega-Lite code structure:\\r\\n\\r\\n```\\r\\n \\"hconcat\\": [\\r\\n     {\\"mark\\": { \\"type\\": \\"circle\\"}\\r\\n       ...\\r\\n     },\\r\\n     {\\"mark\\": { \\"type\\": \\"bar\\"}\\r\\n       ...\\r\\n     },\\r\\n     {\\"mark\\": { \\"type\\": \\"text\\"}\\r\\n       ...\\r\\n     },\\r\\n\\r\\n```\\r\\n\\r\\nThe main challenge I had with the circle chart is that I have data for years 2022 and 2023, but I wasn\'t able to find a way to display these along the x-axis as separate levels of labels (i.e. months on the top row and year in the second row).\\r\\n\\r\\nIn hindsight, I could have created a custom column that concatenated year and month number, but during development I found severe slowness of the Power BI report as-is (likely due to the Python predictive analytics integration), so I opted to just display 2023 by filtering the visual (though this can also be done from within the Deneb code), and display the initial for each month.\\r\\n\\r\\n![Deneb initials for months](/src/assets/blog/2022-04-27--05.png)\\r\\n\\r\\nVega-Lite code structure:\\r\\n\\r\\n```\\r\\n\\"encoding\\": {\\r\\n              ...\\r\\n             \\"x\\": {\\"timeUnit\\": \\"month\\",\\r\\n                   \\"field\\": \\"OrderDate\\",\\r\\n                   \\"axis\\": { \\"labelAlign\\": \\"center\\",\\r\\n                             \\"labelExpr\\": \\"datum.label[0]\\" }\\r\\n```\\r\\n\\r\\nI haven\'t replicated the original for every detail, but have the general outlay in Deneb, and the rest would be minor finessing.\\r\\n\\r\\nThis is the finalised code:\\r\\n\\r\\n```\\r\\n{\\r\\n  \\"data\\": {\\"name\\": \\"dataset\\"},\\r\\n  \\"bounds\\": \\"flush\\",\\r\\n  \\"spacing\\": 6,\\r\\n  \\"params\\": [{\\"name\\": \\"pts\\",\\r\\n              \\"select\\": \\"interval\\"\\r\\n            }],\\r\\n  \\"hconcat\\": [\\r\\n     {\\"mark\\": { \\"type\\": \\"circle\\",\\r\\n                \\"size\\": 50,\\r\\n                \\"tooltip\\": true\\r\\n     },\\r\\n      \\"width\\": 150,\\r\\n      \\"height\\": 530,\\r\\n      \\"encoding\\": {\\r\\n                   \\"y\\": {\\"field\\": \\"Subcategory\\",\\r\\n                         \\"type\\": \\"nominal\\",\\r\\n                         \\"title\\": null,\\r\\n                         \\"axis\\": {\\"labelFontSize\\": 9, \\"grid\\": true, \\"tickBand\\": \\"extent\\", \\"gridColor\\": \\"#f6f6f6\\", \\"gridWidth\\": 1},\\r\\n                         \\"sort\\": {\\"op\\": \\"sum\\", \\"field\\": \\"Total quantity\\", \\"order\\": \\"descending\\"}\\r\\n                        },\\r\\n                   \\"x\\": {\\"timeUnit\\": \\"month\\",\\r\\n                         \\"field\\": \\"OrderDate\\",\\r\\n                         \\"title\\": null,\\r\\n                         \\"axis\\": { \\"labelAlign\\": \\"center\\",\\r\\n                                   \\"labelExpr\\": \\"datum.label[0]\\" }\\r\\n                        },\\r\\n                   \\"color\\": {\\r\\n                             \\"aggregate\\": \\"sum\\",\\r\\n                             \\"field\\": \\"Total quantity\\",\\r\\n                             \\"scale\\":  {\\r\\n                               \\"domainMin\\": 0, \\"domainMax\\": 100000,\\r\\n                               \\"range\\": [\\"#cbf2f2\\", \\"#82e0e0\\", \\"#90dfdf\\", \\"#32c9c9\\", \\"#19abab\\", \\"#048e8e\\"] }\\r\\n                            },\\r\\n                   \\"tooltip\\": [{\\"timeUnit\\": \\"year\\", \\"field\\": \\"OrderDate\\", \\"title\\": \\"YEAR\\"},\\r\\n                               {\\"timeUnit\\": \\"month\\", \\"field\\": \\"OrderDate\\", \\"title\\": \\"MONTH\\"},\\r\\n                               {\\"field\\": \\"Category\\", \\"type\\": \\"nominal\\", \\"title\\": \\"CATEGORY\\"},\\r\\n                               {\\"field\\": \\"Subcategory\\", \\"type\\": \\"nominal\\", \\"title\\": \\"SUBCATEGORY\\"},\\r\\n                               {\\"aggregate\\": \\"sum\\", \\"field\\": \\"Total quantity\\", \\"title\\": \\"QUANTITY\\"}]\\r\\n                  }\\r\\n     },\\r\\n     {\\"mark\\": { \\"type\\": \\"bar\\", \\"tooltip\\": true},\\r\\n      \\"width\\": 100,\\r\\n      \\"height\\": 530,\\r\\n      \\"encoding\\": {\\r\\n                   \\"y\\": {\\"field\\": \\"Subcategory\\",\\r\\n                         \\"type\\": \\"nominal\\",\\r\\n                         \\"title\\": null,\\r\\n                         \\"sort\\": {\\"op\\": \\"sum\\", \\"field\\": \\"Total quantity\\", \\"order\\": \\"descending\\"},\\r\\n                         \\"axis\\": {\\"labelFontSize\\": 9, \\"labels\\": false, \\"grid\\": true, \\"gridColor\\": \\"#f6f6f6\\", \\"gridWidth\\": 1}\\r\\n                        },\\r\\n                   \\"x\\": {\\"field\\": \\"Total quantity\\",\\r\\n                         \\"type\\": \\"quantitative\\",\\r\\n                         \\"aggregate\\": \\"sum\\",\\r\\n                         \\"title\\": null,\\r\\n                         \\"axis\\": {\\"labels\\": false,\\r\\n                                  \\"gridColor\\": \\"white\\"\\r\\n                         }\\r\\n                        },\\r\\n                   \\"color\\": {\\"aggregate\\": \\"sum\\",\\r\\n                             \\"field\\": \\"Total quantity\\",\\r\\n                             \\"scale\\":  {\\"range\\": [\\"#cbf2f2\\", \\"#82e0e0\\", \\"#90dfdf\\", \\"#32c9c9\\", \\"#19abab\\", \\"#048e8e\\"] }\\r\\n                            },\\r\\n                   \\"tooltip\\": [{\\"timeUnit\\": \\"year\\", \\"field\\": \\"OrderDate\\", \\"title\\": \\"YEAR\\"},\\r\\n                               {\\"field\\": \\"Category\\", \\"type\\": \\"nominal\\", \\"title\\": \\"CATEGORY\\"},\\r\\n                               {\\"field\\": \\"Subcategory\\", \\"type\\": \\"nominal\\", \\"title\\": \\"SUBCATEGORY\\"},\\r\\n                               {\\"aggregate\\": \\"sum\\", \\"field\\": \\"Total quantity\\", \\"title\\": \\"QUANTITY\\"}]\\r\\n                   }\\r\\n     },\\r\\n     {\\"mark\\": {\\"type\\": \\"text\\", \\"align\\": \\"left\\", \\"x\\": 0, \\"fontSize\\": 9},\\r\\n      \\"width\\": 50,\\r\\n      \\"height\\": 530,\\r\\n      \\"encoding\\": {\\"text\\": {\\"aggregate\\": \\"sum\\",\\r\\n                            \\"field\\": \\"Total quantity\\"\\r\\n                           },\\r\\n                   \\"y\\": {\\"field\\": \\"Subcategory\\",\\r\\n                         \\"type\\": \\"nominal\\",\\r\\n                         \\"title\\": null,\\r\\n                         \\"sort\\": {\\"op\\": \\"sum\\", \\"field\\": \\"Total quantity\\", \\"order\\": \\"descending\\"},\\r\\n                         \\"axis\\": {\\"labels\\": false, \\"labelFontSize\\": 9}\\r\\n                        }\\r\\n                  }\\r\\n     }\\r\\n  ],\\r\\n  \\"config\\": {\\"legend\\": {\\"disable\\": true} }\\r\\n}\\r\\n```\\r\\n\\r\\n\\r\\n\\r\\n### Deneb visual 2: Zoomable scatterplot\\r\\n\\r\\nThe second custom visual is yet another design element mimicked from a Tableau Public visualisation by [Pradeep Kumar G](https://twitter.com/pradeep_zen), this time named **[Profit Analysis - Sample Superstore](https://public.tableau.com/app/profile/pradeepkumar.g/viz/ProfitAnalysis-SampleSuperstore/viz)**.\\r\\n\\r\\n* **[https://public.tableau.com/app/profile/pradeepkumar.g/viz/ProfitAnalysis-SampleSuperstore/viz](https://public.tableau.com/app/profile/pradeepkumar.g/viz/ProfitAnalysis-SampleSuperstore/viz)**\\r\\n\\r\\nThe original dashboard appears as below:\\r\\n\\r\\n![Tableau profit dashboard by Pradeep Kumar](/src/assets/blog/2022-04-27--06.png)\\r\\n\\r\\nOnce again, you need to scroll down a bit further to find the design element I tried to replicate with Deneb:\\r\\n\\r\\n![Tableau profit dashboard element by Pradeep Kumar](/src/assets/blog/2022-04-27--07.png)\\r\\n\\r\\nThis was much easier to create, as I simply modified an existing official Vega-Lite scatterplot example found here:\\r\\n\\r\\n* **[https://vega.github.io/vega-lite/examples/selection_translate_scatterplot_drag.html](https://vega.github.io/vega-lite/examples/selection_translate_scatterplot_drag.html)**\\r\\n\\r\\nThe main advantage of using Deneb here is the scatterplot has the ability to easily zoom in and out using the mouse scrollwheel, and pan using mouse-click-hold-and-drag action, whereas Power BI out of-the-box (as of at the time of writing), requires a lot of clicking around for the user to use the zoom slice for each axis.\\r\\n\\r\\n![Power BI zoom slicer on scaterplot](/src/assets/blog/2022-04-27--08.png)\\r\\n\\r\\nThe original design element uses a hexagon with a centred dot for each point, and as Kerry Kolosko\'s blog shows, it is possible to place unique shapes and pictures as marks using Deneb:\\r\\n\\r\\n* **[https://kerrykolosko.com/images-and-custom-shapes-in-deneb](https://kerrykolosko.com/images-and-custom-shapes-in-deneb)**\\r\\n\\r\\nThough there may be a limitation to the level of detail in creating these marks as SVG paths. I created the hexagon using https://vecta.io/, but was unable to add the centre dot using Vega-Lite, either because multi-path support doesn\'t exist as yet for marks, or I have simply struggled to figure out how to make it work.\\r\\n\\r\\n![Hexagon shape created using vecta.io](/src/assets/blog/2022-04-27--09.png)\\r\\n\\r\\nVega-Lite code structure:\\r\\n\\r\\n```\\r\\n  ...\\r\\n    \\"mark\\": {\\r\\n             \\"type\\": \\"point\\", \\r\\n             \\"shape\\": \\"M-3.671-1.9184L-.5855-3.875l3.0856 1.9566v2.837L-.5855 2.875-3.671.9186z\\"\\r\\n```\\r\\n\\r\\nThe main challenge of this visual was to add profit margin on the x-axis, and as a value in general, per customer. The reason for this is because I originally had a DAX measure that involved variables to help perform the calculation for profit margin, but it seemed to produce incorrect results when added to the Deneb visual. \\r\\n\\r\\nSo instead, I added both profit and sales measures to the Deneb visual (which were independently correct), then within the visual performed the profit margin calculation per customer.\\r\\n\\r\\nVega-Lite code structure:\\r\\n\\r\\n```\\r\\n  ...\\r\\n      \\"transform\\": [\\r\\n        {\\r\\n          \\"aggregate\\": [\\r\\n            {\\"op\\": \\"sum\\", \\"field\\": \\"Total profit\\", \\"as\\": \\"sum_profit\\"},\\r\\n            {\\"op\\": \\"sum\\", \\"field\\": \\"Total sales\\", \\"as\\": \\"sum_sales\\"} ],\\r\\n            \\"groupby\\": [\\"CustomerID\\"]\\r\\n        },\\r\\n        {\\r\\n          \\"calculate\\": \\"datum.sum_profit\\", \\"as\\": \\"Profit\\"\\r\\n        },\\r\\n        {\\r\\n          \\"calculate\\": \\"datum.sum_sales\\", \\"as\\": \\"Sales\\"\\r\\n        },\\r\\n        {\\r\\n          \\"calculate\\": \\"datum.sum_profit/datum.sum_sales * 100\\", \\"as\\": \\"Profit margin\\"\\r\\n        },\\r\\n```\\r\\n\\r\\nThen I added condition colouring for the points, similar to the Tableau design reference, whereby any values with a profit margin less than 0% would be turned red.\\r\\n\\r\\n```\\r\\n  ...\\r\\n  \\"color\\": {\\r\\n    \\"condition\\": {\\r\\n      \\"test\\": \\"datum[\'Profit\'] < 0 || datum[\'Profit margin\'] < 0\\",\\r\\n      \\"value\\": \\"#ff0000\\"}},\\r\\n```\\r\\n\\r\\nThe last bells-and-whistles to add were to include an overlay of median values of the x-axis for profit margin, and the y-axis for profit, across all customers. Unlike the concatenation method used previously, since thi is just overlaying \\"rules\\" i.e. lines for the medians, views are simply added within the same layer, as opposed to beside each other.\\r\\n\\r\\n```\\r\\n{\\r\\n  ...\\r\\n  \\"layer\\": [\\r\\n    {\\r\\n      ...\\r\\n      \\"mark\\": {\\r\\n        \\"type\\": \\"point\\", \\r\\n        ...\\r\\n    },\\r\\n    {\\r\\n      ...\\r\\n      \\"mark\\": {\\r\\n        \\"type\\": \\"rule\\",\\r\\n        \\"strokeDash\\": [7, 6]},\\r\\n      \\"encoding\\": {\\r\\n        \\"x\\": {\\r\\n          \\"aggregate\\": \\"median\\",\\r\\n          \\"field\\": \\"Profit margin\\",\\r\\n           ...\\r\\n      }\\r\\n    },\\r\\n    {\\r\\n      ...\\r\\n      \\"mark\\": {\\r\\n        \\"type\\": \\"rule\\",\\r\\n        \\"strokeDash\\": [7, 6]},\\r\\n      \\"encoding\\": {\\r\\n        \\"y\\": {\\r\\n          \\"aggregate\\": \\"median\\",\\r\\n          \\"field\\": \\"Profit\\",\\r\\n          ...\\r\\n      }\\r\\n    }\\r\\n  ]\\r\\n```\\r\\n\\r\\nThe final product looks like this:\\r\\n\\r\\n![Deneb scatterplot in Power BI](/src/assets/blog/2022-04-27--10.png)\\r\\n\\r\\nVega-Lite code structure:\\r\\n\\r\\n```\\r\\n{\\r\\n  \\"data\\": {\\"name\\": \\"dataset\\"},\\r\\n  \\"layer\\": [\\r\\n    {\\r\\n      \\"params\\": [{\\r\\n        \\"name\\": \\"grid\\",\\r\\n        \\"select\\": \\"interval\\",\\r\\n        \\"bind\\": \\"scales\\"}],\\r\\n      \\"transform\\": [\\r\\n        {\\r\\n          \\"aggregate\\": [\\r\\n            {\\"op\\": \\"sum\\", \\"field\\": \\"Total profit\\", \\"as\\": \\"sum_profit\\"},\\r\\n            {\\"op\\": \\"sum\\", \\"field\\": \\"Total sales\\", \\"as\\": \\"sum_sales\\"} ],\\r\\n            \\"groupby\\": [\\"CustomerID\\"]\\r\\n        },\\r\\n        {\\r\\n          \\"calculate\\": \\"datum.sum_profit\\", \\"as\\": \\"Profit\\"\\r\\n        },\\r\\n        {\\r\\n          \\"calculate\\": \\"datum.sum_sales\\", \\"as\\": \\"Sales\\"\\r\\n        },\\r\\n        {\\r\\n          \\"calculate\\": \\"datum.sum_profit/datum.sum_sales * 100\\", \\"as\\": \\"Profit margin\\"\\r\\n        },\\r\\n        {\\r\\n          \\"calculate\\": \\"(datum.sum_profit/datum.sum_sales) * (datum.sum_profit/datum.sum_sales)\\", \\"as\\": \\"Point size\\"\\r\\n        }],\\r\\n      \\"mark\\": {\\r\\n        \\"type\\": \\"point\\", \\r\\n        \\"shape\\": \\"M-3.671-1.9184L-.5855-3.875l3.0856 1.9566v2.837L-.5855 2.875-3.671.9186z\\",\\r\\n        \\"tooltip\\": true,\\r\\n        \\"color\\":\\"#33cbcb\\",\\r\\n        \\"filled\\": false},\\r\\n      \\"encoding\\": {\\r\\n        \\"x\\": {\\r\\n          \\"field\\": \\"Profit margin\\",\\r\\n          \\"type\\": \\"quantitative\\",\\r\\n          \\"scale\\": {\\r\\n            \\"domain\\": [-25, 25],\\r\\n            \\"domainMax\\": 100,\\r\\n            \\"domainMin\\": -150},\\r\\n          \\"axis\\": {\\"format\\": \\".0f\\", \\"titleFontSize\\": 11},\\r\\n          \\"title\\": \\"PROFIT MARGIN  (%)\\"},\\r\\n        \\"y\\": {\\r\\n          \\"field\\": \\"Profit\\",\\r\\n          \\"type\\": \\"quantitative\\",\\r\\n          \\"axis\\": {\\r\\n            \\"titleFontSize\\": 11,\\r\\n            \\"titleAngle\\": 360,\\r\\n            \\"titlePadding\\": 30},\\r\\n          \\"title\\": \\"PROFIT  ($)\\",\\r\\n          \\"scale\\": {\\r\\n            \\"domain\\": [-100, 100],\\r\\n            \\"domainMax\\": 12000,\\r\\n            \\"domainMin\\": -850 }},\\r\\n        \\"color\\": {\\r\\n          \\"condition\\": {\\r\\n            \\"test\\": \\"datum[\'Profit\'] < 0 || datum[\'Profit margin\'] < 0\\",\\r\\n            \\"value\\": \\"#ff0000\\"}},\\r\\n        \\"size\\": {\\r\\n          \\"field\\": \\"Point size\\",\\r\\n          \\"type\\": \\"quantitative\\"},\\r\\n        \\"tooltip\\": [\\r\\n          {\\"field\\": \\"CustomerID\\", \\"type\\": \\"nominal\\", \\"title\\": \\"CUSTOMER ID\\"},\\r\\n          {\\"field\\": \\"Profit\\", \\"title\\": \\"PROFIT ($)\\"},\\r\\n          {\\"field\\": \\"Sales\\", \\"title\\": \\"SALES ($)\\"},\\r\\n          {\\"field\\": \\"Profit margin\\", \\"format\\": \\".1f\\", \\"title\\": \\"PROFIT MARGIN (%)\\"}]}\\r\\n    },\\r\\n    {\\r\\n      \\"transform\\": [\\r\\n        {\\r\\n          \\"aggregate\\": [\\r\\n            {\\"op\\": \\"sum\\", \\"field\\": \\"Total profit\\", \\"as\\": \\"sum_profit\\"},\\r\\n            {\\"op\\": \\"sum\\", \\"field\\": \\"Total sales\\", \\"as\\": \\"sum_sales\\"} ],\\r\\n          \\"groupby\\": [\\"CustomerID\\"]\\r\\n        },\\r\\n        {\\r\\n          \\"calculate\\": \\"datum.sum_profit\\", \\"as\\": \\"Profit\\"\\r\\n        },\\r\\n        {\\r\\n          \\"calculate\\": \\"datum.sum_sales\\", \\"as\\": \\"Sales\\"\\r\\n        },\\r\\n        {\\r\\n          \\"calculate\\": \\"datum.sum_profit/datum.sum_sales * 100\\", \\"as\\": \\"Profit margin\\"\\r\\n        }],\\r\\n      \\"mark\\": {\\r\\n        \\"type\\": \\"rule\\",\\r\\n        \\"strokeDash\\": [7, 6]},\\r\\n      \\"encoding\\": {\\r\\n        \\"x\\": {\\r\\n          \\"aggregate\\": \\"median\\",\\r\\n          \\"field\\": \\"Profit margin\\",\\r\\n          \\"type\\": \\"quantitative\\"},\\r\\n        \\"color\\": {\\"value\\": \\"#b3b3b3\\"},\\r\\n        \\"size\\": {\\"value\\": 2}\\r\\n      }\\r\\n    },\\r\\n    {\\r\\n      \\"transform\\": [\\r\\n        {\\r\\n          \\"aggregate\\": [\\r\\n            {\\"op\\": \\"sum\\", \\"field\\": \\"Total profit\\", \\"as\\": \\"sum_profit\\"}],\\r\\n          \\"groupby\\": [\\"CustomerID\\"]\\r\\n        },\\r\\n        {\\r\\n          \\"calculate\\": \\"datum.sum_profit\\", \\"as\\": \\"Profit\\"\\r\\n        }],\\r\\n      \\"mark\\": {\\r\\n        \\"type\\": \\"rule\\",\\r\\n        \\"strokeDash\\": [7, 6]},\\r\\n      \\"encoding\\": {\\r\\n        \\"y\\": {\\r\\n          \\"aggregate\\": \\"median\\",\\r\\n          \\"field\\": \\"Profit\\",\\r\\n          \\"type\\": \\"quantitative\\"},\\r\\n        \\"color\\": {\\"value\\": \\"#b3b3b3\\"},\\r\\n        \\"size\\": {\\"value\\": 2}\\r\\n      }\\r\\n    }\\r\\n  ],\\r\\n  \\"config\\": {\\"legend\\": {\\"disable\\": true} }\\r\\n}\\r\\n```\\r\\n\\r\\nThat\'s it! A couple of wonderful custom visualisations (with tooltips too). Hopefully on my next attempt they will be ones of my own design.\\r\\n\\r\\nClick **[here](https://github.com/makuharistudio/makuharistudio.github.io/blob/main/src/markdown/posts/2022-04-27.md)** for this post\'s markdown file in GitHub.","photo":"../assets/blog/2022-04-27--00.png\\r"},{"id":1650117600,"title":"Add forecasts from Python using Visual Studio Code to Power BI\\r","name":"add-forecasts-from-python-using-visual-studio-code-to-power-bi","tech":"logo-python\\r","tags":"[\\"Power BI\\", \\"Python\\", \\"Power Query\\"]\\r","date":"17 April 2022\\r","content":"This is a record of my first attempt at utilising Python for predictive analytics and embedding it into Power BI, using the International Marketplace dataset created using SQL Server Integration Services from my [previous blog post](https://makuharistudio.github.io/#/blog/international-marketplace-dataset-created-with-integration-services).\\r\\n\\r\\nThe normalised version of the output is used, which you can download from here:\\r\\n\\r\\n**[https://github.com/makuharistudio/data-visualisation-datasets/blob/main/International%20Marketplace%20sales/International%20Marketplace%20Normalised%20for%20Power%20BI.xlsx?raw=true](https://github.com/makuharistudio/data-visualisation-datasets/blob/main/International%20Marketplace%20sales/International%20Marketplace%20Normalised%20for%20Power%20BI.xlsx?raw=true)**\\r\\n\\r\\n\\r\\n\\r\\n## Step 1. Setup Visual Studio Code to run Python\\r\\n\\r\\n### Install the Python extension for Visual Studio Code\\r\\n\\r\\nInstall the Microsoft verified Python extension.\\r\\n\\r\\n![Visual Studio Code Python extension](/src/assets/blog/2022-04-17--01.png)\\r\\n\\r\\n\\r\\n\\r\\n### Create a Virtual Environment to allow import of Python modules\\r\\n\\r\\nThe set up of a virtual environment is so that you can install as many libraries for data analysis and visualisation using Python (i.e. model training and testing), which may be more than the actual libraries needed for the code you ultimately embed in your Power BI report.\\r\\n\\r\\nIf you want to link your project to GitHub, follow the standard setup steps, i.e.:\\r\\n* Create a public repository in GitHub.com\\r\\n* Create a local repository for the project (Code > Open with GitHub Desktop)\\r\\n\\r\\nFrom Visual Studio Code, open a cmd terminal\\r\\n\\r\\n![Open a command terminal, part 1](/src/assets/blog/2022-04-17--02.png)\\r\\n\\r\\nVisual Studio opens a PowerShell terminal by default, so switch it to Command Prompt.\\r\\n\\r\\n![Open a command terminal, part 2](/src/assets/blog/2022-04-17--03.png)\\r\\n\\r\\nThe reason for this is PowerShell will by default block running potentially harmful scripts.\\r\\nSo you should be using cmd terminal from within Visual Studio Code, rather than the PowerShell terminal.\\r\\n\\r\\n![Open a command terminal, part 3](/src/assets/blog/2022-04-17--04.png)\\r\\n\\r\\nFrom the Visual Studio Code cmd terminal, use the following command structure:\\r\\n\\r\\n```\\r\\npython -m venv yourpythonprojectfolder\\\\yourvenvname\\r\\n```\\r\\n\\r\\nFor example:\\r\\n```\\r\\npython -m venv C:\\\\Project\\\\python-for-power-bi\\\\venv\\r\\n```\\r\\n\\r\\n![Create virtual environment, part 1](/src/assets/blog/2022-04-17--05.png)\\r\\n\\r\\nThe venv virtual environment will appear as a folder under VS Code\'s Explorer pane.\\r\\n\\r\\n![Create virtual environment, part 2](/src/assets/blog/2022-04-17--06.png)\\r\\n\\r\\n\\r\\n\\r\\n### Activating the Virtual Environment\\r\\n\\r\\nCommand structure:\\r\\n```\\r\\nyourvenvname\\\\Scripts\\\\activate\\r\\n```\\r\\n\\r\\nFor example:\\r\\n```\\r\\nvenv\\\\Scripts\\\\activate\\r\\n```\\r\\n\\r\\n![Run virtual environment](/src/assets/blog/2022-04-17--07.png)\\r\\n\\r\\n**Note:** When you close Visual Studio Code, the environment will be stopped. To activate it again, use the above command from a cmd terminal in Visual Studio Code.\\r\\n\\r\\n\\r\\n\\r\\n### Add the Virtual Environment to .gitignore\\r\\n\\r\\nLooking at the previous screenshot, you can see the Source Control icon has over 900 items pending change due to the venv environment. The Python modules that will be later installed for model training and testing, will also be added to that folder.\\r\\n\\r\\nSo to avoid pushing all those unnecesary files to GitHub (which _will_ stall it), create a new .gitignore file in your folder\'s directory and add venv (or whatever your virtual environment’s folder name is), inside that .gitignore file.\\r\\n\\r\\nYou will notice the number of pending changes are cut down, and your virtual environment\'s folder should be greyed out.\\r\\n\\r\\n![Add virtual environment to .gitignore](/src/assets/blog/2022-04-17--08.png)\\r\\n\\r\\n\\r\\n\\r\\n### Deactivate and delete Virtual Environment\\r\\n\\r\\nTo deactivate the environment (can be re-activated again later), use the deactivate command.\\r\\n\\r\\n```\\r\\ndeactivate\\r\\n```\\r\\n\\r\\nIf you need to delete the environment, use the following code via a PowerShell terminal if its folder was named venv, otherwise replace venv with the folder name you used.\\r\\n\\r\\n```\\r\\nrm -r venv\\r\\n```\\r\\n\\r\\n\\r\\n\\r\\n### Import Python libraries\\r\\n\\r\\nAfter performing the steps above (minus deactivating then deleting the environment), you can now install Python libraries a.k.a. modules. Be sure the (venv) prefix is displayed before running, so you know it installs to the virtual environment.\\r\\n\\r\\nCommand structure:\\r\\n```\\r\\npip install pythonmodulename\\r\\n```\\r\\n\\r\\nFor example:\\r\\n```\\r\\npip install pandas\\r\\npip install numpy\\r\\npip install scikit-learn\\r\\npip install matplotlib\\r\\npip install seaborn\\r\\n```\\r\\n\\r\\n![Install Python libraries](/src/assets/blog/2022-04-17--09.png)\\r\\n\\r\\nYou may encounter a pip message preventing installation of subsequent libraries due to version incompatibility. In my case, the message asked to run the following, which you may need to do for your own folder.\\r\\n\\r\\n```\\r\\nc:\\\\project\\\\python-for-power-bi\\\\venv\\\\scripts\\\\python.exe -m pip install --upgrade pip\\r\\n```\\r\\n\\r\\nYou can test the environment and Python libraries, by creating a Python script with .py file format extension in your main folder with the following code.\\r\\n\\r\\n```\\r\\nimport pandas as pd\\r\\nimport numpy as np\\r\\n\\r\\njusticeLeague = np.array([\\r\\n   [1, \'Superman\', 1938],\\r\\n   [2, \'Batman\', 1939],\\r\\n   [3, \'Wonderwoman\', 1941],\\r\\n   [4, \'Flash\', 1940,]\\r\\n])\\r\\n\\r\\ncolumnNames = [\\r\\n   \'League ID\',\\r\\n   \'Codename\',\\r\\n   \'First Appearance\'\\r\\n]\\r\\n\\r\\ndf = pd.DataFrame(data = justiceLeague, columns = columnNames)\\r\\nprint(df)\\r\\n```\\r\\n\\r\\nThen click Run to render the script. If the data displays, then Python is working from the virtual environment.\\r\\n\\r\\n![Test Python script displays](/src/assets/blog/2022-04-17--10.png)\\r\\n\\r\\n\\r\\n\\r\\n### Clearing terminal\\r\\n\\r\\nVisual Studio Code has removed the hotkey shortcut for clearing console, which is going to be regularly used for trial-and-error coding and displaying results.\\r\\n\\r\\nTo create a shortcut for it, from Visual Studio Code navigate to File > Preferences > Keyboard Shortcuts, then search for the command *workbench.action.terminal.clear*, and apply your keybinding, for example Ctrl + K.\\r\\n\\r\\n![Set up shortcut to clear terminal](/src/assets/blog/2022-04-17--11.png)\\r\\n\\r\\n\\r\\n\\r\\n### Allow plotting to display within Visual Studio Code\\r\\n\\r\\nTo allow Visual Studio Code to display plots i.e. visualisations, place this tag at the top of your Python script: #%%\\r\\n\\r\\nIt will automatically add a paired tag to the end of the script.\\r\\n\\r\\nFor example, replace your test Python file\'s contents with this:\\r\\n\\r\\n```\\r\\n#%%\\r\\n\\r\\nimport pandas as pd\\r\\nimport numpy as np\\r\\nimport matplotlib.pyplot as plt\\r\\n\\r\\nmonthlySales = np.array([\\r\\n   [1, 21],\\r\\n   [2, 17],\\r\\n   [3, 25],\\r\\n   [4, 29],\\r\\n   [5, 15],\\r\\n   [6, 11],\\r\\n   [7, 18],\\r\\n   [8, 13],\\r\\n   [9, 7],\\r\\n   [10, 3],\\r\\n   [11, 14],\\r\\n   [12, 32]\\r\\n])\\r\\n\\r\\ncolumnNames = [\\r\\n   \'Month\',\\r\\n   \'Sales\'\\r\\n]\\r\\n\\r\\ndf = pd.DataFrame(data = monthlySales, columns = columnNames)\\r\\nmonth = df.loc[:, \'Month\'].values\\r\\nsales = df.loc[:, \'Sales\'].values\\r\\nplt.plot(month, sales)\\r\\n```\\r\\n\\r\\nThen click the \\"Run Cell\\" hyperlink at the top of the script. If it isn\'t already installed, ipykernel package will prompt to be installed in your virtual environment, which you will need.\\r\\n\\r\\n![Install ipykernel](/src/assets/blog/2022-04-17--12.png)\\r\\n\\r\\nOnce complete, the plot should display.\\r\\n\\r\\n![Data visual in Visual Studio Code](/src/assets/blog/2022-04-17--13.png)\\r\\n\\r\\n\\r\\n\\r\\n## Step 2. Import data and do preliminary visualisation\\r\\n\\r\\nFor the moment, I am choosing to just look at the OrderDate and Profit columns i.e. ignoring other independent variables.\\r\\nAlthough the following can easily be done in an Excel or Power BI linechart, using Python I want to see the monthly profits.\\r\\n\\r\\nFirst by listing out the results:\\r\\n\\r\\n```\\r\\nimport pandas as pd\\r\\nimport numpy as np\\r\\n\\r\\ndata = pd.read_excel (r\'https://github.com/makuharistudio/data-visualisation-datasets/blob/main/International%20Marketplace%20sales/International%20Marketplace%20Normalised%20for%20Power%20BI.xlsx\', sheet_name=\'FactSales\', parse_dates = True)\\r\\ndf = pd.DataFrame(data, columns= [\'OrderDate\',\'Profit\'])\\r\\ndf.set_index(\'OrderDate\')\\r\\n\\r\\n# create YearMonth column, and total column by YearMonth\\r\\ndf[\'YearMonth\'] = df[\'OrderDate\'].dt.to_period(\\"M\\")\\r\\ngroupby = df.groupby([\'YearMonth\'])\\r\\ndf[\'MonthlyProfit\'] = groupby[\'Profit\'].transform(np.sum)\\r\\n# remove OrderDate and Profit column so duplicate rows (of YearMonth and MonthlyProfit) becomes evident\\r\\n# .duplicated() checks if entire row\'s values match a previous row, and returns True if the case except for the first occurrence\\r\\ndf = df.drop(columns=[\'OrderDate\',\'Profit\'])\\r\\ndf.drop_duplicates(keep=\'first\', inplace = True)\\r\\ndf.set_index(\'YearMonth\')\\r\\ndf.index.freq = \'MS\'\\r\\n\\r\\nprint(df)\\r\\n```\\r\\n\\r\\n![List of monthly profit](/src/assets/blog/2022-04-17--14.png)\\r\\n\\r\\nThen adding the following code after that to plot/visualise it:\\r\\n\\r\\n```\\r\\nimport matplotlib.pyplot as plt\\r\\n\\r\\ndf[\'YearMonth\'] = pd.to_datetime(df[\'YearMonth\'].astype(str) + \'-01\')\\r\\nyearMonth = df.loc[:, \'YearMonth\'].values\\r\\nmonthlyProfit = df.loc[:, \'MonthlyProfit\'].values\\r\\nplt.plot(yearMonth, monthlyProfit, c = \'b\', marker = \'.\', markersize = 10)\\r\\nplt.xticks(fontsize = 8)\\r\\nplt.yticks(fontsize = 8)\\r\\nplt.xlabel(\'Year-Month\', fontsize = 10)\\r\\nplt.ylabel(\'Millions $\', fontsize = 10)\\r\\n```\\r\\n\\r\\n![Plot of monthly profit](/src/assets/blog/2022-04-17--15.png)\\r\\n\\r\\n\\r\\n\\r\\n## Step 3. Training and testing prediction models\\r\\n\\r\\nThis is the point where you would train and test models, with the ultimate objective of generating a list of forecasted figures to load into Power BI as a separate data file. The reason for this is it\'s better than embeddding the Python model inside the Power BI report directly, especially as complexity and result sets increase.\\r\\n\\r\\nAs at the time of writing, I am still aways off from being any kind of statistician, so I\'ll defer to using the exponential smoothing method Absent Data took in his blog post:\\r\\n\\r\\n**[https://www.absentdata.com/power-bi/forecasting-with-python-and-power-bi](https://www.absentdata.com/power-bi/forecasting-with-python-and-power-bi)**\\r\\n\\r\\nLike Absent Data, I\'ve started off with a daily dataset that I want aggregated to monthly values (as the Power BI report I\'ll be designing won\'t be allowing drill down past monthly level for the forecast).\\r\\n\\r\\nFrom Step 2, you can see that I\'ve needed to do some tinkering to get the monthly totals so that I could visualise them. That code will need to be incorporated into what we add into Power BI later, as it\'ll be a needed prep work step, otherwise I end up with forecasted values for Day 1 for each month, rather than the sum of all days for each month.\\r\\n\\r\\nFrom Visual Studio Code, the results look like this when listed:\\r\\n\\r\\n```\\r\\nfrom statsmodels.tsa.holtwinters import ExponentialSmoothing\\r\\nmodel = ExponentialSmoothing(df[\'MonthlyProfit\'],trend=\'mul\',seasonal=\'mul\',seasonal_periods=12).fit()\\r\\nrange = pd.date_range(\'01-01-2024\', periods=12, freq=\'MS\')\\r\\npredictions = model.forecast(12)\\r\\npredictions_range = pd.DataFrame({\'MonthlyProfit\':predictions,\'YearMonth\':range})\\r\\n\\r\\nprint(predictions_range)\\r\\n```\\r\\n\\r\\n![List of forecasted monthly profit](/src/assets/blog/2022-04-17--16.png)\\r\\n\\r\\nThen when visualised, show a similar pattern to the original dataset:\\r\\n\\r\\n```\\r\\nimport matplotlib.pyplot as plt\\r\\n\\r\\nyearMonthForecast = predictions_range.loc[:, \'YearMonth\'].values\\r\\nmonthlyProfitForecast = predictions_range.loc[:, \'MonthlyProfit\'].values\\r\\ndf[\'YearMonth\'] = pd.to_datetime(df[\'YearMonth\'].astype(str) + \'-01\')\\r\\nyearMonth = df.loc[:, \'YearMonth\'].values\\r\\nmonthlyProfit = df.loc[:, \'MonthlyProfit\'].values\\r\\nplt.plot(yearMonth, monthlyProfit, c = \'b\', marker = \'.\', markersize = 10)\\r\\nplt.plot(yearMonthForecast, monthlyProfitForecast, c = \'orange\', marker = \'.\', markersize = 10)\\r\\nplt.xticks(fontsize = 8)\\r\\nplt.yticks(fontsize = 8)\\r\\nplt.xlabel(\'Year-Month\', fontsize = 10)\\r\\nplt.ylabel(\'Millions $\', fontsize = 10)\\r\\n```\\r\\n\\r\\n![Plot of forecasted monthly profit](/src/assets/blog/2022-04-17--17.png)\\r\\n\\r\\n\\r\\n\\r\\n## Step 4. Integrate Python model into Power BI\\r\\n\\r\\nIn this scenario, only 12 values are produced, so there is likely minimal impact from incorporating it into Power BI.\\r\\n\\r\\n**Note:** However, if your scenario involves a larger output, it may be better to export the data from Visual Studio Code to a flat file using either of these commands, then loading the file to Power BI:\\r\\n\\r\\n```\\r\\ndf.to_csv(path_or_buf=\'export/filename.csv\', index=False)\\r\\ndf.to_excel(excel_writer=\'export/filename.xlsx\', index=False)\\r\\n```\\r\\n\\r\\nContinuing with our example, from Power Query in Power BI, I reference the fact table and perform a Group By to sum the daily profits of the original dataset.\\r\\n\\r\\n![Power Query Group By](/src/assets/blog/2022-04-17--18.png)\\r\\n\\r\\nThen convert the OrderDate to data type text, and split column on the forwardslash / delimiter at every occurrence.\\r\\n\\r\\n![Power Query split date column](/src/assets/blog/2022-04-17--19.png)\\r\\n\\r\\nThe reason for this is to create a new _text datatype_ column using dash delimiter, to align with Python\'s date formatting.\\r\\n\\r\\n```\\r\\n[Year] & \\"-\\"  & [Month] & \\"-\\" & \\r\\n(if Text.Length([Day]) = 1\\r\\nthen \\"0\\"\\r\\nelse \\"\\") & [Day]\\r\\n```\\r\\n\\r\\n![Power Query add custom date column](/src/assets/blog/2022-04-17--20.png)\\r\\n\\r\\nThen remove the unnecessary columns, so only the essential ones are included for the dataset that Python ingests.\\r\\n\\r\\n![Power Query remove unneeded columns](/src/assets/blog/2022-04-17--21.png)\\r\\n\\r\\nFrom Power Query\'s Transform tab, click \\"Run Python Script\\".\\r\\n\\r\\n![Power Query Run Python Script](/src/assets/blog/2022-04-17--22.png)\\r\\n\\r\\nWhilst most of the code from your Python script can be copy-and-pasted, note that the data source is the step in Query Settings prior to your Python script, and is named \\"dataset\\", so you need to adjust your script to accommodate for that.\\r\\n\\r\\n```\\r\\nimport pandas as pd\\r\\nimport numpy as np\\r\\ndf = pd.DataFrame(dataset, columns = [\'OrderDate\',\'Profit\'])\\r\\n\\r\\ndf[\'OrderDate\'] = pd.to_datetime(df[\'OrderDate\'], errors = \'ignore\')\\r\\n\\r\\ndf.set_index(\'OrderDate\')\\r\\ndf[\'YearMonth\'] = df[\'OrderDate\'].dt.to_period(\\"M\\")\\r\\ngroupby = df.groupby([\'YearMonth\'])\\r\\ndf[\'MonthlyProfit\'] = groupby[\'Profit\'].transform(np.sum)\\r\\ndf = df.drop(columns=[\'OrderDate\',\'Profit\'])\\r\\ndf.drop_duplicates(keep=\'first\', inplace = True)\\r\\ndf.set_index(\'YearMonth\')\\r\\ndf.index.freq = \'MS\'\\r\\nfrom statsmodels.tsa.holtwinters import ExponentialSmoothing\\r\\nmodel = ExponentialSmoothing(df[\'MonthlyProfit\'],trend=\'mul\',seasonal=\'mul\',seasonal_periods=12).fit()\\r\\nrange = pd.date_range(\'01-01-2024\', periods=12, freq=\'MS\')\\r\\npredictions = model.forecast(12)\\r\\npredictions_range = pd.DataFrame({\'MonthlyProfit\':predictions,\'YearMonth\':range})\\r\\n```\\r\\n\\r\\n![Power Query add Python script](/src/assets/blog/2022-04-17--23.png)\\r\\n\\r\\n**Important!**: Upon clicking OK, you may encounter error messages preventing the script from running, asking for you to install Python libraries in order to proceed. The reason for this is that the libraries you installed in Visual Studio Code were for your virtual environment. However, Power BI does not access that virtual environment, and instead is accessing your native Python installation, which you may not have installed the libraries to.\\r\\n\\r\\nThen click to expand Table for the predictions_range variable.\\r\\n\\r\\n![Power Query expand Table](/src/assets/blog/2022-04-17--24.png)\\r\\n\\r\\n![Power Query expanded Table with monthly forecast values](/src/assets/blog/2022-04-17--25.png)\\r\\n\\r\\nConnect the output to your date or calendar table to help ensure the values plot in your Power BI time series visuals. **Note:** I am aware that best practice modelling typically advises to avoid 2 way relationships as much as possible, so that\'s something that needds to be looked into amending the data model here later on.\\r\\n\\r\\n![Power BI Model view connect to Calendar table](/src/assets/blog/2022-04-17--26.png)\\r\\n\\r\\nHere are the two line charts of actuals and forecasted figures next to each other:\\r\\n\\r\\n![Power BI line chart comparing actuals and forecast](/src/assets/blog/2022-04-17--27.png)\\r\\n\\r\\nThen following one of many tutorials you can find on YouTube to merge actuals and forecasted figures, you can create a single linechart like below:\\r\\n\\r\\n![Power BI line chart comparing actuals and forecast](/src/assets/blog/2022-04-17--28.png)\\r\\n\\r\\n\\r\\nMy recommendations are:\\r\\n\\r\\n* YouTube video: **[Showing actuals and forecasts in the same chart with Power BI by SQLBI](https://www.youtube.com/watch?v=DKgF-5QHY68)**\\r\\n\\r\\n* YouTube video: **[Combining ACTUALS and FORECAST as one LINE in Power BI by How to Power BI](https://www.youtube.com/watch?v=_TAGpAJ9rTQ)**\\r\\n\\r\\nThe second takes the first video one step futher by showing the calculation used to sum the actuals and forecasts into a single measure.\\r\\n\\r\\n\\r\\n\\r\\n### References\\r\\n\\r\\n* Blog post **[Forecasting with Python and Power BI by Absent Data](https://www.absentdata.com/power-bi/forecasting-with-python-and-power-bi)**\\r\\n\\r\\n* YouTube video **[How do I find and remove duplicate rows in pandas?](https://www.youtube.com/watch?v=ht5buXUMqkQ)**\\r\\n\\r\\n* YouTube video **[How to install Python Libraries in Visual Studio Code by Aditya Thakur](https://www.youtube.com/watch?v=ThU13tikHQw)**\\r\\n\\r\\n* Stack Overflow question **[How to show Python plots in Visual Studio Code](https://stackoverflow.com/questions/49992300)**\\r\\n\\r\\n* Stack Overflow question **[How to clear Visual Studio Code terminal](https://stackoverflow.com/questions/49992300)**\\r\\n\\r\\n* Stack Overflow question **[Python script in Power BI returns date as Microsoft.OleDb.Date](https://stackoverflow.com/questions/51929420/python-script-in-power-bi-returns-date-as-microsoft-oledb-date)**\\r\\n\\r\\n* Stack Overflow question **[Setting the x axis as time (years, months) for a set of values](https://stackoverflow.com/questions/28948898/setting-the-x-axis-as-time-years-months-for-a-set-of-values)**\\r\\n\\r\\n* LinkedIn Learning course **[Python: Working with Predictive Analytics by Isil Berkun](https://www.linkedin.com/learning/python-working-with-predictive-analytics)**\\r\\n\\r\\n* LinkedIn Learning course **[Python for Data Visualization by Michael Galarnyk and Madecraft](https://www.linkedin.com/learning/python-for-data-visualization)**\\r\\n\\r\\n\\r\\n\\r\\nClick **[here](https://github.com/makuharistudio/makuharistudio.github.io/blob/main/src/markdown/posts/2022-04-17.md)** for this post\'s markdown file in GitHub.","photo":"../assets/blog/2022-04-17--00.png\\r"},{"id":1645880400,"title":"Find grouped records with a date that matches another date column using DAX\\r","name":"find-grouped-records-with-a-date-that-matches-another-date-column-using-dax","tech":"logo-powerbi\\r","tags":"[\\"Power BI\\", \\"DAX\\"]\\r","date":"27 February 2022\\r","content":"How to use DAX to group records by an identity column, and see if the most recent row has a date value that matches a date value in another column.\\r\\n\\r\\nIn previous posts I\'ve tried to find __[window aggregate values using DAX](https://makuharistudio.github.io/#/blog/calculate-aggregate-for-grouped-rows-based-on-column-value-dax-version)__, and as many Power BI developers highlight, there are many ways to get the same outcome. However the difference between that previous post and this one is that the prior one applied a value to a specific row of the group, whereas this one applies the value to all rows of each grouping, which will be needed for other calculated columns.\\r\\n\\r\\nWhilst working on a small data integrity report at work, I came across this method which is a slightly modified script from a Power BI Communities post, intended to pull the desired value per grouping and apply it to all rows of each group.\\r\\n\\r\\n**DAX structure**\\r\\n```\\r\\nCustom column 1 =\\r\\nVAR identifiercolumn = \'Table\'[ID column]\\r\\nVAR findlatestrecord = CALCULATE( MAX( \'Table\'[Date A] ), ALLEXCEPT( \'Table\', \'Table\'[ID column] ) )\\r\\nRETURN\\r\\n   CALCULATE ( \\r\\n              MAX( \'Table\'[Date A] ),\\r\\n              FILTER( \'Table\', \'Table\'[Date A] = findlatestrecord ),\\r\\n                      \'Table\'[ID column] = identifiercolumn               \\r\\n   )\\r\\n```\\r\\nWhat should be noted is the aggregation under RETURN doesn\'t matter in this case i.e. it could be MIN or MAX, because the second declared variable targets the specific row to get its value from, rather than actually aggregating all values for the group.\\r\\n\\r\\nThe scenario I applied this to involves a series of flat files produced on separate days to represent historic and future orders. Each order is scheduled to be delivered on a specific date at a certain cost. The report is intended to highlight problematic data, such as Order IDs that were scheduled for a specific date in one file, but do not appear in the other files generated on that same date.\\r\\n\\r\\nIn this context, we want to know the most recent *Planned Delivery Date* applied to an *Order ID* based on the latest *File\'s date* that the *Order ID* appears in, then apply that value to all the rows for that *Order ID*\\r\\n\\r\\nIn the example below, there are 2 Order IDs, 8 and 9. *Order ID* 8 has its *Planned Delivery Date* moved earlier, and *Order ID* 9 has its own moved later, in subsequent files. The ones highlighted orange are the ones we want to display.\\r\\n\\r\\n![Sample dataset 1](/src/assets/blog/2022-02-27--01.png)\\r\\n\\r\\nApplying the above DAX structure, we get the following:\\r\\n\\r\\n**DAX implementation**\\r\\n```\\r\\nMost recent Planned Delivery Date = \\r\\nVAR orderid = \'Data integrity audit\'[Order ID]\\r\\nVAR highestfiledatebyorderid =\\r\\n    CALCULATE(\\r\\n        MAX( \'Data integrity audit\'[File\'s date] ), ALLEXCEPT( \'Data integrity audit\',\'Data integrity audit\'[Order ID] )\\r\\n    )\\r\\nRETURN\\r\\n    CALCULATE(\\r\\n        MAX ( \'Data integrity audit\'[Planned Delivery Date] ),\\r\\n        FILTER( \'Data integrity audit\', \'Data integrity audit\'[File\'s date] = highestfiledatebyorderid ),\\r\\n                \'Data integrity audit\'[Order ID] = orderid\\r\\n    )\\r\\n```\\r\\n\\r\\n![Applied DAX structure to find recent date value by Order ID](/src/assets/blog/2022-02-27--02.png)\\r\\n\\r\\n![Successfully applied DAX column added to table 1](/src/assets/blog/2022-02-27--03.png)\\r\\n\\r\\nNow that we have applied the most recent *Planned Delivery Date* for every row based on *Order ID* as an anchor, we just need to check to if the *Order ID* has a row reflecting that it appears in a file whose generation date is the same as the most recent *Planned Delivery Date*. In this context, it serves as affirmation that it was delivered on that day.\\r\\n\\r\\n**DAX structure**\\r\\n```\\r\\nCustom column 2 =\\r\\nIF (\\r\\n    ISBLANK(\\r\\n            CALCULATE(\\r\\n               FIRSTNONBLANK( \'Table\'[ID column], 1 ),\\r\\n               FILTER( ALLEXCEPT( \'Table\', \'Table\'[ID column] ),\\r\\n                                  \'Table\', \'Table\'[Custom column 1] = \'Table\'[Date B]               \\r\\n               )\\r\\n            )\\r\\n    )\\r\\n)\\r\\n```\\r\\n\\r\\nLooking at *Order ID* examples 8 and 16, the former has a matchng record and the latter does not.\\r\\n\\r\\n![Sample dataset 2](/src/assets/blog/2022-02-27--04.png)\\r\\n\\r\\n**DAX implementation**\\r\\n```\\r\\nDoes Order ID appear in File with date matching Delivery Date? = \\r\\nIF(\\r\\n    ISBLANK(\\r\\n        CALCULATE(\\r\\n            FIRSTNONBLANK(\'Data integrity audit\'[Order ID], 1),\\r\\n            FILTER( ALLEXCEPT(\'Data integrity audit\',\'Data integrity audit\'[Order ID] ),\\r\\n                              \'Data integrity audit\'[Most recent Planned Delivery Date] = \'Data integrity audit\'[File\'s date] )\\r\\n        )\\r\\n    ) = FALSE,\\r\\n    \\"Yes\\",\\r\\n    \\"No\\"\\r\\n)\\r\\n```\\r\\n\\r\\n![Applied DAX structure to match different date columns and apply to all records per group](/src/assets/blog/2022-02-27--05.png)\\r\\n\\r\\n![Successfully applied DAX column added to table 2](/src/assets/blog/2022-02-27--06.png)\\r\\n\\r\\nOther more complex columns can then be built on top of this one, in my case, creating a conditional column that categorises the different patterns to highlight areas where data integrity may require review.\\r\\n\\r\\n![Complex conditional DAX query built on top of the aforementioned queries](/src/assets/blog/2022-02-27--07.png)\\r\\n\\r\\n![Example categorisation from previous query added to a matrix](/src/assets/blog/2022-02-27--08.png)\\r\\n\\r\\nClick **[here](https://github.com/makuharistudio/makuharistudio.github.io/blob/main/src/markdown/posts/2022-02-27.md)** for this post\'s markdown file in GitHub.","photo":"../assets/blog/2022-02-27--00.png\\r"},{"id":1641906000,"title":"International Marketplace dataset created with Integration Services\\r","name":"international-marketplace-dataset-created-with-integration-services","tech":"logo-sqlserver\\r","tags":"[\\"SQL Server Integration Services\\", \\"T-SQL\\", \\"Dataset\\"]\\r","date":"12 January 2022\\r","content":"SQL Server Integration Services (SSIS) was used to create this fictional dataset, by merging Microsoft\'s *Wide World Importers* database and *Contoso* data warehouse, with Tableau\'s *Sample - APAC Superstore* dataset, with some data alterations.\\r\\n\\r\\n![International Marketplace SSIS package](/src/assets/blog/2022-01-12--01.png)\\r\\n\\r\\n![International Marketplace in Power BI sales by city](/src/assets/blog/2022-01-12--01a.png)\\r\\n\\r\\n**Final output**\\r\\n\\r\\nYou can download Excel copies of the completed dataset:\\r\\n\\r\\n* Star schema (for Power BI data visualisation) **[download here](https://github.com/makuharistudio/data-visualisation-datasets/raw/main/International%20Marketplace%20sales/International%20Marketplace%20Normalised%20for%20Power%20BI.xlsx)**.\\r\\n\\r\\n![International Marketplace: Normalised star schema](/src/assets/blog/2022-01-12--02.png)\\r\\n\\r\\n* Denormalised (for Tableau data visualisation) **[download here](https://github.com/makuharistudio/data-visualisation-datasets/raw/main/International%20Marketplace%20sales/International%20Marketplace%20Denormalised%20for%20Tableau.xlsx)**.\\r\\n\\r\\n![International Marketplace: Denormalised](/src/assets/blog/2022-01-12--03.png)\\r\\n\\r\\nThis blog post outlines the planning and challenges in making the dataset, which was my first attempt at creating an SSIS package from scratch. For information on the data flows and SQL scripts used in the package, visit my GitHub repository:\\r\\n\\r\\n*  **[https://github.com/makuharistudio/data-visualisation-datasets/tree/main/International%20Marketplace%20sales](https://github.com/makuharistudio/data-visualisation-datasets/tree/main/International%20Marketplace%20sales)**.\\r\\n\\r\\n**REVIEWING THE ORIGINAL DATA SOURCES**\\r\\n\\r\\n**APAC Superstore**\\r\\n\\r\\nTableau\'s APAC Superstore dataset can be found and extracted from Tableau Desktop\'s *Saved Data Sources*.\\r\\n\\r\\n - Customers: 795 (by name), 5,220 (by name and city)\\r\\n - Products: 1,913\\r\\n - Countries: 23\\r\\n - Cities: 537\\r\\n - Sales records: 10,925\\r\\n - Sales years: 2018 to 2021\\r\\n\\r\\nThis is a succinct and denormalised dataset, where customers have no personal locations, as the same names are replicated across many countries. The names are also not very ethnically diverse, given the name of the dataset.\\r\\n\\r\\n![APAC Superstore order map](/src/assets/blog/2022-01-12--04.png)\\r\\n\\r\\n![APAC Superstore data source](/src/assets/blog/2022-01-12--05.png)\\r\\n\\r\\nAt the time of writing this blog post, the order dates covered are from 2018 to 2021. I\'m highlighting that because I suspect that unlike the other datasets, Tableau\'s dataset has its dates automatically changed over time, and the SSIS package we create needs to accommodate for that.\\r\\n\\r\\nThe structure of the dataset merge will be based on APAC Superstore, since it has the least dimensions and facts compared to the Microsoft ones, which are proper databases.\\r\\n\\r\\n\\r\\n**Wide World Importers**\\r\\n\\r\\nMicrosoft\'s Wide World Importers database backup (.bak) file can be downloaded from here:\\r\\n**[https://github.com/Microsoft/sql-server-samples/releases/tag/wide-world-importers-v1.0](https://github.com/Microsoft/sql-server-samples/releases/tag/wide-world-importers-v1.0)**\\r\\n\\r\\n - Customers: 663\\r\\n - Products: 227\\r\\n - Countries: 1\\r\\n - Cities: 655\\r\\n - Sales records: 228,265\\r\\n - Sales years: 2013 to 2016\\r\\n\\r\\nThis is an extensive normalised dataset with customers based only in the United States. Each customer only exists in one city, but there are customer names for the same corporation in different cities e.g.\\r\\n - Tailspin Toys (Arietta, NY)\\r\\n - Tailspin Toys (Trentwood, WA)\\r\\nThese make up 60.6% of the customer records (402 out of 663).\\r\\n\\r\\n![Wide World Importers customer map](/src/assets/blog/2022-01-12--06.png)\\r\\n\\r\\nWhilst 263 customer records have them based in a specific city, most have invoices for multiple other cities, presumably reflecting B2B sales.\\r\\n\\r\\n![Wide World Importers tables](/src/assets/blog/2022-01-12--07.png)\\r\\n\\r\\n\\r\\n**Contoso BI Demo Dataset for Retail Industry**\\r\\n\\r\\nMicrosoft\'s Contoso BI Demo Dataset for Retail Industry data warehouse .bak file can be downloaded from here:\\r\\n**[https://www.microsoft.com/en-us/download/details.aspx?id=18279](https://www.microsoft.com/en-us/download/details.aspx?id=18279)**\\r\\n\\r\\n - Customers: 18,785 (by name) 18,868 (by name and city)\\r\\n - Products: 2,516\\r\\n - Countries: 29\\r\\n - Cities: 476\\r\\n - Sales records: 3,324,410 (online sales only)\\r\\n - Sales years: 2007 to 2009\\r\\n\\r\\n![Contoso customer map](/src/assets/blog/2022-01-12--08.png)\\r\\n\\r\\nThis is the largest of the 3 datasets in terms of the number of sales records. Each sales row represents a single unit for a product, meaning aggregations need to be calculated where the same product is sold multiple times under the same order number.\\r\\n\\r\\nSo a lot of record removal is needed to bring down the dataset to a more manageable size, only using the latest order number for each customer (retaining multiple order line rows), which will leave a usable 19 thousand records.\\r\\n\\r\\n - Customers: 18,674 (by name) 18,753 (by name and city)\\r\\n - Products: 463\\r\\n - Countries: 29\\r\\n - Cities: 476\\r\\n - Sales records: 19,419\\r\\n - Sales years: 2007 to 2009\\r\\n\\r\\nContoso also has a lot of trailing spaces in values, which need to be trimmed as part of the ETL\'s data cleaning. Geographic corrections also need to be made, for example, the city Perth is incorrectly listed under South Australia.\\r\\n\\r\\n![Contoso tables](/src/assets/blog/2022-01-12--09.png)\\r\\n\\r\\nThe table below shows a summary of how the dataset columns align as-is, and the T-SQL needed to populate respective columns with existing data.\\r\\n\\r\\n![Comparing columns across the 3 datasets](/src/assets/blog/2022-01-12--10.png)\\r\\n\\r\\n**CHALLENGES**\\r\\n\\r\\n**Region inconsistency**\\r\\n\\r\\nWide World Importers has a comprehensive Country table for Region and Subregion. We will remap the countries from APAC Superstore and Contoso to those regions for consistency.\\r\\n\\r\\n**Support for special characters**\\r\\n\\r\\nA large number of products use commas, and many names, states, cities and the like, use special characters, which I found to store accurately in Unicode tab-delimited text files, as opposed to some other file format types which cannot render the characters correctly. So both the APAC Superstore and the remapping files use this file format.\\r\\n\\r\\n**Customer names are incoherent and do not reflect country-of-origin**\\r\\n\\r\\nThe APAC Superstore and Contoso datasets have customers outside the United States, but their names do not reflect those locations. Using my past experience with country-based name randomisation (plugging my previous blog post **[here](https://makuharistudio.github.io/#/blog/customer-support-ticket-update-generator-and-sample-dataset)**), I created customer name re-mapping files **[here](https://github.com/makuharistudio/data-visualisation-datasets/tree/main/International%20Marketplace%20sales/text%20files%20for%20value%20remapping%20in%20SSIS)**.\\r\\n\\r\\nContoso also has company names with a missing space before the \\"Company\\" suffix. As these are just the city with \\"Company\\" suffixed, they are remapped with a person\'s name instead.\\r\\n\\r\\n**Mostly United States sales**\\r\\n\\r\\nWide World Importers is a United States sales dataset, so the U.S. sales data from Contoso will be remapped to other countries, to give the final dataset more global reach. The geographic remapping file for this is **[here](https://github.com/makuharistudio/data-visualisation-datasets/tree/main/International%20Marketplace%20sales/text%20files%20for%20value%20remapping%20in%20SSIS)**.\\r\\n\\r\\n**Product, Category/Subcategory, and Supplier remapping**\\r\\n\\r\\nThere are shared _Supplier_ names across Contoso and Wide World Importers, but the spelling needs to be amended so they align. World Wide Importers uses _Stock Groups_, where each product item can belong to multiple groups (1:M), whereas APAC Superstore and Contoso have 1:1 Category and Sub-Category for their products. So all of these have been remapped and re-classified as a whole. Remapping files are **[here](https://github.com/makuharistudio/data-visualisation-datasets/tree/main/International%20Marketplace%20sales/text%20files%20for%20value%20remapping%20in%20SSIS)**.\\r\\n\\r\\n**Customer segmentation**\\r\\n\\r\\nAPAC Superstore defines its segmentation by Consumer, Home Office, and Corporate. International Marketplace merges Home Office with Consumer, as Contoso uses Person and Company for its segmentations. So these are easily remapped:\\r\\n\\r\\n```\\r\\ncase\\r\\n   when c.CustomerType = \'Person\' then N\'Consumer\'\\r\\n   when c.CustomerType = \'Company\' then N\'Corporate\'\\r\\n   else null end as \\"Segment\\"\\r\\n```\\r\\n\\r\\nWorld Wide Importers made the remapping simple as company names are suffixed with the office\'s city in parenthesis:\\r\\n\\r\\n```\\r\\ncase\\r\\n   when c.CustomerName like \'%(%\' then N\'Corporate\'\\r\\n   else N\'Consumer\' end as \\"Segment\\"\\r\\n```\\r\\n\\r\\n**Ship Date missing**\\r\\n\\r\\nOnly APAC Superstore has this column, with no decent equivalents in Contoso and World Wide Importers. So we used T-SQL randomisation to populate this column.\\r\\n\\r\\nAs Contoso is a regional dataset, the _Ship Date_ is set to randomise up to 17 days after the _Order Date_.\\r\\n\\r\\n```\\r\\nconvert(varchar, (dateadd(day,(abs(checksum(newid())) % 18),s.Datekey)),103) \\"Ship Date\\"\\r\\n```\\r\\n\\r\\nTo give some variation toward shorter ship times, World Wide Importers randomises up to 7 days after the _Order Date_.\\r\\n\\r\\n```\\r\\nconvert(varchar,dateadd(day,(abs(checksum(newid())) % 8),o.OrderDate),103) \\"Ship Date\\",\\r\\n```\\r\\n\\r\\n**Ship Mode**\\r\\n\\r\\nLike _Ship Date_, only APAC Superstore has this column. This value is randomised in different phases for Contoso and Wide World Importers.\\r\\n\\r\\nThe first pass involves checking where the _Order Date_ and _Ship Date_ are the same value, and approximately 66.6% of them are randomised to be treated as \\"Same Day\\" shipment.\\r\\n\\r\\n```\\r\\nupdate zs2\\r\\n   set zs2.FromShipMode = \'Same Day\'\\r\\n   from z_sales zs2\\r\\n   inner join\\r\\n      (select cast((ABS(CHECKSUM(NewId()))%3) as bigint) as \\"random\\", zs1.SalesStagingID\\r\\n       from  z_sales zs1\\r\\n       where zs1.FromOrderDate = zs1.FromShipDate and zs1.FromShipMode is null) as rzs\\r\\n      on zs2.SalesStagingID = rzs.SalesStagingID\\r\\n   where rzs.random < 2;\\r\\n```\\r\\n\\r\\nAs randomisation in SQL Server seems to result in near-equal value distribution, all remaining sales are allocated _Ship Mode_ based on a 0 to 9 randomisation with categories disproportionately assigned to integer ranges. \\r\\n\\r\\n```\\r\\nupdate zs2\\r\\n   set zs2.FromShipMode =\\r\\n      case\\r\\n         when rzs.random between 0 and 5 then N\'Standard Class\'           \\r\\n         when rzs.random between 6 and 8 then N\'Second Class\'\\r\\n         else N\'First Class\' end\\r\\n   from z_sales zs2\\r\\n   inner join\\r\\n      (select cast((ABS(CHECKSUM(NewId()))%10) as bigint) as \\"random\\", zs1.SalesStagingID\\r\\n       from  z_sales zs1\\r\\n       where zs1.FromShipMode is null) as rzs\\r\\n      on zs2.SalesStagingID = rzs.SalesStagingID;\\r\\n```\\r\\n\\r\\n**Different date ranges**\\r\\n\\r\\nAligning the order dates across the datasets to cover the same years is done with an initial randomised approximately 50:50 split of the sales data to be moved to 2022.\\r\\n\\r\\n```\\r\\nupdate zs2\\r\\n   set\\r\\n      zs2.toshipdate = dateadd(year,(2022-cast(convert(varchar(4),zs2.fromshipdate,112) as int)),zs2.fromshipdate),\\r\\n      zs2.toorderdate = dateadd(year,(2022-cast(convert(varchar(4),zs2.fromorderdate,112) as int)),zs2.fromorderdate)\\r\\n   from z_sales zs2\\r\\n   inner join\\r\\n      (select cast((ABS(CHECKSUM(NewId()))%2) as bigint) as \\"random\\", zs1.SalesStagingID\\r\\n       from  z_sales zs1 where zs1.toorderdate is null and zs1.toshipdate is null) as rzs\\r\\n       on zs2.SalesStagingID = rzs.SalesStagingID\\r\\n   where rzs.random < 1;\\r\\n```\\r\\n\\r\\nWith the remainder set to the following year. In hindsight, it would have been better to implement this as a package-scoped variable to allow the user to place any year they wanted.\\r\\n\\r\\n```\\r\\nupdate zs\\r\\n   set\\r\\n      zs.toshipdate = dateadd(year,(2022-cast(convert(varchar(4),zs.fromshipdate,112) as int)+1),zs.fromshipdate),\\r\\n      zs.toorderdate = dateadd(year,(2022-cast(convert(varchar(4),zs.fromorderdate,112) as int)+1),zs.fromorderdate)\\r\\n   from z_sales zs\\r\\n   where zs.toorderdate is null and zs.toshipdate is null;\\r\\n```\\r\\n\\r\\n**OTHER LESSONS LEARNED**\\r\\n\\r\\n**Creating bins for histograms**\\r\\n\\r\\nAPAC Superstore uses a Profit (bin) field to round down profits to nearest $200, including going into negatives. To apply that to the invoice line profit field in Wide World Importers, the basic select for this would be:\\r\\n\\r\\n```\\r\\nfloor( il.LineProfit / 200 ) * 200\\r\\n```\\r\\n\\r\\n**For Flat File connections, Visual Studio may retain cached file loads**\\r\\n\\r\\nSimply running the Play button won\'t reflect changes to the file, but I found closing and reopening Visual Studio before hitting play to work in some cases.\\r\\n\\r\\n**Unicode and non-Unicode conversion**\\r\\n\\r\\nFor this error message that appears when using OLE DB Source: _\\"Column cannot convert between unicode and non-unicode string data types.\\"_\\r\\nRight-click the OLE DB Source element > Show Advanced Editor > navigate to \\"Input and Output Properties\\" tab > expand \\"OLE DB Source Output\\" > expand \\"Output Columns\\" > check the DataType field for each column reported, and adjust where needed.\\r\\n\\r\\n**Flat file data sources, with double quotations as string delimiter**\\r\\n\\r\\nTo get rid of them, the following can be used in Derived Column transformations **[https://stackoverflow.com/questions/65176461/ssis-flat-file-source-get-rid-of-some-embedded-unwanted-double-quotes](https://stackoverflow.com/questions/65176461/ssis-flat-file-source-get-rid-of-some-embedded-unwanted-double-quotes)**.\\r\\n\\r\\n```\\r\\nREPLACE([4-2-27  Data Conversion 3].Product,\\"\\\\\\"\\",\\"\\")\\r\\n```\\r\\n**Note:** There\'s a backspace before the second double quotation mark, in order to escape the double quotation. Which is ironic since markdown files do the same thing any you may not see it in the code above.\\r\\n\\r\\n\\r\\n**SSIS Derived Columns can truncate flat file columns**\\r\\n\\r\\nThis can be resolved by right-clicking the Derived Column element > Show Advanced Editor, see above Unicode error for same steps, but this time involves changing the length for Derived Column Output **[https://nishantrana.me/2019/05/08/error-the-derived-column-failed-because-truncation-occurred-and-the-truncation-row-disposition-on-derived-column-outputsderived-column-output-columnsfilepath-specifies-failure-on-truncat](https://nishantrana.me/2019/05/08/error-the-derived-column-failed-because-truncation-occurred-and-the-truncation-row-disposition-on-derived-column-outputsderived-column-output-columnsfilepath-specifies-failure-on-truncat)**.\\r\\n\\r\\n**Creating text file-based remapping files may not work if NULLs are involved**\\r\\n\\r\\nRemapping files for Wide World Importers had to be separated from the other 2 data sources because it alone had null on categories. Otherwise produced whitespace that could not be trimmed because it used an ASCII 194 160 combination **[https://stackoverflow.com/questions/42424555/trim-whitespace-ascii-character-194-from-string](https://stackoverflow.com/questions/42424555/trim-whitespace-ascii-character-194-from-string)**.\\r\\n\\r\\n**Data Flow encapsulation**\\r\\n\\r\\nI noticed a strange behaviour where putting the flows to populate both the main State and City tables inside a single dataflow populates just State, but not the City table, but if the flows were separated into their own data flows, then they each populate. Currently suspecting it may be because they share the same OLE DB Source (though different SQL was used).\\r\\n\\r\\n\\r\\nClick **[here](https://github.com/makuharistudio/makuharistudio.github.io/blob/main/src/markdown/posts/2022-01-12.md)** for this post\'s markdown file in GitHub.","photo":"../assets/blog/2022-01-12--00.png\\r"},{"id":1639746000,"title":"How to create a free Azure account to post reports to the Power BI Gallery\\r","name":"how-to-create-a-free-azure-account-to-post-reports-to-the-power-bi-gallery","tech":"logo-azure\\r","tags":"[\\"Azure\\", \\"Power BI\\", \\"Active Directory\\"]\\r","date":"18 December 2021\\r","content":"If your work or school account does not provide you access to Power BI (for the purposes of publishing to Web, specifically the Community Gallery), you can create your own. \\r\\n\\r\\nYou can check your existing account by navigating to **[https://powerbi.microsoft.com](https://powerbi.microsoft.com)**, then clicking \\"Have an account? Sign in\\".\\r\\n\\r\\n![Check Power BI sign in](/src/assets/blog/2021-12-18--01.png)\\r\\n\\r\\nIf you receive the following message:\\r\\n\\r\\n*\\"Sorry, we can\'t sign you up as ...*\\r\\n\\r\\n*Your IT department has turned off signup for Microsoft Power BI. Contact them to complete signup.\\"*\\r\\n\\r\\n![Power BI sign up disabled](/src/assets/blog/2021-12-18--02.png)\\r\\n\\r\\n...and have no sway over your IT department to give you access, you can sign up for a new account instead by clicking \\"No account? Create one!\\", and set up your new email and password.\\r\\n\\r\\n![Azure Sign in create account](/src/assets/blog/2021-12-18--03.png)\\r\\n\\r\\n![Azure create a new account](/src/assets/blog/2021-12-18--04.png)\\r\\n\\r\\nYou can then start your Azure free trial. Fill out your details, which will require providing a mobile number for identity verification.\\r\\n\\r\\n![Azure portal](/src/assets/blog/2021-12-18--05.png)\\r\\n\\r\\nWith your account set up, you can now begin creating your own \\"organisation\\" or tenant, which would have Power BI enabled. Begin by going to Azure Active Directory.\\r\\n\\r\\n![Azure Active Directory](/src/assets/blog/2021-12-18--06.png)\\r\\n\\r\\nClick \\"Manage tenants\\", and create your new tenant.\\r\\n\\r\\n![Azure Active Directory Manage tenants](/src/assets/blog/2021-12-18--07.png)\\r\\n\\r\\nThen create a new user under that tenant domain e.g. yourname@yourtennt.onmicrosoft.com, and ensure that new user is added to the Administrators group of the tenant.\\r\\n\\r\\n![Azure Active Directory Add User](/src/assets/blog/2021-12-18--08.png)\\r\\n\\r\\n![Azure Active Directory Add User Assignment](/src/assets/blog/2021-12-18--08a.png)\\r\\n\\r\\nFor that new user account, assign the roles Power BI Administrator and Power Platform admin, which you can do from **[https://portal.office.com](https://portal.office.com)**.\\r\\n\\r\\n![Microsoft 365 admin center](/src/assets/blog/2021-12-18--09.png)\\r\\n\\r\\nThen you can configure \\"Publish to Web\\" from the Admin portal at **[https://app.powerbi.com](https://app.powerbi.com)**. There are plenty of other resources for setup recommendations. For example, this post from **[Radacad](https://radacad.com/power-bi-administrator-tenant-settings-configuration-you-dont-dare-to-miss)**.\\r\\n\\r\\n![Power BI Admin portal](/src/assets/blog/2021-12-18--10.png)\\r\\n\\r\\nClick **[here](https://github.com/makuharistudio/makuharistudio.github.io/blob/main/src/markdown/posts/2021-12-18.md)** for this post\'s markdown file in GitHub.","photo":"../assets/blog/2021-12-18--00.png\\r"},{"id":1635598800,"title":"Customer support ticket update generator and sample dataset\\r","name":"customer-support-ticket-update-generator-and-sample-dataset","tech":"logo-excel\\r","tags":"[\\"Excel\\", \\"Dataset\\"]\\r","date":"31 October 2021\\r","content":"This is a sample dataset created using Excel randomisation, and you can create your own using the file generator.\\r\\n\\r\\nYou can download or connect to the sample dataset from **[here](https://github.com/makuharistudio/data-visualisation-datasets/blob/main/Support%20ticket%20updates/Support%20ticket%20updates.xlsx?raw=true)**.\\r\\n\\r\\nThe Github repository with the agent photos can be found **[here](https://github.com/makuharistudio/data-visualisation-datasets/tree/main/Support%20ticket%20updates/agents)**.\\r\\n\\r\\nAn Excel random person name and business generator was also used to create this dataset, downloadable **[here](https://github.com/makuharistudio/data-visualisation-datasets/blob/main/Support%20ticket%20updates/Random%20name%20and%20business%20generator.xlsx?raw=true)**.\\r\\n\\r\\nThe dataset contains:\\r\\n - 5000 support tickets\\r\\n - 27780 support ticket update records\\r\\n - 29 agents across 8 countries and 12 cities\\r\\n - 1233 end users across 27 countries and 65 cities\\r\\n - Date/timestamps are based on Sydney, Australia time (AEST GMT+10/AEDT GMT+11)\\r\\n\\r\\nThe first worksheet \\"Updates\\" has the back-and-forth update records for each ticket, indicating if the update is a public user message or agent reply, or an internal message by an Agent.\\r\\n\\r\\n![Support ticket updates](/src/assets/blog/2021-10-31--01.png)\\r\\n\\r\\nThe second worksheet \\"Assignment\\" has the ticket created versus ticket assigned date/time data.\\r\\n\\r\\n![Support ticket assignments](/src/assets/blog/2021-10-31--02.png)\\r\\n\\r\\nThe third worksheet \\"Agents\\" has photo IDs that correlate to the images in this **[Github folder](https://github.com/makuharistudio/data-visualisation-datasets/tree/main/Support%20ticket%20updates/agents)**.\\r\\n\\r\\n![Support ticket agents](/src/assets/blog/2021-10-31--03.png)\\r\\n\\r\\n![Support ticket agent photos](/src/assets/blog/2021-10-31--04.png)\\r\\n\\r\\n\\r\\n**Why this dataset was created?**\\r\\n\\r\\nWorking in a global support team providing follow-the-sun (FTS) customer service, I wanted to be able to visualise the teamwork across staff members.\\r\\n\\r\\nAs I needed a fake dataset to test ideas on, I created an Excel file that randomly generated support ticket update information (e.g. when a end-user opens a ticket, when an agent first replies to the end-user, and the back-and-forth until the ticket becomes solved). The columns used in the dataset are meant to be similar to those seen in CRM systems that provide reporting on such ticket updates (e.g. Zendesk).\\r\\n\\r\\nI noticed my random generator did not account for the ticket IDs being in a realistic sequence, which needs to be amended after extracting the data from the generator. Also, the generator is limited in providing \\"follow-the-sun\\" support update records, so I spent some time manually editing records to demonstrate this in the sample dataset.\\r\\n\\r\\n\\r\\n**Disclaimer**\\r\\n\\r\\nThis dataset is free to use and alter as you need, and no attribution is required, though would be appreciated.\\r\\n\\r\\nAll names in this dataset are fictional and not based on real-life people. The random name generator that was used to create them can be found **[here](https://github.com/makuharistudio/data-visualisation-datasets/blob/main/Support%20ticket%20updates/Random%20name%20and%20business%20generator.xlsx?raw=true)**.\\r\\n\\r\\nPhotographs were taken from **[Pixabay.com](https://pixabay.com/service/license)** and **[Pexels.com](https://www.pexels.com/license)** for non-commercial use, edited to fit the appearance of an organisational profile photo, and direct URL attribution included in the dataset for each photo.\\r\\n\\r\\nThe GitHub repository for this is **[here](https://github.com/makuharistudio/data-visualisation-datasets/tree/main/Support%20ticket%20updates)**.\\r\\n\\r\\nClick **[here](https://github.com/makuharistudio/makuharistudio.github.io/blob/main/src/markdown/posts/2021-10-31.md)** for this post\'s markdown file in GitHub.","photo":"../assets/blog/2021-10-31--00.png\\r"},{"id":1634994000,"title":"Calculate aggregate for grouped rows based on column value, DAX version\\r","name":"calculate-aggregate-for-grouped-rows-based-on-column-value-dax-version","tech":"logo-powerbi\\r","tags":"[\\"Power BI\\", \\"Power Query\\", \\"DAX\\"]\\r","date":"24 October 2021\\r","content":"How to use DAX to find the aggregate value for rows grouped by a column value in Power BI.\\r\\n\\r\\nIn a __[previous post](https://makuharistudio.github.io/#/blog/find-aggregate-value-for-grouped-rows-based-on-column-value)__, I wrote on window aggregation equivalents in Power Query, going on the notion that categorical columns are generally better off done in Power Query using M code, as opposed to done in DAX.\\r\\n\\r\\nHowever, in a Power BI report I am working on, it seemed re-implementing it using DAX had faster report load times than Power Query, which I attributed to existing Power Query merges needed for the model, which slowed down processing. It also required having 2 columns in the model (one for the aggregation, and the other for the conditional result), unlike DAX which only required one.\\r\\n\\r\\nThat M code looked like this:\\r\\n\\r\\n**Power Query M structure**\\r\\n```\\r\\n    #\\"Added Custom 1\\" = Table.NestedJoin(#\\"Previous step\\",\\r\\n                                      {\\"Column A to join on\\"},\\r\\n                                      Table.Group(Table.SelectRows(#\\"Changed Type\\", each ([Column C] = \\"Agent\\")),\\r\\n                                                  {\\"Column A to join on\\"},\\r\\n                                                  {{\\"Result of aggregation\\",\\r\\n                                                  each List.Min([#\\"Column B to aggregate on\\"]), type nullable datetime}}),\\r\\n                                      {\\"Column A to join on\\"},\\r\\n                                      \\"Merged group by table\\",\\r\\n                                      JoinKind.Inner),\\r\\n    #\\"Expanded Merged group by table\\" = Table.ExpandTableColumn(#\\"Added Custom 1\\", \\"Merged group by table\\", {\\"Result of aggregation\\"}, {\\"Result of aggregation\\"}),\\r\\n    #\\"Added Custom 2\\" = Table.AddColumn(#\\"Expanded Merged group by table\\", \\"M column result\\", each if [#\\"Column B to aggregate on\\"] = [#\\"Result of aggregation\\"] then \\"Yes\\" else \\"No\\")\\r\\n```\\r\\n\\r\\nIn this example we\'re still using randomised support ticket update data, and trying to find which agent reply to the user is the first for each Ticket ID.\\r\\n\\r\\n![Sample dataset with only 15 rows of data](/src/assets/blog/2021-10-24--01.png)\\r\\n\\r\\n\\r\\n**Power Query implementation**\\r\\n```\\r\\n    #\\"Added Custom\\" = Table.NestedJoin(#\\"Changed Type\\",\\r\\n                                      {\\"Ticket ID\\"},\\r\\n                                      Table.Group(Table.SelectRows(#\\"Changed Type\\", each ([Updater role] = \\"Agent\\")),\\r\\n                                                  {\\"Ticket ID\\"},\\r\\n                                                  {{\\"Earliest date/time by Ticket ID\\",\\r\\n                                                  each List.Min([#\\"Update - Timestamp\\"]), type nullable datetime}}),\\r\\n                                      {\\"Ticket ID\\"},\\r\\n                                      \\"Merged group by table\\",\\r\\n                                      JoinKind.Inner),\\r\\n    #\\"Expanded Merged group by table\\" = Table.ExpandTableColumn(#\\"Added Custom\\", \\"Merged group by table\\", {\\"Earliest date/time by Ticket ID\\"}, {\\"Earliest date/time by Ticket ID\\"}),\\r\\n    #\\"Added Custom1\\" = Table.AddColumn(#\\"Expanded Merged group by table\\", \\"1st reply?\\", each if [#\\"Update - Timestamp\\"] = [#\\"Earliest date/time by Ticket ID\\"] then \\"Yes\\" else \\"No\\")\\r\\nin\\r\\n    #\\"Added Custom1\\"\\r\\n```\\r\\n\\r\\n![Sample dataset with only 15 rows of data Power Query M code](/src/assets/blog/2021-10-24--02.png)\\r\\n\\r\\n\\r\\n![Sample dataset with only 15 rows of data Power Query performance](/src/assets/blog/2021-10-24--03.png)\\r\\n\\r\\nNow let\'s look at the DAX alternative.\\r\\n\\r\\nIn DAX, we\'ve coded it as a new column, where an initial if condition is used to pre-determine the result for invalid rows (such as messages from client), and the nested false condition checks the remaining canidate rows (messages from agents) to see if the aggregate value (i.e. the earliest *Update - Timestamp*) matches for the existing row for each Ticket ID group.\\r\\n\\r\\n![Sample dataset with only 15 rows of data DAX Add New Column](/src/assets/blog/2021-10-24--04.png)\\r\\n\\r\\n**DAX structure**\\r\\n```\\r\\nDAX column = IF([Column C] = \\"Column value of rows that should be excluded from aggregation\\",\\r\\n                \\"No\\",\\r\\n                IF(Tablename[Column B to aggregate on] = \\r\\n                    CALCULATE (\\r\\n                               MIN ( Tablename[Column B to aggregate on] ),\\r\\n                               FILTER(ALLEXCEPT (Tablename, Tablename[Column A to join on]), Tablename[Column C] = \\"Column value of rows to aggregate on\\" ))\\r\\n                              ,\\"Yes\\"\\r\\n                              ,\\"No\\"\\r\\n                )\\r\\n             )\\r\\n```\\r\\n\\r\\n**DAX implementation**\\r\\n```\\r\\n1st reply? = IF([Updater role] = \\"Client\\",\\r\\n                \\"No\\",\\r\\n                IF(Updates1[Update - Timestamp] = \\r\\n                    CALCULATE (\\r\\n                               MIN ( Updates1[Update - Timestamp] ),\\r\\n                               FILTER(ALLEXCEPT (Updates1, Updates1[Ticket ID]), Updates1[Updater role] = \\"Agent\\" ))\\r\\n                              ,\\"Yes\\"\\r\\n                              ,\\"No\\"\\r\\n                )\\r\\n             )\\r\\n```\\r\\n\\r\\n![Sample dataset with only 15 rows of data DAX code](/src/assets/blog/2021-10-24--05.png)\\r\\n\\r\\n\\r\\n![Sample dataset with only 15 rows of data DAX performance](/src/assets/blog/2021-10-24--06.png)\\r\\n\\r\\n\\r\\nComparing the initial table refreshes from the screenshots above seems to indicate Power Query in this scenario is more performant than DAX.\\r\\n* DAX: 224ms\\r\\n* Power Query: 94ms\\r\\n\\r\\nHowever, this is a flat dataset with only 15 rows. So I set out to test it with a larger flat dataset (27780 rows), and if the results still show Power Query is more performant than DAX for categorical window aggregation, I would test a second time with that larger dataset, but using pre-existing merges to more closer reflect my model.\\r\\n\\r\\n\\r\\n**COMPARING DAX AND M FOR CATEGORICAL WINDOW AGGREGATION**\\r\\n\\r\\nThis blog post compares DAX vs Power Query (M) implementation of this scenario against:\\r\\n1. flat dataset using M for the window aggregation column\\r\\n2. flat dataset using DAX for the window aggregation column\\r\\n3. dataset with existing merge using M for the window aggregation column\\r\\n4. dataset with existing merge using DAX for the window aggregation column\\r\\n\\r\\n**Test 1: Flat dataset using M for the aggregation column**\\r\\n\\r\\n![Large flat dataset using M window aggregation M code](/src/assets/blog/2021-10-24--07.png)\\r\\n\\r\\nNote: Refresh 1 is when the column is first added to the visual.\\r\\n\\r\\n![Large flat dataset using M performance](/src/assets/blog/2021-10-24--09.png)\\r\\n\\r\\n\\r\\n**Test 2: Flat dataset using DAX for the aggregation column**\\r\\n\\r\\n![Large flat dataset using M window aggregation DAX code](/src/assets/blog/2021-10-24--08.png)\\r\\n\\r\\n\\r\\n![Large flat dataset using DAX](/src/assets/blog/2021-10-24--10.png)\\r\\n\\r\\nNow we\'ve applied a simple merge to the dataset to display additional columns.\\r\\n\\r\\n![Large dataset with existing merge](/src/assets/blog/2021-10-24--11.png)\\r\\n\\r\\n\\r\\n**Test 3: Merged dataset using M for the aggregation column**\\r\\n\\r\\n![Large dataset with existing merge using M performance](/src/assets/blog/2021-10-24--12.png)\\r\\n\\r\\n\\r\\n![Large dataset with existing merge using DAX performance](/src/assets/blog/2021-10-24--15.png)\\r\\n\\r\\n\\r\\n**Test 4: Merged dataset using DAX  for the aggregation column**\\r\\n\\r\\n![Large dataset with existing merge using DAX](/src/assets/blog/2021-10-24--13.png)\\r\\n\\r\\n\\r\\n![Large dataset with existing merge using DAX performance](/src/assets/blog/2021-10-24--14.png)\\r\\n\\r\\n\\r\\n![Large dataset with existing merge using DAX performance](/src/assets/blog/2021-10-24--16.png)\\r\\n\\r\\nReviewing these table refresh times, it appears that for data sources involving a merge, using DAX for window aggregations is more performant than using Power Query, whereas it seems to be the reverse for data sources not involving merges.\\r\\n\\r\\n![Comparing table refresh times](/src/assets/blog/2021-10-24--17.png)\\r\\n\\r\\nClick **[here](https://github.com/makuharistudio/makuharistudio.github.io/blob/main/src/markdown/posts/2021-10-24.md)** for this post\'s markdown file in GitHub.","photo":"../assets/blog/2021-10-24--00.png\\r"},{"id":1634389200,"title":"Find aggregate value for grouped rows based on column value\\r","name":"find-aggregate-value-for-grouped-rows-based-on-column-value","tech":"logo-powerbi\\r","tags":"[\\"Power BI\\", \\"Power Query\\"]\\r","date":"17 October 2021\\r","content":"How to use Power Query to find the aggregate value for rows grouped by a column value in Power BI.\\r\\n\\r\\nT-SQL uses the concept of window functions to perform aggregations across groupings of rows, which are based on a specific column\'s values. More info on this can be found on [Pinal Dave\'s blog](https://blog.sqlauthority.com/2015/05/28/sql-server-what-are-t-sql-window-functions-notes-from-the-field-082.\\r\\n\\r\\n```\\r\\nTable.NestedJoin(#\\"Previous step in your Power Query code\\", \\r\\n                 {\\"Column(s) for left side of the join\\"}, \\r\\n                Table.Group(#\\"Previous step in your Power Query code\\", \\r\\n                             {\\"Column(s) to group by\\"}, \\r\\n                             {{\\"New column name for the aggregation result\\", \\r\\n                             each List.Min([#\\"Column to apply aggregation on\\"]), \\r\\n                             type nullable datatypeofyouraggregation}}),\\r\\n                 {\\"Column(s) for right side of the join\\"}, \\r\\n                 \\"New merged group by table name\\",\\r\\n                 JoinKind.Inner)\\r\\n```\\r\\n\\r\\nAs a basic example, say your dataset has rows representing quarterly sales and you need to calculate the proportion of sales which quarter represents for the whole year i.e. Quarterly Sales ÷ Annual Sales.\\r\\n\\r\\nYou can do this by using a preliminary window function to first calculate annual sales by summing the rows based on shared year column values, providing that same value for each row of the group. Then for each row, calculate the proportion from there.\\r\\n\\r\\n![Example concept of Window function](/src/assets/blog/2021-10-17--01.png)\\r\\n\\r\\nThe equivalent of Window functions in Power BI would typically be used for quantitative measures, and are thus more likely to be implemented using DAX calculations.\\r\\n\\r\\nHowever, there can be scenarios where window functions need to employed in a more categorical nature. Going by the general principle that custom measures (i.e. quantitative calculations) should be done in DAX, and that custom columns (typically categorical) should be done in Power Query, the latter is what we will employ here.\\r\\n\\r\\nIn this example scenario\'s dataset, we have 5 unique support ticket numbers, with each row representing an instance where a support agent has sent a response to the end-user for a ticket, as indicated by the date/timestamp.\\r\\n\\r\\n![Example categorical scenario of support ticket response date/timestamps](/src/assets/blog/2021-10-17--02.png)\\r\\n\\r\\nOur objective is to create a column that identifies which rows of data represent the \\"first response\\" to the end-user for each ticket, with that intended 1st response flag being a rudimentary marker to help calculate other support agent statistics we may want (e.g. proportion of support tickets where the 1st responder is the assignee).\\r\\n\\r\\nThis is the equivalent of the previous example\'s proportion of annual sales that quarterly sales represents, in that the creation of a preliminary window function is needed. In our scenario, instead of doing a sum of sales based on rows sharing the same year, we will get the minimum (and hence the first) date/timestamps based on rows sharing the same ticket number.\\r\\n\\r\\nThe approach taken here is to create a new column whose definition is the combination of two common queries:\\r\\n1. The Table.NestedJoin function that\'s commonly seen in *Merge Queries* to combine your existing dataset to the conceptual grouped dataset.\\r\\n2. The Table.Group function creates a conceptual grouped by table of the existing dataset with the desired aggregate result, and that conceptual table being passed as the right-joined table parameter into the Table.NestedJoin.\\r\\n3. Then expand the merged table to display the aggregate result for each row of the original dataset.\\r\\n\\r\\n**Code structure**\\r\\n\\r\\n```\\r\\nTable.NestedJoin(#\\"Previous step in your Power Query code\\", \\r\\n                 {\\"Column(s) for left side of the join\\"}, \\r\\n                Table.Group(#\\"Previous step in your Power Query code\\", \\r\\n                             {\\"Column(s) to group by\\"}, \\r\\n                             {{\\"New column name for the aggregation result\\", \\r\\n                             each List.Min([#\\"Column to apply aggregation on\\"]), \\r\\n                             type nullable datatypeofyouraggregation}}),\\r\\n                 {\\"Column(s) for right side of the join\\"}, \\r\\n                 \\"New merged group by table name\\",\\r\\n                 JoinKind.Inner)\\r\\n```\\r\\n\\r\\n**Example**\\r\\n\\r\\nApplying the code structure above, the M code would be as below:\\r\\n\\r\\n![M code with merged](/src/assets/blog/2021-10-17--03.png)\\r\\n\\r\\n```\\r\\n    #\\"Added Custom\\" = Table.NestedJoin(#\\"Changed Type\\", \\r\\n                                       {\\"Ticket ID\\"},\\r\\n                                       Table.Group(#\\"Changed Type\\",\\r\\n                                                   {\\"Ticket ID\\"},\\r\\n                                                   {{\\"1st response\\",\\r\\n                                                   each List.Min([#\\"Update - Timestamp\\"]), type nullable datetime}}),\\r\\n                                       {\\"Ticket ID\\"},\\r\\n                                       \\"Merged group by table\\",\\r\\n                                       JoinKind.Inner)\\r\\n```\\r\\n\\r\\nThe result of the new column addition (which is a merged table), will appear as below.\\r\\n\\r\\n![Power Query with new column for merged Group By table](/src/assets/blog/2021-10-17--04.png)\\r\\n\\r\\nThen you simply need to expand out the aggregate column from the merge.\\r\\n\\r\\n![Power Query expand merged Group By table to display the aggregate column 1](/src/assets/blog/2021-10-17--05.png)\\r\\n\\r\\n![Power Query expand merged Group By table to display the aggregate column 2](/src/assets/blog/2021-10-17--06.png)\\r\\n\\r\\nNow that the preliminary window function is complete, we can address the example objective of creating a custom column to indicate which data row per Ticket ID represents the first support agent response to an end-user, which is a simple if condition to compare the \\"Update - Timestamp\\" and \\"1st response\\" columns.\\r\\n\\r\\n![Power Query if condition for example custom column](/src/assets/blog/2021-10-17--07.png)\\r\\n\\r\\n![Power Query final example custom column](/src/assets/blog/2021-10-17--08.png)\\r\\n\\r\\nIn this way, regardless of how the data is sorted in Power Query, the records representing the 1st responses will remain.\\r\\n\\r\\nClick **[here](https://github.com/makuharistudio/makuharistudio.github.io/blob/main/src/markdown/posts/2021-10-17.md)** for this post\'s markdown file in GitHub.","photo":"../assets/blog/2021-10-17--00.png\\r"},{"id":1633784400,"title":"Dynamically apply time zone and daylight savings on date/times in Power BI\\r","name":"dynamically-apply-time-zone-and-daylight-savings-on-datetimes-in-power-bi","tech":"logo-powerbi\\r","tags":"[\\"Power BI\\", \\"Power Query\\"]\\r","date":"10 October 2021\\r","content":"How to use Power Query to apply time zone offsets based on daylight savings \\"anchors\\" on date/times using a parameter, and without needing a separate calendar table in Power BI.\\r\\n\\r\\nThe final product is being able to use a Parameter to select a desired time zone, and apply it to your dataset\'s \\"Date/Time\\" column, and produce a \\"Date/Time/Zone\\" value.\\r\\n![Power BI Tokyo example](/src/assets/blog/2021-10-10--01.png)\\r\\n\\r\\nWhat makes this different from the DateTime.Zone function alone, is that this method respects when the UTC offset changes based on time zone by creating custom functions to do this.\\r\\n\\r\\nThis post incorporates my previous posts on [how to import time zone and daylight saving observations from Wikipedia](https://makuharistudio.github.io/#/blog/import-time-zone-offsets-and-observations-from-wikipedia-in-power-bi), which indicate when different offsets are applied (e.g. first Sunday of October), and my post on [how to find the nth day of a month](https://makuharistudio.github.io/#/blog/find-date-for-the-nth-day-of-a-month-in-power-bi) to convert those into usable \\"anchors\\" to determine the offset value for the date/times.\\r\\n\\r\\n**Note:** This is not an appropriate solution to time zone application in terms of data accuracy, processing efficiency, and coding involved. Ideally a predefined dataset or an API with actual date/time values for observation period start/ends would be best.\\r\\n\\r\\nA good example of this can be found in [a blog post by John White](https://whitepages.unlimitedviz.com/2020/10/dynamic-time-zone-conversion-using-power-bi)\\r\\n\\r\\nThis post shows how date/time anchor values can be used as an alternative way to solve this problem, which does not use calendar tables nor APIs.\\r\\n\\r\\nThis is the **[sample date/time dataset](https://github.com/makuharistudio/makuharistudio.github.io/blob/main/src/assets/blog/Date_times_to_convert.xlsx?raw=true)** we will dynamically apply time zone offsets to via parameter selection.\\r\\n\\r\\nNote there is no time zone in the data itself, so assumptions made by any application (e.g. user\'s machine time zone) may be incorrect.\\r\\n\\r\\n![Sample date time dataset in Excel](/src/assets/blog/2021-10-10--02.png)\\r\\n\\r\\n![Sample date time dataset imported into Power Query](/src/assets/blog/2021-10-10--03.png)\\r\\n\\r\\nAfter importing the sample date/time dataset, we next import the combined time zone offset and daylight savings observation **[dataset](https://github.com/makuharistudio/makuharistudio.github.io/blob/main/src/assets/blog/Time_zone_offsets_and_DST_observations.xlsx?raw=true)** created in this [post](https://makuharistudio.github.io/#/blog/import-time-zone-offsets-and-observations-from-wikipedia-in-power-bi).\\r\\n\\r\\nAt this point, if you only need certain time zones to select from, you can filter for them here before proceeding.\\r\\n\\r\\n![Offset and observation dataset imported into Power Query](/src/assets/blog/2021-10-10--04.png)\\r\\n\\r\\nNext, we will create a list from the Timezone column, to be used as the available selections of the parameter.\\r\\n\\r\\n![Power Query Convert to List Part A](/src/assets/blog/2021-10-10--05.png)\\r\\n\\r\\n![Power Query Convert to List Part B](/src/assets/blog/2021-10-10--06.png)\\r\\n\\r\\nThen set up the parameter itself to pull from that list.\\r\\n\\r\\n![Power Query Create new parameter](/src/assets/blog/2021-10-10--07.png)\\r\\n\\r\\n![Power Query Manage Parameters Part A](/src/assets/blog/2021-10-10--08.png)\\r\\n\\r\\n![Power Query Manage Parameters Part B](/src/assets/blog/2021-10-10--09.png)\\r\\n\\r\\nNext, we create a new column in the sample dataset whose value is the parameter selection.\\r\\n\\r\\n![Power Query custom column for Parameter value Part A](/src/assets/blog/2021-10-10--10.png)\\r\\n\\r\\n![Power Query custom column for Parameter value Part B](/src/assets/blog/2021-10-10--11.png)\\r\\n\\r\\nThen merge the two datasets using that new custom column.\\r\\n![Power Query Merge Queries](/src/assets/blog/2021-10-10--12.png)\\r\\n\\r\\n![Power Query Merge Queries](/src/assets/blog/2021-10-10--13.png)\\r\\n\\r\\nWhilst expanding the merged table, we can prefix the column names, which may be useful if intending to merge multiple times, e.g. parameter for data source\'s actual time zone vs parameter for desired time zone. We will only do the merge once, in this example.\\r\\n\\r\\n![Power Query expand merge queries Part A](/src/assets/blog/2021-10-10--14.png)\\r\\n\\r\\n![Power Query expand merge queries Part B](/src/assets/blog/2021-10-10--15.png)\\r\\n\\r\\nOur next step is to create a custom column to convert our Date/Time value to match the time zone of the parameter selection. This is not as simple as appending an offset to our Date/Time value, because of these considerations\\r\\n\\r\\na. The need to account for different Date/Time offsets based on standard vs daylight savings.\\r\\n\\r\\nb. The anchor dataset (which determines whether or not daylight savings is applied) has a mix of data structures e.g. anchor date/times can be either UTC or local time-based, and can either have a specific date of the month, or relative day position of the month.\\r\\n\\r\\nc. The datasets\' standard and daylight saving offset values are in a text based structure e.g. \\"+10:00\\", rather than straight numbers, which are more easily consumed by Power Query functions (e.g. *DateTime.AddZone()*).\\r\\n\\r\\nBefore we create the custom column, we will need 3 custom functions.\\r\\n1. A simple suffix of the standard or daylight daylight offset to the Date/Time value to make it a DateTimeZone value, which we\'ll name **DatetimeToDatetimezone**.\\r\\n2. A slightly more complex function that pulls in all date anchor values to convert to an actual date. But it only lets single parameters to pass for the time anchor (which could be UTC or local time) and offset (standard or daylight saving), which we\'ll name **AnchorToDatetimezone**.\\r\\n3. The complex function that applies the time zone to the Date/Time value, factoring in daylight saving and standard time observation by using the previous two functions, which we\'ll name **DatetimeAppendZone**.\\r\\n\\r\\nBeginning with the simple **DatetimeToDatetimezone** custom function, which is meant to resolve consideration *c)*.\\r\\n\\r\\n![Power Query create custom function Part A](/src/assets/blog/2021-10-10--16.png)\\r\\n\\r\\n![Power Query create custom function Part B](/src/assets/blog/2021-10-10--17.png)\\r\\n\\r\\n```\\r\\nlet\\r\\n  DatetimeToDatetimezone = (DateTimestamp as datetime, Offset as nullable text) => \\r\\n    DateTimeZone.FromText(DateTime.ToText(DateTimestamp) & \\" \\" & Offset)\\r\\nin\\r\\n  DatetimeToDatetimezone\\r\\n```\\r\\n\\r\\n![Power Query create 1st custom function](/src/assets/blog/2021-10-10--18.png)\\r\\n\\r\\nNext we create the second custom function **AnchorToDatetimezone**, which takes in the dependent date/time value to get the year, and nullable parameters for time, offset, and the anchors for month, day, and *n*th occurrence of the day within the month. It checks the data structure to create the anchor\'s date, and appends the time and offset values passed into it.\\r\\n\\r\\n* The first if condition checks that there are no incorrect nor incomplete data structures.\\r\\n* The first else if condition creates the date time zone if there is a date anchor e.g. \\"21st\\" of given month.\\r\\n* The second and third else if conditions convert to date time zones based on 1st, 2nd, 3rd, or 4th occurrence of specified day anchors, and are based on this previous [post](https://makuharistudio.github.io/#/blog/find-date-for-the-nth-day-of-a-month-in-power-bi).\\r\\n* The fourth and fifth if else conditions convert based on the last occurrence of the specified day anchor, based on the last section of that same [post](https://makuharistudio.github.io/#/blog/find-date-for-the-nth-day-of-a-month-in-power-bi).\\r\\n\\r\\n```\\r\\nlet\\r\\n  AnchorToDatetimezone = (DateTimestamp as datetime, MonthAnchor as nullable number, DayAnchor as nullable number, PositionAnchor as nullable number, DateAnchor as nullable number, Time as nullable time, Offset as nullable text) => \\r\\n  /* Error-handling based on insufficient data or incorrect value combination */\\r\\n  if (MonthAnchor = null) \\r\\n    or (DateAnchor = null and DayAnchor = null)\\r\\n    or (DateAnchor <> null and DayAnchor <> null)\\r\\n    or (DayAnchor <> null and PositionAnchor = null)\\r\\n    or (DayAnchor = null and PositionAnchor <> null)\\r\\n    or (Time = null)\\r\\n    or (Offset = null)\\r\\n  then \\"Incomplete data\\"\\r\\n  /* Applying time zone to DateTimestamp, with separate conditions for position anchor = 9 i.e. \\"Last\\" */\\r\\n  else if DateAnchor <> null\\r\\n    then Text.From(Date.Year(DateTimestamp)) & \\"/\\" & Text.From(MonthAnchor)  & \\"/\\" & Text.From(DateAnchor) & \\" \\" & Text.From(Time) & Offset\\r\\n  else if DayAnchor < 6 and PositionAnchor > 0 and PositionAnchor < 5\\r\\n  /* Optional parameter in Date.DayOfWeek 1 = Day.Monday will get Sunday, hence DayAnchor (Sunday = 0) + 1 */\\r\\n    then Text.From(Date.Year(DateTimestamp)) & \\"/\\" & Text.From(MonthAnchor) & \\"/\\" & Text.From( (7 - Date.DayOfWeek(Date.FromText(Text.From(Date.Year(DateTimestamp)) & \\"/\\" & Text.From(MonthAnchor) & \\"/1\\"), DayAnchor + 1)) + (-7 + (7 * PositionAnchor)) ) & \\" \\" & Text.From(Time) & Offset\\r\\n  /* Need to pass Day.Sunday to get Saturday */\\r\\n  else if DayAnchor = 6 and PositionAnchor > 0 and PositionAnchor < 5\\r\\n    then Text.From(Date.Year(DateTimestamp)) & \\"/\\" & Text.From(MonthAnchor) & \\"/\\" & Text.From( (7 - Date.DayOfWeek(Date.FromText(Text.From(Date.Year(DateTimestamp)) & \\"/\\" & Text.From(MonthAnchor) & \\"/1\\"), Day.Sunday )) + (-7 + (7 * PositionAnchor)) ) & \\" \\" & Text.From(Time) & Offset\\r\\n  /* handling for last specific day of month */\\r\\n  else if DayAnchor = 0 and PositionAnchor = 9\\r\\n    then Text.From(Date.AddDays(Date.EndOfMonth(Date.From(Text.From(Date.Year(DateTimestamp)) & \\"/\\" & Text.From(MonthAnchor) & \\"/1\\")),(-1 * Number.From(Date.DayOfWeek(Date.EndOfMonth(Date.From(Text.From(Date.Year(DateTimestamp)) & \\"/\\" & Text.From(MonthAnchor) & \\"/1\\")), Day.Sunday))))) & \\" \\" & Text.From(Time) & Offset\\r\\n  else if DayAnchor > 0 and PositionAnchor = 9\\r\\n    then Text.From(Date.AddDays(Date.EndOfMonth(Date.From(Text.From(Date.Year(DateTimestamp)) & \\"/\\" & Text.From(MonthAnchor) & \\"/1\\")),(-1 * (Number.From(Date.DayOfWeek(Date.EndOfMonth(Date.From(Text.From(Date.Year(DateTimestamp)) & \\"/\\" & Text.From(MonthAnchor) & \\"/1\\")), Day.Sunday)) + ( 7 - DayAnchor ))))) & \\" \\" & Text.From(Time) & Offset\\r\\n  else null\\r\\nin\\r\\n  AnchorToDatetimezone\\r\\n```\\r\\n\\r\\n![Power Query create 2nd custom function](/src/assets/blog/2021-10-10--19.png)\\r\\n\\r\\nThe third custom function **DatetimeAppendZone** uses the **AnchorToDatetimezone** custom function to create date/time anchors for the start and end of daylight savings, then compares them with the Date/Time value to determine if standard or daylight savings offsets should be suffixed to the Date/Time value, using the **DatetimeToDatetimezone** custom function.\\r\\n\\r\\nSome data sources may be incorrectly failing to account for daylight savings differences. In this third custom function, you can use the \\"Difference\\" parameter to add/subtract the missed hour(s) to compensate for those. The code below does not do that, but you can add it in, if required.\\r\\n\\r\\n```\\r\\nlet\\r\\n  DatetimeAppendZone = (DateTimestamp as datetime, Difference as number, StandardOffset as nullable text, DaylightOffset as nullable text, DSTstartAncDate as nullable number, DSTstartAncPosition as nullable number, DSTstartAncDay as nullable number, DSTstartAncMonth as nullable number, DSTstartAncUTC as nullable time, DSTstartAncLocal as nullable time, DSTendAncDate as nullable number, DSTendAncPosition as nullable number, DSTendAncDay as nullable number, DSTendAncMonth as nullable number, DSTendAncUTC as nullable time, DSTendAncLocal as nullable time) => \\r\\n  /* Validation to ensure same time anchor types for start and end are used */\\r\\n  if Difference <> 0 and ( (DSTstartAncLocal = null and DSTstartAncUTC = null) or (DSTendAncLocal = null and DSTendAncUTC = null) )\\r\\n    then \\"Incomplete data\\"\\r\\n\\r\\n  /* Where DST is not observed, just append Standard UTC offset */\\r\\n  else if Difference = 0\\r\\n    then DatetimeToDatetimezone(DateTimestamp, StandardOffset)\\r\\n\\r\\n  /* From this point on, if using a data source that doesn\'t properly account for Daylight Savings offsets, you can factor those into the calculations */\\r\\n\\r\\n  /* Where DST is observed with Standard time result */\\r\\n  else if Difference <> 0\\r\\n    and (\\r\\n          (\\r\\n           /* Where local offset is used, 1 DST period in same year, datetimestamp is outside daylight savings */\\r\\n           DSTstartAncLocal <> null and DSTstartAncMonth < DSTendAncMonth\\r\\n           and ( DatetimeToDatetimezone(DateTimestamp,StandardOffset) < DateTimeZone.From(AnchorToDatetimezone(DateTimestamp, DSTstartAncMonth, DSTstartAncDay, DSTstartAncPosition, DSTstartAncDate, DSTstartAncLocal, StandardOffset))\\r\\n                or DatetimeToDatetimezone(DateTimestamp,StandardOffset) > DateTimeZone.From(AnchorToDatetimezone(DateTimestamp, DSTendAncMonth, DSTendAncDay, DSTendAncPosition, DSTendAncDate, DSTendAncLocal, StandardOffset)) )\\r\\n          )\\r\\n      or  (\\r\\n           /* Where local offset is used, 2 DST periods in same year, datetimestamp is outside both daylight savings periods */\\r\\n           DSTstartAncLocal <> null and DSTstartAncMonth > DSTendAncMonth \\r\\n           and Date.Month(DateTimestamp) >= DSTendAncMonth and Date.Month(DateTimestamp) <= DSTstartAncMonth\\r\\n           and DatetimeToDatetimezone(DateTimestamp,DaylightOffset) > DateTimeZone.From(AnchorToDatetimezone(DateTimestamp, DSTendAncMonth, DSTendAncDay, DSTendAncPosition, DSTendAncDate, DSTendAncLocal, DaylightOffset))\\r\\n           and DatetimeToDatetimezone(DateTimestamp,DaylightOffset) < DateTimeZone.From(AnchorToDatetimezone(Date.AddYears(DateTimestamp,1), DSTstartAncMonth, DSTstartAncDay, DSTstartAncPosition, DSTstartAncDate, DSTstartAncLocal, DaylightOffset))           \\r\\n          )\\r\\n      or  (\\r\\n           /* Where UTC offset is used, 1 DST period in same year, datetimestamp is inside daylight savings */\\r\\n           DSTstartAncUTC <> null and DSTstartAncMonth < DSTendAncMonth\\r\\n           and ( DateTimeZone.ToUtc(DatetimeToDatetimezone(DateTimestamp,StandardOffset)) <  DateTimeZone.FromText(AnchorToDatetimezone(DateTimestamp, DSTstartAncMonth, DSTstartAncDay, DSTstartAncPosition, DSTstartAncDate, DSTstartAncUTC, \\"+00:00\\"))\\r\\n                 or DateTimeZone.ToUtc(DatetimeToDatetimezone(DateTimestamp,StandardOffset)) > DateTimeZone.FromText(AnchorToDatetimezone(DateTimestamp, DSTendAncMonth, DSTendAncDay, DSTendAncPosition, DSTendAncDate, DSTendAncUTC, \\"+00:00\\")) )\\r\\n          )\\r\\n    )\\r\\n    then DatetimeToDatetimezone(DateTimestamp, StandardOffset)\\r\\n\\r\\n  /* Where DST is observed with Dayliht Saving time result */\\r\\n  else if Difference <> 0\\r\\n    and (\\r\\n          (\\r\\n           /* Where local offset is used, 1 DST period within same year, datetimestamp is inside daylight savings */    \\r\\n           DSTstartAncLocal <> null and DSTstartAncMonth < DSTendAncMonth\\r\\n           and ( DatetimeToDatetimezone(DateTimestamp,StandardOffset) >= DateTimeZone.From(AnchorToDatetimezone(DateTimestamp, DSTstartAncMonth, DSTstartAncDay, DSTstartAncPosition, DSTstartAncDate, DSTstartAncLocal, StandardOffset))\\r\\n                or DatetimeToDatetimezone(DateTimestamp,StandardOffset) <= DateTimeZone.From(AnchorToDatetimezone(DateTimestamp, DSTendAncMonth, DSTendAncDay, DSTendAncPosition, DSTendAncDate, DSTendAncLocal, StandardOffset)) )\\r\\n          )\\r\\n      or  (\\r\\n           /* Where local offset is used, 2 DST periods in same year, datetimestamp is inside 1st daylight savings period */\\r\\n           DSTstartAncLocal <> null and DSTstartAncMonth > DSTendAncMonth and Date.Month(DateTimestamp) <= DSTendAncMonth\\r\\n           and DatetimeToDatetimezone(DateTimestamp,DaylightOffset) <= DateTimeZone.From(AnchorToDatetimezone(DateTimestamp, DSTendAncMonth, DSTendAncDay, DSTendAncPosition, DSTendAncDate, DSTendAncLocal, DaylightOffset))\\r\\n          )\\r\\n      or  (\\r\\n           /* Where local offset is used, 2 DST periods in same year, datetimestamp is inside 2nd daylight savings period */\\r\\n           DSTstartAncLocal <> null and DSTstartAncMonth > DSTendAncMonth and Date.Month(DateTimestamp) >= DSTendAncMonth\\r\\n           and DatetimeToDatetimezone(DateTimestamp,DaylightOffset) >= DateTimeZone.From(AnchorToDatetimezone(DateTimestamp, DSTstartAncMonth, DSTstartAncDay, DSTstartAncPosition, DSTstartAncDate, DSTstartAncLocal, DaylightOffset))\\r\\n          )\\r\\n      or  (\\r\\n           /* Where UTC offset is used, 1 DST period in same year, datetimestamp is outside daylight savings */\\r\\n           DSTstartAncUTC <> null and DSTstartAncMonth < DSTendAncMonth\\r\\n           and DateTimeZone.ToUtc(DatetimeToDatetimezone(DateTimestamp,StandardOffset)) >=  DateTimeZone.From(AnchorToDatetimezone(DateTimestamp, DSTstartAncMonth, DSTstartAncDay, DSTstartAncPosition, DSTstartAncDate, DSTstartAncUTC, \\"+00:00\\"))\\r\\n           and DateTimeZone.ToUtc(DatetimeToDatetimezone(DateTimestamp,StandardOffset)) <= DateTimeZone.From(AnchorToDatetimezone(DateTimestamp, DSTendAncMonth, DSTendAncDay, DSTendAncPosition, DSTendAncDate, DSTendAncUTC, \\"+00:00\\")) \\r\\n          )\\r\\n    )\\r\\n    then DatetimeToDatetimezone(DateTimestamp, DaylightOffset)\\r\\n  else null\\r\\nin\\r\\n  DatetimeAppendZone\\r\\n```\\r\\n\\r\\n![Power Query create 3rd custom function](/src/assets/blog/2021-10-10--20.png)\\r\\n\\r\\nNow that our functions are complete, we can use the third **DatetimeAppendZone** to create the custom column which converts Date/Time to a datetimezone value, by passing in all the respective anchors as parameters.\\r\\n\\r\\n```\\r\\nDatetimeAppendZone([#\\"Date/Time\\"],[#\\"Daylight offset - Standard offset\\"],[Standard UTC offset],[Daylight Saving UTC offset],[#\\"DST start (date anchor)\\"],[#\\"DST start (position anchor)\\"],[#\\"DST start (day anchor)\\"],[#\\"DST start (month anchor)\\"],[#\\"DST start (UTC time anchor)\\"],[#\\"DST start (local time anchor)\\"],[#\\"DST end (date anchor)\\"],[#\\"DST end (position anchor)\\"],[#\\"DST end (day anchor)\\"],[#\\"DST end (month anchor)\\"],[#\\"DST end (UTC time anchor)\\"],[#\\"DST end (local time anchor)\\"])\\r\\n```\\r\\n\\r\\n![Power BI Create report](/src/assets/blog/2021-10-10--21.png)\\r\\n\\r\\nIf we now create a table in the Power BI\'s report designer, we can see the appropriate suffixing of standard vs daylight saving offsets to our Date/Time values as we change the parameter. Then we can test to see if, regardless of the data structure used for the daylight savings anchoring, that the appropriate offset is applied to our Date/Time dataset.\\r\\n\\r\\nAustralia, Sydney is a time zone that uses local time and non-\\"last position\\" for its daylight savings start and end anchors.\\r\\n![Power BI Sydney example Part A](/src/assets/blog/2021-10-10--22a.png)\\r\\n\\r\\n![Power BI Sydney example Part B](/src/assets/blog/2021-10-10--22.png)\\r\\n\\r\\nEurope, Dublin is a time zone that uses UTC time and \\"last position\\" (indicated by the 9), for its anchors.\\r\\n![Power BI Dublin example Part A](/src/assets/blog/2021-10-10--23a.png)\\r\\n\\r\\n![Power BI Dublin example Part B](/src/assets/blog/2021-10-10--23.png)\\r\\n\\r\\nAfrica, Casablanca is a time zone that uses a fixed date of the month for its anchors.\\r\\n![Power BI Casablanca example Part A](/src/assets/blog/2021-10-10--24a.png)\\r\\n\\r\\n![Power BI Casablanca example Part B](/src/assets/blog/2021-10-10--24.png)\\r\\n\\r\\nSo now we have created a parameterised way of defining our data source\'s time zone, with potential to compensate for skipped daylight savings conversions it may have, by using the concept of anchor values to construct relative date/times.\\r\\n\\r\\nUse cases for this include:\\r\\n1. Dynamically converting date/times to another time zone e.g. a report reader from one time zone wanting to know the date/times from the perspective of another time zone.\\r\\n2. The admittedly rare instance where the time zone of date/times may vary at access or export when creating a datset.\\r\\n\\r\\nAn example where I encountered use case #2, was manually exporting data from Explore, the reporting tool for the Zendesk customer service platform, where date/times are automatically converted to match the time zone of the extractor\'s Zendesk login.\\r\\n\\r\\nIn that scenario, if multiple people from different time zones are creating or maintaining dashboards not made in the native Explore tool (e.g. via Power BI), their extract date times can be inconsistent.\\r\\n\\r\\nThere are simple ways around this:\\r\\n* Creating a shared account fixed to a specific time zone for data extracts.\\r\\n* Having access to the data source\'s API.\\r\\n\\r\\nYou can take this further for other solutions, such as hard-coding the desired time zone, or make it based on the values of another column e.g. time zone is based on country or city values.\\r\\n\\r\\n\\r\\nClick **[here](https://github.com/makuharistudio/makuharistudio.github.io/blob/main/src/markdown/posts/2021-10-10.md)** for this post\'s markdown file in GitHub.","photo":"../assets/blog/2021-10-10--00.png\\r"},{"id":1633183200,"title":"Import time zone offsets and observations from Wikipedia in Power BI\\r","name":"import-time-zone-offsets-and-observations-from-wikipedia-in-power-bi","tech":"logo-powerbi\\r","tags":"[\\"Power BI\\", \\"Power Query\\"]\\r","date":"3 October 2021\\r","content":"How to use Power BI to scrape Wikipedia pages and create a data source for UTC time zone offsets and daylight saving observation anchors (e.g. the first Sunday of October).\\r\\n\\r\\nHere we will be importing Wikipedia table data from 2 different pages. The first example contains structured data values requiring minimal data cleaning. The second contains data which requires disaggregation of qualitative information to make it more quantitative.\\r\\n\\r\\nTime zone offset hours\\r\\n[https://en.wikipedia.org/wiki/List_of_tz_database_time_zones](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones)\\r\\n\\r\\n![Wikipedia List of tz database time zones](/src/assets/blog/2021-10-03--01.png)\\r\\n\\r\\nDaylight Saving observation period anchors\\r\\n[https://en.wikipedia.org/wiki/Daylight_saving_time_by_country](https://en.wikipedia.org/wiki/Daylight_saving_time_by_country)\\r\\n\\r\\n![Wikipedia Daylight saving time by country](/src/assets/blog/2021-10-03--02.png)\\r\\n\\r\\n**Exercise 1:**\\r\\n\\r\\nBeginning with the time zone offset hours, we Get Data from Web and provide the URL.\\r\\n\\r\\n![Power BI Import data from a web page](/src/assets/blog/2021-10-03--03.png)\\r\\n\\r\\nSelect the Basic option. The intention is to export the results to Excel, as opposed to a live ongoing connection. This is to mitigate problems regarding source page changes and connection delays.\\r\\n\\r\\n![Power BI Import data Basic setting and set URL](/src/assets/blog/2021-10-03--04.png)\\r\\n\\r\\nThe HTML table we are after is the list containing the offsets.\\r\\nTick it, then click Transform Data.\\r\\n\\r\\n![Power BI Import data web page table selection](/src/assets/blog/2021-10-03--05.png)\\r\\n\\r\\nNext we Use First Row as Headers to assign the column names.\\r\\n\\r\\n![Power Query Use First Row as Headers](/src/assets/blog/2021-10-03--06.png)\\r\\n\\r\\nThen we add new custom columns to substitute existing columns to clean the data.\\r\\n\\r\\nFirst we add a new column to substitute the TZ database name column, replacing the single forward slashes “/” with forward slashes surrounded by spaces “ / “, and replace the underscores “_” with spaces “ “, for readability.\\r\\n\\r\\n```\\r\\nText.Replace(Text.Replace([TZ database name],\\"/\\", \\", \\"),\\"_\\",\\" \\")\\r\\n```\\r\\n\\r\\n![Power Query Replace text to make more readable](/src/assets/blog/2021-10-03--07.png)\\r\\n\\r\\nSecondly, the data source’s offsets use a different dash character \\"−\\" (slightly longer) from the mathematical operator \\"-\\" (shorter), so we need to create custom columns to substitute the longer dash with the shorter one.\\r\\n\\r\\nFor the Standard UTC offset:\\r\\n\\r\\n```\\r\\nText.Replace([#\\"UTC offset ±hh:mm\\"],\\"−\\",\\"-\\")\\r\\n```\\r\\n![Power Query Custom Column: Standard UTC offset](/src/assets/blog/2021-10-03--08.png)\\r\\n\\r\\nFor the Daylight Saving UTC offset:\\r\\n\\r\\n```\\r\\nText.Replace([#\\"UTC DST offset ±hh:mm\\"],\\"−\\",\\"-\\")\\r\\n```\\r\\n![Power Query Custom Column: Daylight Saving UTC offset](/src/assets/blog/2021-10-03--09.png)\\r\\n\\r\\nNow to add a column that shows the difference between the standard and daylight savings offsets.\\r\\nThe nature of the data means you cannot subtract them in a simple way.\\r\\nComments are included in the code to explain what is occurring.\\r\\n\\r\\n```\\r\\n/* If the offsets are identical, it may imply no Daylight Saving observed */\\r\\nif [Standard UTC offset] = [Daylight Saving UTC offset]\\r\\nthen 0\\r\\n\\r\\n/* If minutes are the same and aren\'t zero, just subtract hours */\\r\\nelse if (Text.End([Standard UTC offset],2) <> \\"00\\" or \\r\\nText.End([Daylight Saving UTC offset],2) <> \\"00\\") and Text.End([Standard UTC offset],2) = Text.End([Daylight Saving UTC offset],2)\\r\\nthen Number.FromText(Text.Range([Daylight Saving UTC offset],0,3)) - Number.FromText(Text.Range([Standard UTC offset],0,3))\\r\\n\\r\\n/* If minutes are different and either of them aren\'t zero, convert minutes to proper decimals, subtract, then convert minutes back */\\r\\nelse if (Text.End([Standard UTC offset],2) <> \\"00\\" or \\r\\nText.End([Daylight Saving UTC offset],2) <> \\"00\\") and Text.End([Standard UTC offset],2) <> Text.End([Daylight Saving UTC offset],2)\\r\\nthen (Number.FromText(Text.Range([Daylight Saving UTC offset],1,2)) + (Number.FromText(Text.End([Daylight Saving UTC offset],2)) / 60)) - (Number.FromText(Text.Range([Standard UTC offset],1,2)) + (Number.FromText(Text.End([Standard UTC offset],2)) / 60))\\r\\n\\r\\n/* Standard expectation that difference is only in the hour values */\\r\\nelse Number.FromText(Text.Range([Daylight Saving UTC offset],1,2)) - Number.FromText(Text.Range([Standard UTC offset],1,2))\\r\\n```\\r\\n\\r\\n![Power Query Custom Column: Offset difference](/src/assets/blog/2021-10-03--10.png)\\r\\n\\r\\nNext we filter out the data rows not required, starting with only including Canonical status offsets\\r\\n\\r\\n![Power Query Filter for Canonical records](/src/assets/blog/2021-10-03--11.png)\\r\\n\\r\\nThen we filter for time zones that have a country code.\\r\\n\\r\\n![Power Query Filter for country codes](/src/assets/blog/2021-10-03--12.png)\\r\\n\\r\\nLastly, remove columns that won’t be needed, depending on what you need for your data source.\\r\\n\\r\\n![Power Query Remove other columns](/src/assets/blog/2021-10-03--13.png)\\r\\n\\r\\nIn my scenario, I want to retain this data separately in an Excel file, so I create a table in Power BI with all the columns, then Export.\\r\\n\\r\\n![Power BI Export table results](/src/assets/blog/2021-10-03--14.png)\\r\\n\\r\\n\\r\\n\\r\\n**Exercise 2:**\\r\\n\\r\\nFor our second dataset, we need to retrieve the relative anchors for daylight saving periods using the second URL: [https://en.wikipedia.org/wiki/Daylight_saving_time_by_country](https://en.wikipedia.org/wiki/Daylight_saving_time_by_country)\\r\\n\\r\\n![Power BI Import data Basic setting and set URL](/src/assets/blog/2021-10-03--15.png)\\r\\n\\r\\nAgain, click Transform Data and Use First Row as Headers.\\r\\n\\r\\n![Power BI Import data web page table selection](/src/assets/blog/2021-10-03--16.png)\\r\\n\\r\\n![Power Query Use First Row as Headers](/src/assets/blog/2021-10-03--17.png)\\r\\n\\r\\nNext we filter for records with a valid current DST start value.\\r\\n\\r\\n![Power Query Filter for valid DST start](/src/assets/blog/2021-10-03--18.png)\\r\\n\\r\\nThe problem with this dataset is that the DST start and DST end columns are not quantified at a low enough level to be easily worked with. Revising these columns, we can see value commonalities that can be separated out into custom columns as declartive “anchors” for each daylight saving period’s start and end.\\r\\n\\r\\nThis includes:\\r\\n* Positions (i.e. first, second, third, fourth, last)\\r\\n* Weekday names\\r\\n* Month names\\r\\n* “UTC” prefixed with a specific UTC time (e.g. 01:00 UTC), or prefixed with a non-UTC time (e.g. 002:00 AST (UTC-4)\\r\\n* Phrases “local standard time” and “local daylight saving time” prefixed with a time\\r\\n\\r\\n![Power Query Exploring qualitative data values](/src/assets/blog/2021-10-03--19.png)\\r\\n\\r\\nThe custom columns are base conditions that check for substrings and substitute them with numerical data where possible, so they can be referenced by other custom functions.\\r\\n\\r\\nWe’ll begin with the position-related column.\\r\\n\\r\\nEvery day has at least four occurrences in each month, but the “last” position could either be the fourth or fifth occurrence of that day. I chose to use an arbitrary value of 9 for the output of last, given 5 could possibly be used for the fifth instance of the day. Note: With this particular dataset, neither Fourth nor Fifth occur, so they can be omitted here if you want.\\r\\n\\r\\n```\\r\\nif Text.Contains([DST start], \\"First\\")\\r\\nthen 1\\r\\nelse if Text.Contains([DST start], \\"Second\\")\\r\\nthen 2\\r\\nelse if Text.Contains([DST start], \\"Third\\")\\r\\nthen 3\\r\\nelse if Text.Contains([DST start], \\"Fourth\\")\\r\\nthen 4\\r\\nelse if Text.Contains([DST start], \\"Fifth\\")\\r\\nthen 5\\r\\nelse if Text.Contains([DST start], \\"Last\\")\\r\\nthen 9\\r\\nelse null\\r\\n```\\r\\n\\r\\n![Power Query Custom Column: DST start position anchor](/src/assets/blog/2021-10-03--20.png)\\r\\n\\r\\nNext to create a custom column for the weekdays, using Power Query’s Day functions, which translate as numbers from 0 for Sunday to 6 for Saturday.\\r\\n\\r\\n```\\r\\nif Text.Contains([DST start], \\"Sunday\\")\\r\\nthen Day.Sunday\\r\\nelse \\r\\nif Text.Contains([DST start], \\"Monday\\")\\r\\nthen Day.Monday\\r\\nelse \\r\\nif Text.Contains([DST start], \\"Tuesday\\")\\r\\nthen Day.Tuesday\\r\\nelse \\r\\nif Text.Contains([DST start], \\"Wednesday\\")\\r\\nthen Day.Wednesday\\r\\nelse \\r\\nif Text.Contains([DST start], \\"Thursday\\")\\r\\nthen Day.Thursday\\r\\nelse \\r\\nif Text.Contains([DST start], \\"Friday\\")\\r\\nthen Day.Friday\\r\\nelse \\r\\nif Text.Contains([DST start], \\"Saturday\\")\\r\\nthen Day.Saturday\\r\\nelse null\\r\\n```\\r\\n\\r\\n![Power Query Custom Column: DST start day anchor](/src/assets/blog/2021-10-03--21.png)\\r\\n\\r\\nWe repeat with similar logic for the DST start field’s month anchor. At time of writing, Power Query has a function that converts month numbers to month names, but not the other way around.\\r\\n\\r\\n```\\r\\nif Text.Contains([DST start], \\"January\\")\\r\\nthen 1\\r\\nelse if Text.Contains([DST start], \\"February\\")\\r\\nthen 2\\r\\nelse if Text.Contains([DST start], \\"March\\")\\r\\nthen 3\\r\\nelse if Text.Contains([DST start], \\"April\\")\\r\\nthen 4\\r\\nelse if Text.Contains([DST start], \\"May\\")\\r\\nthen 5\\r\\nelse if Text.Contains([DST start], \\"June\\")\\r\\nthen 6\\r\\nelse if Text.Contains([DST start], \\"July\\")\\r\\nthen 7\\r\\nelse if Text.Contains([DST start], \\"August\\")\\r\\nthen 8\\r\\nelse if Text.Contains([DST start], \\"September\\")\\r\\nthen 9\\r\\nelse if Text.Contains([DST start], \\"October\\")\\r\\nthen 10\\r\\nelse if Text.Contains([DST start], \\"November\\")\\r\\nthen 11\\r\\nelse if Text.Contains([DST start], \\"December\\")\\r\\nthen 12\\r\\nelse null\\r\\n```\\r\\n\\r\\n![Power Query Custom Column: DST start month anchor](/src/assets/blog/2021-10-03--22.png)\\r\\n\\r\\nLastly, we will pull where a UTC time is specified. There are entries where a local time with its UTC offset value is provided, but since these entries are few and complex to manage, I will edit the export result afterward to account for these. It’s a cost vs benefit juggle.\\r\\n\\r\\n```\\r\\nif Text.Contains([DST start], \\" UTC\\") then Text.Range([DST start], Text.PositionOf([DST start],\\" UTC\\") - 5, 5) else null\\r\\n```\\r\\n\\r\\n![Power Query Custom Column: DST start UTC time anchor](/src/assets/blog/2021-10-03--23.png)\\r\\n\\r\\nRinse-and-repeat the creation of those anchor columns. An alternative is creating a custom function to make it easier to manage later on.\\r\\n\\r\\n![Power Query Custom Columns for DST end](/src/assets/blog/2021-10-03--24.png)\\r\\n\\r\\nThen we can retain the columns we need, such as Country/Territory, Notes, and the custom columns we created.\\r\\n\\r\\n![Power Query Remove other columns](/src/assets/blog/2021-10-03--25.png)\\r\\n\\r\\nLastly, as with the previous dataset, we will export this to Excel, and clean up the file from there, e.g. accounting for records that have a different data structure for their anchors, such as an exact date for day and month per year, and records that include local time, etc.\\r\\n\\r\\n![Power BI Export table results](/src/assets/blog/2021-10-03--26.png)\\r\\n\\r\\nAt this point, we typically would merge these datasets, similar to left outer joins in SQL. Unfortunately, the first dataset uses an incoherent structure for its time zone name values, e.g. _country, city_ or _region, city_ or _region, country, city_ etc., as opposed to the second data set, which only lists country.\\r\\n\\r\\n![Power Query Merge Queries](/src/assets/blog/2021-10-03--27.png)\\r\\n\\r\\nI tried fuzzy matching, but as at time of writing, it cannot connect a high enough number of the records, regardless of adjustments made to the accuracy.\\r\\n\\r\\n![Power Query Merge using fuzzy matching](/src/assets/blog/2021-10-03--28.png)\\r\\n\\r\\nAn alternative solution would be to create a list based on the second dataset’s county column, but this would neglect the _region, city_ joins from the first dataset. Another would be to find a third dataset to extend the other datasets and formulate a common column for the merge.\\r\\n\\r\\nIn my scenario, it would be more time efficient to do the mapping manually, as this dataset is small, and intended for a niche non-scaled need. \\r\\n\\r\\nFind a copy of the end product to download as an Excel file **[here](https://github.com/makuharistudio/makuharistudio.github.io/blob/main/src/assets/blog/Time_zone_offsets_and_DST_observations.xlsx?raw=true)**.\\r\\n\\r\\nAs a reminder, this is strictly an exercise file, and its data is not comprehensive nor accurate, so please be mindful of that if using it.\\r\\n\\r\\n![Manually cleaned output](/src/assets/blog/2021-10-03--29.png)\\r\\n\\r\\nClick **[here](https://github.com/makuharistudio/makuharistudio.github.io/blob/main/src/markdown/posts/2021-10-03.md)** for this post\'s markdown file in GitHub.","photo":"../assets/blog/2021-10-03--00.png\\r"},{"id":1632578400,"title":"Find date for the nth day of a month in Power BI\\r","name":"find-date-for-the-nth-day-of-a-month-in-power-bi","tech":"logo-powerbi\\r","tags":"[\\"Power BI\\", \\"Power Query\\"]\\r","date":"26 September 2021\\r","content":"How to use Power Query to find the date for the nth day of a month/year based on another date column (e.g. 3rd Tuesday of October 2021).\\r\\n\\r\\nIn Power BI this can be used for the conditional logic of other Custom Columns. For example, to create indicators that data rows occur on or fall between relative date ranges (e.g. Black Friday sales). The following involves adding a Custom Column in Power Query i.e. M code, not DAX.\\r\\n\\r\\nThis finds the first Monday of the month, where our dependent date column is OurDateField.\\r\\n\\r\\n```\\r\\nDate.FromText(Text.From(Date.Year([OurDateField])) & \\"/10/\\" & Text.From((7 - (Date.DayOfWeek(Date.FromText(Text.From(Date.Year([OurDateField])) & \\"/10/1\\"),Day.Monday)))))\\r\\n```\\r\\n\\r\\n![Power Query: 1st Sunday of month](/src/assets/blog/2021-09-26--01.png)\\r\\n\\r\\n**How it works**\\r\\n\\r\\nTo find the first Sunday of a specific month/year relative to another date, first establish the start of the month e.g. 1/10 (1st October), passing in the date field you are using e.g. [OurDateField], to append its year.\\r\\n\\r\\n```\\r\\nDate.FromText(Text.From(Date.Year([OurDateField])) & \\"/10/1\\")\\r\\n```\\r\\n\\r\\nIn this example, we are hard-coding October regardless of OurDateField’s month value, but if you need it to be relative to its month too, simply add an extra concatenation for month in the same way year is treated, i.e. using Date.Month().\\r\\n\\r\\nNow we need to identify what day of the week that this first day of the month is, using Date.DayOfWeek, and setting the optional parameter for what the start of the week is, as Day.Monday\\r\\n\\r\\n```\\r\\nDate.DayOfWeek(Date.FromText(Text.From(Date.Year([OurDateField])) & \\"/10/1\\"),Day.Monday)\\r\\n```\\r\\n\\r\\n![Power Query: Day of week number](/src/assets/blog/2021-09-26--02.png)\\r\\n\\r\\n \\r\\nIn this example, 1st October 2021 is a Friday, and Friday’s day number is 4 (with Monday being 0).\\r\\n\\r\\n![Calendar: Weekday of 1st day of month](/src/assets/blog/2021-09-26--03.png)\\r\\n\\r\\nIf you do not provide the Day.Monday parameter, it will default to Day.Monday in the background. If another parameter is used e.g. Day.Sunday, then the assignment numbers will change.\\r\\n\\r\\nNow we subtract the weekday number 4 from 7, and get 3, which is the first Sunday’s date.\\r\\n\\r\\n```\\r\\n7 - (Date.DayOfWeek(Date.FromText(Text.From(Date.Year([OurDateField])) & \\"/10/1\\"),Day.Monday))\\r\\n```\\r\\n\\r\\n![Power Query: Date of 1st Sunday](/src/assets/blog/2021-09-26--04.png)\\r\\n\\r\\nThen concatenate this with the year month retrieved earlier\\r\\n\\r\\n```\\r\\nDate.FromText(Text.From(Date.Year([OurDateField])) & \\"/10/\\" & Text.From((7 - (Date.DayOfWeek(Date.FromText(Text.From(Date.Year([OurDateField])) & \\"/10/1\\"),Day.Monday)))))\\r\\n```\\r\\n\\r\\n![Power Query: Concatenate the month year to the date](/src/assets/blog/2021-09-26--05.png)\\r\\n\\r\\nIf you need to change the weekday that Power Query needs to find, simply increment the Day.Monday parameter to the following day of the desired weekday.\\r\\n\\r\\nFor example, if you want to find the first Wednesday, change the parameter to Day.Thursday.\\r\\n\\r\\n```\\r\\nDate.FromText(Text.From(Date.Year([OurDateField])) & \\"/10/\\" & Text.From((7 - (Date.DayOfWeek(Date.FromText(Text.From(Date.Year([OurDateField])) & \\"/10/1\\"),Day.Thursday)))))\\r\\n```\\r\\n\\r\\n![Power Query: 1st Wednesday of month](/src/assets/blog/2021-09-26--06.png)\\r\\n\\r\\n![Calendar: 1st Wednesday of the month](/src/assets/blog/2021-09-26--07.png)\\r\\n\\r\\nIf you need to change the position from first, to second, third, or fourth Sunday, simply add 7 for the second, 14 for the third, and 21 for the fourth.\\r\\n\\r\\nFor example, we will retrieve the 3rd Sunday.\\r\\n\\r\\n```\\r\\nDate.FromText(Text.From(Date.Year([OurDateField])) & \\"/10/\\" & Text.From((7 - (Date.DayOfWeek(Date.FromText(Text.From(Date.Year([OurDateField])) & \\"/10/1\\"),Day.Monday)) + 14 )))\\r\\n```\\r\\n\\r\\n![Calendar: 3rd Sunday of the month](/src/assets/blog/2021-09-26--08.png)\\r\\n\\r\\n\\r\\n\\r\\n**Edit: 9th October 2021**\\r\\n\\r\\nIf the last occurrence of a specific day in a month needs to be retrieved, it can possibly be the 4th or 5th instance of that day. Retrieving this may be required for conditional or other custom column dependencies. \\r\\n\\r\\nAs an example, this Power Query code finds the last Sunday of the month, where our dependent date column is OurDateField.\\r\\n\\r\\n```\\r\\nDate.AddDays(Date.EndOfMonth([OurDateField]),(-1 * Number.From(Date.DayOfWeek(Date.EndOfMonth([OurDateField]), Day.Sunday))))\\r\\n```\\r\\n![Power Query Day number of last of the month year Day.Sunday](/src/assets/blog/2021-09-26--12.png)\\r\\n\\r\\n**How it works**\\r\\n\\r\\nWe will try to retrieve the last Sunday of a specific month/year, passing in our relative *OurDateField*.\\r\\n\\r\\n```\\r\\nDate.EndOfMonth([OurDateField])\\r\\n```\\r\\n![Power Query last day of the month year](/src/assets/blog/2021-09-26--09.png)\\r\\n\\r\\nThen find out which day of the week it is.\\r\\n\\r\\n```\\r\\nDate.DayOfWeek(Date.EndOfMonth([OurDateField]), Day.Monday)\\r\\n```\\r\\n![Power Query Day number of last of the month year Day.Monday](/src/assets/blog/2021-09-26--10.png)\\r\\n\\r\\nIn this example, 31st January 2021 is a Sunday, and Sunday’s day number is 6. This is if the optional parameter for start of the week is Day.Monday (which is the default, if not provided).\\r\\n\\r\\n![Calendar using Day.Monday](/src/assets/blog/2021-09-26--11.png)\\r\\n\\r\\nNow we will swap that Day.Monday parameter out with Day.Sunday, so that the value for Sunday becomes 0 instead of 6.\\r\\n\\r\\n```\\r\\nDate.DayOfWeek(Date.EndOfMonth([OurDateField]), Day.Sunday)\\r\\n```\\r\\n![Power Query Day number of last of the month year Day.Sunday](/src/assets/blog/2021-09-26--12.png)\\r\\n\\r\\n![Calendar using Day.Sunday](/src/assets/blog/2021-09-26--13.png)\\r\\n\\r\\nWe then minus this number from the last date of the month, to get the last Sunday of the month, which ironically is the same day i.e. Sunday 31/01/2021 - 0 = 31/01/2021. We do this using the Date.AddDays function and multiplying the number with -1.\\r\\n\\r\\n```\\r\\nDate.AddDays(Date.EndOfMonth([OurDateField]),(-1 * Number.From(Date.DayOfWeek(Date.EndOfMonth([OurDateField]), Day.Sunday))))\\r\\n```\\r\\n![Power Query last date Sunday](/src/assets/blog/2021-09-26--14.png)\\r\\n\\r\\nLastly, if you need to pick any other last specific day of the month, just increment by one for each day you want to go earlier in the week e.g. Saturday is +1, Friday is +2 etc.\\r\\n\\r\\nFor example, the last Friday of the month year.\\r\\n\\r\\n```\\r\\nDate.AddDays(Date.EndOfMonth([OurDateField]),(-1 * (Number.From(Date.DayOfWeek(Date.EndOfMonth([OurDateField]), Day.Sunday)) + 2)))\\r\\n```\\r\\n![Power Query last date Friday](/src/assets/blog/2021-09-26--15.png)\\r\\n\\r\\n![Power Query last date Friday](/src/assets/blog/2021-09-26--16.png)\\r\\n\\r\\nClick **[here](https://github.com/makuharistudio/makuharistudio.github.io/blob/main/src/markdown/posts/2021-09-26.md)** for this post\'s markdown file in GitHub.","photo":"../assets/blog/2021-09-26--00.png\\r"}]');function p4(){const n=zd.length,a=Rd.length;return D.jsxs("content",{className:"content-no-bg",children:[D.jsx("center",{children:D.jsx("h1",{children:"ABOUT"})}),D.jsx("br",{}),D.jsx("br",{}),D.jsx(xs,{children:D.jsxs("div",{id:"about",children:[D.jsx("img",{src:zD,alt:"avatar"}),D.jsxs("div",{id:"about-desc",children:[D.jsxs("div",{id:"about-title",children:[D.jsx("img",{src:RD,alt:""}),D.jsx("img",{src:ID,alt:""}),D.jsx("img",{src:PD,alt:""})]}),D.jsx("p",{children:"A tech-savvy consultant with over 12 years client services experience in the advertising software and healthcare industries."}),D.jsx("p",{children:"Specialist in application problem-solving and performing data analysis with SQL querying, Excel data models, and Power BI."}),D.jsxs("ul",{children:[D.jsxs("li",{children:[n," side projects since October 2021"]}),D.jsxs("li",{children:[a," blog posts since Sep 2021"]})]})]})]})}),D.jsx("br",{}),D.jsx("br",{}),D.jsx("br",{}),D.jsx(h4,{}),D.jsx("br",{}),D.jsx("br",{}),D.jsx("br",{}),D.jsx(r4,{}),D.jsx("br",{}),D.jsx("br",{}),D.jsx("br",{}),D.jsx("center",{children:D.jsx("h2",{children:"SITE CREDITS"})}),D.jsx(xs,{children:D.jsxs("div",{id:"credits",children:[D.jsx("p",{children:"I designed and coded this website, but also incorporated the following:"}),D.jsxs("ul",{children:[D.jsx("li",{children:D.jsxs("p",{children:["Creating a React site with URL path management: a LinkedIn Learning course by Shaun Wassell ",D.jsx("a",{href:"https://www.linkedin.com/learning/react-creating-and-hosting-a-full-stack-site-24928483/defining-environment-variables",target:"_blank",children:"https://www.linkedin.com/learning/react-creating-and-hosting-a-full-stack-site-24928483/defining-environment-variables"}),"."]})}),D.jsx("li",{children:D.jsxs("p",{children:["JavaScript code that renders multiple page data from markdown: a YouTube tutorial by Will Ward ",D.jsx("a",{href:"https://www.youtube.com/watch?v=gT1v33oA1gI&list=PLASldBPN_pkBfRXOkBOaeCJYzCnISw5-Z",target:"_blank",children:"https://www.youtube.com/watch?v=gT1v33oA1gI&list=PLASldBPN_pkBfRXOkBOaeCJYzCnISw5-Z"}),"."]})}),D.jsx("li",{children:D.jsxs("p",{children:["Three.js code for a rotating Earth: a YouTube tutorial by Robot Bobby ",D.jsx("a",{href:"https://www.youtube.com/watch?v=FntV9iEJ0tU",target:"_blank",children:"https://www.youtube.com/watch?v=FntV9iEJ0tU"}),"."]})})]}),D.jsxs("p",{children:["To create your own GitHub Pages site using React, you can refer to this site's ",D.jsx("a",{href:"https://github.com/makuharistudio/makuharistudio.github.io",target:"_blank",children:"README"})," on GitHub."]})]})})]})}const Id="/assets/img-2021-10-power-bi-quarterly-singapore-rental-prices-by-currency-original-CwHgzC0-.png",Pd="/assets/img-2021-10-power-bi-quarterly-singapore-rental-prices-by-currency-DRqH-BJD.gif",Bd="/assets/img-2021-10-power-bi-quarterly-singapore-rental-prices-by-currency-DzmDo5wY.png",Nd="/assets/img-2021-11-power-bi-follow-the-sun-customer-support-original-trimmed-B3ca5T7J.png",Ud="/assets/img-2021-11-power-bi-follow-the-sun-customer-support-original-B2Ig6zIv.png",jd="/assets/img-2021-11-power-bi-follow-the-sun-customer-support-previous-COTtGLLi.png",Fd="/assets/img-2021-11-power-bi-follow-the-sun-customer-support-BTfFtLlJ.gif",Hd="/assets/img-2021-11-power-bi-follow-the-sun-customer-support-BTD_ixIU.png",qd="/assets/img-2022-01-sql-server-integration-services-international-marketplace-trimmed-BY36NJxj.png",Vd="/assets/img-2022-01-sql-server-integration-services-international-marketplace-B-aiuGpr.png",Gd="/assets/img-2022-04-power-bi-international-marketplace-python-deneb-original-D3Fk3wtD.png",Yd="/assets/img-2022-04-power-bi-international-marketplace-python-deneb-previous-9jg07XaV.png",Qd="/assets/img-2022-04-power-bi-international-marketplace-python-deneb-Bj5ZeCeY.gif",Xd="/assets/img-2022-04-power-bi-international-marketplace-python-deneb-CBbtHBl8.png",Wd="/assets/img-2022-06-excel-customer-support-agent-performance-original-BkK14kN9.png",Zd="/assets/img-2022-06-excel-customer-support-agent-performance-Oj0_rXIX.gif",Kd="/assets/img-2022-06-excel-customer-support-agent-performance-C8S9Zb7x.png",Jd="/assets/img-2022-08-satellite-launch-overview-mHp2kvlH.gif",$d="/assets/img-2022-10-excel-international-marketplace-profit-forecast-original-rL6-YDgw.png",eh="/assets/img-2022-10-excel-international-marketplace-profit-forecast-DgzDdmOb.gif",th="/assets/img-2022-11-power-bi-appsource-deneb-maps-CLOvmfwS.gif";function f4({projects:n}){const[a,s]=R.useState(null);if(!n)return D.jsx("div",{children:"No projects available"});const i=n.flatMap(h=>JSON.parse(h.tags)),l=[...new Set(i)].sort(),c=a?n.filter(h=>JSON.parse(h.tags).includes(a)):n,d={color:"var(--button-font-color-hover)",border:"1px solid var(--button-font-color-hover)"};return D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"filter",children:[D.jsx("button",{onClick:()=>s(null),style:a===null?d:{},children:"ALL PROJECTS"}),l.map(h=>D.jsx("button",{onClick:()=>s(h),style:a===h?d:{},children:h},h))]}),D.jsx("div",{id:"portfolio-list",children:c.map(h=>{const f=h.photo.startsWith("http")?h.photo:new URL(Object.assign({"../assets/portfolio/img-2021-10-power-bi-quarterly-singapore-rental-prices-by-currency-original.png":Id,"../assets/portfolio/img-2021-10-power-bi-quarterly-singapore-rental-prices-by-currency.gif":Pd,"../assets/portfolio/img-2021-10-power-bi-quarterly-singapore-rental-prices-by-currency.png":Bd,"../assets/portfolio/img-2021-11-power-bi-follow-the-sun-customer-support-original-trimmed.png":Nd,"../assets/portfolio/img-2021-11-power-bi-follow-the-sun-customer-support-original.png":Ud,"../assets/portfolio/img-2021-11-power-bi-follow-the-sun-customer-support-previous.png":jd,"../assets/portfolio/img-2021-11-power-bi-follow-the-sun-customer-support.gif":Fd,"../assets/portfolio/img-2021-11-power-bi-follow-the-sun-customer-support.png":Hd,"../assets/portfolio/img-2022-01-sql-server-integration-services-international-marketplace-trimmed.png":qd,"../assets/portfolio/img-2022-01-sql-server-integration-services-international-marketplace.png":Vd,"../assets/portfolio/img-2022-04-power-bi-international-marketplace-python-deneb-original.png":Gd,"../assets/portfolio/img-2022-04-power-bi-international-marketplace-python-deneb-previous.png":Yd,"../assets/portfolio/img-2022-04-power-bi-international-marketplace-python-deneb.gif":Qd,"../assets/portfolio/img-2022-04-power-bi-international-marketplace-python-deneb.png":Xd,"../assets/portfolio/img-2022-06-excel-customer-support-agent-performance-original.png":Wd,"../assets/portfolio/img-2022-06-excel-customer-support-agent-performance.gif":Zd,"../assets/portfolio/img-2022-06-excel-customer-support-agent-performance.png":Kd,"../assets/portfolio/img-2022-08-satellite-launch-overview.gif":Jd,"../assets/portfolio/img-2022-10-excel-international-marketplace-profit-forecast-original.png":$d,"../assets/portfolio/img-2022-10-excel-international-marketplace-profit-forecast.gif":eh,"../assets/portfolio/img-2022-11-power-bi-appsource-deneb-maps.gif":th})[`../assets/portfolio/${h.photo.split("/").pop().trim()}`],import.meta.url).href;return D.jsx(Lr,{to:"/portfolio/"+h.name,children:D.jsxs(xs,{children:[D.jsx("h4",{children:h.title}),D.jsx("h5",{children:h.date}),D.jsx("img",{src:f,loading:"lazy",alt:h.title}),D.jsx("p",{children:h.desc})]})},h.name)})})]})}function g4(){return D.jsxs(D.Fragment,{children:[D.jsxs("center",{children:[D.jsx("h1",{children:"PORTFOLIO"}),D.jsx("h3",{children:"These are personal projects I created whilst exploring different technologies."})]}),D.jsx(f4,{projects:zd})]})}const nh="/assets/2021-09-26--00-CcYaH9C9.png",rh="/assets/2021-09-26--01-CN2UEg_u.png",ah="/assets/2021-09-26--02-DcXVAYrq.png",sh="/assets/2021-09-26--03-DEOW-nZy.png",oh="/assets/2021-09-26--04-QiKdQCfc.png",ih="/assets/2021-09-26--05-BpR1Uth4.png",lh="/assets/2021-09-26--06-CZ9B3zyN.png",uh="/assets/2021-09-26--07-ZeJ8X8ib.png",ch="/assets/2021-09-26--08-DQi7Slko.png",dh="/assets/2021-09-26--09-Deji7B9x.png",hh="/assets/2021-09-26--10-ulqXh80B.png",ph="/assets/2021-09-26--11-g50LgiWd.png",fh="/assets/2021-09-26--12-D52VG_t7.png",gh="/assets/2021-09-26--13-BZX8gER8.png",mh="/assets/2021-09-26--14-Cmgy--G1.png",bh="/assets/2021-09-26--15-rVAhqHMK.png",yh="/assets/2021-09-26--16-BT9Ub-kJ.png",vh="/assets/2021-10-03--00-Bkz2nrZd.png",wh="/assets/2021-10-03--01-Cv8vGuEW.png",_h="/assets/2021-10-03--02-9NLB3zrT.png",xh="/assets/2021-10-03--03-BI0-9vjk.png",Sh="/assets/2021-10-03--04-C4Sjx6LV.png",kh="/assets/2021-10-03--05-lLyWTVhA.png",Th="/assets/2021-10-03--06-RQWN-iFL.png",Dh="/assets/2021-10-03--07-DZ3DLhlu.png",Ch="/assets/2021-10-03--08-iAaa3aqQ.png",Ah="/assets/2021-10-03--09-CQKSdiQK.png",Eh="/assets/2021-10-03--10-YgO-AgqZ.png",Oh="/assets/2021-10-03--11-MCTJbUXw.png",Mh="/assets/2021-10-03--12-B1SbH3DF.png",Lh="/assets/2021-10-03--13-BaHJOdir.png",zh="/assets/2021-10-03--14-BHA1g5qz.png",Rh="/assets/2021-10-03--15-Cl_kMgVm.png",Ih="/assets/2021-10-03--16-BwmhFDeq.png",Ph="/assets/2021-10-03--17-yN-E_DGG.png",Bh="/assets/2021-10-03--18-DJewq8lU.png",Nh="/assets/2021-10-03--19-LMrFezWQ.png",Uh="/assets/2021-10-03--20-yXUJkANj.png",jh="/assets/2021-10-03--21-BJaj4FXr.png",Fh="/assets/2021-10-03--22-aISiaK4Y.png",Hh="/assets/2021-10-03--23-DMFG-08T.png",qh="/assets/2021-10-03--24-BX0Z1B76.png",Vh="/assets/2021-10-03--25-DCxXWRlp.png",Gh="/assets/2021-10-03--26-D4B7qHE7.png",Yh="/assets/2021-10-03--27-qINw90dY.png",Qh="/assets/2021-10-03--28-BLaBL1CA.png",Xh="/assets/2021-10-03--29-DNcz_ipR.png",Wh="/assets/2021-10-10--00-D_QAl427.png",Zh="/assets/2021-10-10--01-DCMXf4Qs.png",Kh="/assets/2021-10-10--02-8-Jl4wuD.png",Jh="/assets/2021-10-10--03-DvjLWL93.png",$h="/assets/2021-10-10--04-DQTlpT5a.png",ep="/assets/2021-10-10--05-T8X2flk0.png",tp="/assets/2021-10-10--06-B-wIKEBi.png",np="/assets/2021-10-10--07-lAHiGVC0.png",rp="/assets/2021-10-10--08-B13ggMM1.png",ap="/assets/2021-10-10--09-C3A-q0W7.png",sp="/assets/2021-10-10--10-B88AE_JU.png",op="/assets/2021-10-10--11-B9NygW-9.png",ip="/assets/2021-10-10--12-O_pKLe2Q.png",lp="/assets/2021-10-10--13-B-yHAJoe.png",up="/assets/2021-10-10--14-DIiMS1q9.png",cp="/assets/2021-10-10--15-CXMzzsJr.png",dp="/assets/2021-10-10--16-DYU8EcU0.png",hp="/assets/2021-10-10--17-mslEC_xz.png",pp="/assets/2021-10-10--18-BEyhXMYz.png",fp="/assets/2021-10-10--19-B6bIpLy0.png",gp="/assets/2021-10-10--20-DRDr5d6X.png",mp="/assets/2021-10-10--21-BNvX9777.png",bp="/assets/2021-10-10--22-XThAwSGx.png",yp="/assets/2021-10-10--22a-BbH3M5An.png",vp="/assets/2021-10-10--23-O7-nDyxL.png",wp="/assets/2021-10-10--23a-DGDWQQ3U.png",_p="/assets/2021-10-10--24-BWOFpnK6.png",xp="/assets/2021-10-10--24a-DsjKr18f.png",Sp="/assets/2021-10-17--00-wSQNmKSE.png",kp="/assets/2021-10-17--01-DbYAffHu.png",Tp="/assets/2021-10-17--02-B8Khk-t2.png",Dp="/assets/2021-10-17--03-Ce9ULgVe.png",Cp="/assets/2021-10-17--04-yX3EQtPv.png",Ap="/assets/2021-10-17--05-CM0iIh72.png",Ep="/assets/2021-10-17--06-CFZjFcWQ.png",Op="/assets/2021-10-17--07-BhOiAbYb.png",Mp="/assets/2021-10-17--08-BaaXf0PT.png",Lp="/assets/2021-10-24--00-DMpn07a8.png",zp="/assets/2021-10-24--01-CkFbMREY.png",Rp="/assets/2021-10-24--02-DvWJ9dVz.png",Ip="/assets/2021-10-24--03-Bsa4xjoj.png",Pp="/assets/2021-10-24--04-DWrQbnij.png",Bp="/assets/2021-10-24--05-BpI-zY7p.png",Np="/assets/2021-10-24--06-ChB3NF68.png",Up="/assets/2021-10-24--07-B8140qtS.png",jp="/assets/2021-10-24--08-BrbRPykg.png",Fp="/assets/2021-10-24--09-Cqk71G2L.png",Hp="/assets/2021-10-24--10-Bq-CnBa-.png",qp="/assets/2021-10-24--11-D5riVssO.png",Vp="/assets/2021-10-24--12-B_PIsuFM.png",Gp="/assets/2021-10-24--13-7YQJEqzW.png",Yp="/assets/2021-10-24--14-B4sg7sva.png",Qp="/assets/2021-10-24--15-Yk0ja-SD.png",Xp="/assets/2021-10-24--16-7O2-5KTE.png",Wp="/assets/2021-10-24--17-COMaX37c.png",Zp="/assets/2021-10-31--00-PRVDH4XG.png",Kp="/assets/2021-10-31--01-CgQymK0O.png",Jp="/assets/2021-10-31--02-BBStEqpG.png",$p="/assets/2021-10-31--03-CJvDizX5.png",ef="/assets/2021-10-31--04-BTGJmZaz.png",tf="/assets/2021-12-18--00-BFTix12d.png",nf="/assets/2021-12-18--01-D45zoY_T.png",rf="/assets/2021-12-18--02-HMON8EFr.png",af="/assets/2021-12-18--03-D1VfoBGQ.png",sf="/assets/2021-12-18--04-BmR22aCu.png",of="/assets/2021-12-18--05-Vw5DiO3t.png",lf="/assets/2021-12-18--06-C5LY2K9e.png",uf="/assets/2021-12-18--07-BE9iwhX_.png",cf="/assets/2021-12-18--08-CSmdBFtz.png",df="/assets/2021-12-18--08a-Czzc_gcT.png",hf="/assets/2021-12-18--09-DdsCMemD.png",pf="/assets/2021-12-18--10-Cehmz-2Q.png",ff="/assets/2022-01-12--00-DqRcqM4V.png",gf="/assets/2022-01-12--01-Dj-3qpd4.png",mf="/assets/2022-01-12--01a-BxT7OUeU.png",bf="/assets/2022-01-12--02-CGrffE9U.png",yf="/assets/2022-01-12--03-D2TbHEe5.png",vf="/assets/2022-01-12--04-C6v3i3tZ.png",wf="/assets/2022-01-12--05-CQLH12-P.png",_f="/assets/2022-01-12--06-ORqpgS30.png",xf="/assets/2022-01-12--07-CMBkP9X6.png",Sf="/assets/2022-01-12--08-CVxq747K.png",kf="/assets/2022-01-12--09-Bp1EhYSw.png",Tf="/assets/2022-01-12--10-BPuIR5Zt.png",Df="/assets/2022-02-27--00-DzvNr9Dg.png",Cf="/assets/2022-02-27--01-Clup5RBd.png",Af="/assets/2022-02-27--02-DqsgNlxH.png",Ef="/assets/2022-02-27--03-_mFsCc3Z.png",Of="/assets/2022-02-27--04-BdiSZH_D.png",Mf="/assets/2022-02-27--05-B_MA6XbD.png",Lf="/assets/2022-02-27--06-qdRJJmbc.png",zf="/assets/2022-02-27--07-Bcu9JLzb.png",Rf="/assets/2022-02-27--08-CWLh3uzC.png",If="/assets/2022-04-17--00-DfSYK6QT.png",Pf="/assets/2022-04-17--01-agelPGzU.png",Bf="/assets/2022-04-17--02-IWB4pf2s.png",Nf="/assets/2022-04-17--03-tjerC9kA.png",Uf="/assets/2022-04-17--04-CG3JvIVw.png",jf="/assets/2022-04-17--05-BffQ6ORa.png",Ff="/assets/2022-04-17--06-CHMOigMd.png",Hf="/assets/2022-04-17--07-r3696-G9.png",qf="/assets/2022-04-17--08-CPbhZFV2.png",Vf="/assets/2022-04-17--09-qXFRKZ_m.png",Gf="/assets/2022-04-17--10-DK4rBiUn.png",Yf="/assets/2022-04-17--11-CEywFBwl.png",Qf="/assets/2022-04-17--12-BHS680Yb.png",Xf="/assets/2022-04-17--13-ttXz3XOo.png",Wf="/assets/2022-04-17--14-BO4Iyil_.png",Zf="/assets/2022-04-17--15-Cwh8hTMp.png",Kf="/assets/2022-04-17--16-laKvuRZU.png",Jf="/assets/2022-04-17--17-Cm6T-z8A.png",$f="/assets/2022-04-17--18-DoGubWy8.png",eg="/assets/2022-04-17--19-BpkNlCGR.png",tg="/assets/2022-04-17--20-AZH2QUhl.png",ng="/assets/2022-04-17--21-Cxi1IbeO.png",rg="/assets/2022-04-17--22-CxTLPbjn.png",ag="/assets/2022-04-17--23-CJleFwgX.png",sg="/assets/2022-04-17--24-D7lLKw0c.png",og="/assets/2022-04-17--25-D9t23en4.png",ig="/assets/2022-04-17--26-adRwJCLu.png",lg="/assets/2022-04-17--27-DnXc35r9.png",ug="/assets/2022-04-17--28-CL17WkVs.png",cg="/assets/2022-04-27--00-DdZ9lcxd.png",dg="/assets/2022-04-27--01-wuAbb8hF.png",hg="/assets/2022-04-27--02-zoBxWu-t.png",pg="/assets/2022-04-27--03-DfBKxFfN.png",fg="/assets/2022-04-27--04-v9s9WbME.png",gg="/assets/2022-04-27--05-BSFUXvZh.png",mg="/assets/2022-04-27--06-w48xL5z7.png",bg="/assets/2022-04-27--07-C_oYGre-.png",yg="/assets/2022-04-27--08-3UdzeYqv.png",vg="/assets/2022-04-27--09-1A1R3sDC.png",wg="/assets/2022-04-27--10-Cq_5ElO7.png",_g="/assets/2022-06-22--00-Cp92-TRr.png",xg="/assets/2022-06-22--01-DUoyQIKK.png",Sg="/assets/2022-06-22--01a-DDhYeO-c.png",kg="/assets/2022-06-22--02-DTxpz4-6.png",Tg="/assets/2022-06-22--03-CpTABCZO.png",Dg="/assets/2022-06-22--04-CB68qCka.png",Cg="/assets/2022-06-22--05-GnCTa0lG.png",Ag="/assets/2022-06-22--06-D9aK8V6j.png",Eg="/assets/2022-07-31--00-NALX0A8u.png",Og="/assets/2022-07-31--01-DrYjOboV.png",Mg="/assets/2022-07-31--02-C4kCCYpx.png",Lg="/assets/2022-07-31--03-DVi0T0oF.png",zg="/assets/2022-07-31--04-BWyN3But.png",Rg="/assets/2022-08-27--00-CubAnfMK.png",Ig="/assets/2022-08-27--01-CQFZLWv4.png",Pg="/assets/2022-08-27--01a-D3rWCiQr.png",Bg="/assets/2022-08-27--02-DlrxWkX1.png",Ng="/assets/2022-08-27--03-BB5xYiip.png",Ug="/assets/2022-08-27--04-piV0FRXt.png",jg="/assets/2022-08-27--05-CXacJ-Ux.png",Fg="/assets/2022-08-27--06-_hmQeTIo.png",Hg="/assets/2022-08-27--07-C8y7eyMA.png",qg="/assets/2022-08-27--08-CndKqTYQ.png",Vg="/assets/2022-08-27--09-OgFI74iU.png",Gg="/assets/2022-08-27--10-CuBHm6gq.png",Yg="/assets/2022-08-27--11-B9ilxeEH.png",Qg="/assets/2022-08-27--12-Bk0ipdNY.png",Xg="/assets/2022-08-27--13-CbOCyHqy.png",Wg="/assets/2022-08-27--14-BGYLSkFm.png",Zg="/assets/2022-08-27--15-8iyaJo-m.png",Kg="/assets/2022-08-27--16-BEfRMiuV.png",Jg="/assets/2022-08-27--17-BBjlo4xh.png",$g="/assets/2022-08-27--18-B3FZk8Nz.png",e0="/assets/2022-09-19--00-BdPMUuJP.png",t0="/assets/2022-09-19--01-yZsQHHGF.png",n0="/assets/2022-09-19--02-D-uJ5tx7.png",r0="/assets/2022-09-19--03-tQg3jf4y.png",a0="/assets/2022-09-19--04-JCc_xhyZ.png",s0="/assets/2022-09-19--05-OL47FdDM.png",o0="/assets/2022-09-19--06-QDxoUEs9.png",i0="/assets/2022-09-19--07-mrRdn7j_.png",l0="/assets/2022-09-19--08-DZXbqjkz.png",u0="/assets/2022-09-19--09-C3GZCIf8.png",c0="/assets/2022-09-19--10-B_T2_YiA.png",d0="/assets/2022-09-19--11-_c6EB6c9.png",h0="/assets/2022-09-19--12-Cp8v056W.png",p0="/assets/2022-09-19--13-DOJIyEU2.png",f0="/assets/2022-09-19--14-DuRPl-Ws.png",g0="/assets/2022-09-19--15-Dcxy5PpG.png",m0="/assets/2022-09-19--16-Cv5hTBtv.png",b0="/assets/2022-10-29--00-DYyuFlu_.png",y0="/assets/2022-10-29--01-egOcVzPk.png",v0="/assets/2022-10-29--02-DMgVXKeM.png",w0="/assets/2022-10-29--03-DDO9M27g.png",_0="/assets/2022-10-29--04-B_X26PLG.png",x0="/assets/2022-10-29--05-CEdBS65q.png",S0="/assets/2022-10-29--06-B0497Uy9.png",k0="/assets/2022-10-29--07-BiNzyUFs.png",T0="/assets/2022-10-29--08-DofCH4vX.png",D0="/assets/2022-10-29--09-Bzvl2-EZ.png",C0="/assets/2022-10-29--10-9BijOcQu.png",A0="/assets/2022-10-29--11-BgaDb5Se.png",E0="/assets/2022-10-29--12-xYfIPdIH.png",O0="/assets/2022-10-29--13-to_1Ik-S.png",M0="/assets/2022-10-29--14-ez8xAKsE.png",L0="/assets/2022-10-29--15-Q9wE_zQA.png",z0="/assets/2022-10-29--16-Dhr090yB.png",R0="/assets/2022-10-29--17-Dq9B1FMb.png",I0="/assets/2022-10-29--18-BI91Iy6k.png",P0="/assets/2022-10-29--19-BihPCGqM.png",B0="/assets/2022-10-29--20-BasAdrPz.png",N0="/assets/2022-10-29--21-CO_p56s0.png",U0="/assets/2022-10-29--22-DzIhezWf.png",j0="/assets/2022-10-29--23-AgALuDjj.png",F0="/assets/2022-10-29--24-Cx-LjqVH.png",H0="/assets/2022-10-29--25-D-Nn9l8c.png",q0="/assets/2022-10-29--26-Dt6by7Vg.png",V0="/assets/2022-10-29--27-DHYFD1Nx.png",G0="/assets/2022-10-29--28-BrG7Zytx.png",Y0="/assets/2022-10-29--29-B6FdoAm4.png",Q0="/assets/2022-10-29--30-BRJsnYfw.png",X0="/assets/2022-10-29--31-BpReobma.png",W0="/assets/2022-10-29--32-D8oDy5hk.png",Z0="/assets/2022-10-29--33-C4kZ_XM5.png",K0="/assets/2022-11-26--00-DQBKOAV-.png",J0="/assets/2022-11-26--01-Dznrz8Nq.png",$0="/assets/2022-11-26--02-BwP3TOki.png",e2="/assets/2022-11-26--03-YmLygtDR.png",t2="/assets/2022-11-26--04-zGUiU4bq.png",n2="/assets/2022-11-26--05-D_ccYrlu.png",r2="/assets/2022-11-26--06-Bzs7oRtV.png",a2="/assets/2022-11-26--07-BJrAsnj8.png",s2="/assets/2022-11-26--08-B3g7c88M.png",o2="/assets/2022-11-26--09-BFpwKop3.png",i2="/assets/2022-11-26--10-1CyKqMEE.png",l2="/assets/2022-11-26--11-DLMQQqsH.png",u2="/assets/2022-11-26--12-I7WCLuVv.png",c2="/assets/2022-11-26--13-ySX0si5Y.png",d2="/assets/2022-11-26--14-BtDuT6gI.png",h2="/assets/2022-11-26--15-CWzjD29K.png",p2="/assets/2022-11-26--16-dx6S6ZOA.png",f2="/assets/2022-11-26--17-CKepHRdC.png",g2="/assets/2022-11-26--18-DJHtzj_G.png",m2="/assets/2022-11-26--19-pBg0zU02.png",b2="/assets/2022-11-26--20-C_FqArTy.png",y2="/assets/2022-11-26--21-DjITr4sW.png",v2="/assets/2022-11-26--22-BvF1nHjm.png",w2="/assets/2022-11-26--23-BbLYMWmJ.png",_2="/assets/2022-11-26--24-DztO8fH0.png",x2="/assets/2022-11-26--25-DY5XhyDv.png",S2="/assets/2022-11-26--26-CmUmF7Ip.png",k2="/assets/2022-11-26--27-SNfFYV9c.png",T2="/assets/2022-11-26--28-CJNYF2Gl.png",D2="/assets/2022-11-26--29-MuGvtN53.png",C2="/assets/2022-11-26--30-DP2_4zMi.png",A2="/assets/2023-03-11--00-Dengwd8F.png",E2="/assets/2023-03-11--01-CxVx1eWw.png",O2="/assets/2023-03-11--02-DphjrUNS.png",M2="/assets/2023-03-11--03-DLrgxAI1.png",L2="/assets/2023-03-11--04-D_mx3WpQ.png",z2="/assets/2023-03-11--05-fuKBkg7r.png",R2="/assets/2023-03-11--06-D6fjGAxR.png",I2="/assets/2023-03-11--07-DTa6lQE5.png",P2="/assets/2023-03-11--08-rzyaaRM4.png",B2="/assets/2023-03-11--09-DLKhIQ8i.png",N2="/assets/2023-03-11--10-DHu9Pzep.png",U2="/assets/2023-03-11--11-D5GqVEHi.png",j2="/assets/2023-03-11--12-sceE5ihE.png",F2="/assets/2023-03-11--13-Cf66hrvB.png",H2="/assets/2023-03-11--14-Dj-7PcD2.png",q2="/assets/2023-03-11--15-CIQA_No6.png",V2="/assets/2023-03-11--16-BVg76BDd.png",G2="/assets/2023-03-11--17-DeOX4AYq.png",Y2="/assets/2023-03-11--18-TcrZ7wvU.png",Q2="/assets/2023-03-11--19-CS4hUSxw.png",X2="/assets/2023-03-11--20-DUYArMYG.png",W2="/assets/2023-03-11--21-DSIvgppo.png",Z2="/assets/2023-10-07--00-BnuVHNQH.png",K2="/assets/2023-10-07--01-BJERjMcy.png",J2="/assets/2023-10-07--02-DjKZb3wg.png",$2="/assets/2023-10-07--03-DqYsiDFn.png",em="/assets/2023-10-07--04-DIgG06hW.png",tm="/assets/2023-10-07--05-BXEo10YE.png",nm="/assets/2023-10-07--06-Bg2Rv6R2.png",rm="/assets/2023-10-07--07-BmrvvdDR.png",am="/assets/2023-10-07--08-D7IjTRYR.png",sm="/assets/2023-10-07--09-C-IApgio.png",om="/assets/2023-10-07--10-BT3Vdd0N.png",im="/assets/2023-10-07--11-CMgqH4EA.png",lm="/assets/2023-10-07--12-BkVaryce.png",um="/assets/2023-10-07--13-oYU3tK_g.png",cm="/assets/2023-10-07--14-Cyt8LvFo.png",dm="/assets/2023-10-07--15-BwjTASJ4.png",hm="/assets/2023-10-07--16-xnBNkf-K.png",pm="/assets/2024-03-28--00-I9iKo6_2.png",fm="/assets/2024-03-28--01-DB9gumNl.png",gm="/assets/2024-03-28--02-h85Zwxtb.png",mm="/assets/2024-03-28--03-uhz41bH0.png",bm="/assets/2024-03-28--04-VYd_YthH.png",ym="/assets/2024-03-28--05-KPCMpjIt.png",vm="/assets/2024-03-28--06-ByfiKHPG.png",wm="/assets/2024-03-28--07-BifI8QTW.png",_m="/assets/2024-03-28--08-w8XYqyr6.png",xm="/assets/2024-03-28--09-BpE3eLFj.png",Sm="/assets/2024-03-28--10-WpUuyoUw.png",km="/assets/2024-03-28--11-C4cGImJ4.png",Tm="/assets/2024-03-28--12-BB8rTzuy.png",Dm="/assets/2024-03-28--13-Bg9sQjGK.png",Cm="/assets/2024-10-07--00-C8N05esH.png",Am="/assets/2024-10-07--01-C8XHQhHE.png",Em="/assets/2024-10-07--02-CnPKubEX.png",Om="/assets/2024-10-07--03-A-kzFr6L.png",Mm="/assets/2024-10-07--04-CnPUVQj5.png",Lm="/assets/2024-10-07--05-CxKuV8ok.png",zm="/assets/2024-10-07--06-DAlF-klP.png",Rm="/assets/2024-10-07--07-4tslKTSH.png",Im="/assets/2024-10-07--08-Bk6umGAt.png",Pm="/assets/2024-10-07--09-BN203i-V.png",Bm="/assets/2024-10-07--10-Cr7TyCrl.png",Nm="/assets/2024-10-07--11-DDld-Cbt.png",Um="/assets/2024-10-07--12-D-nRFDxx.png",jm="/assets/2024-10-07--13-Bm2xkQYz.png",Fm="/assets/2024-10-07--14-CHZbR4Ut.png",Hm="/assets/2024-10-07--15-Bow2l24s.png",qm="/assets/2024-10-07--16-gF34yP1k.png",Vm="/assets/2024-10-07--17-BpakVJFa.png",Gm="/assets/2024-10-07--18-D7uzQ-Kc.png",Ym="/assets/2024-10-07--19-DJyqwUhd.png",Qm="/assets/2024-10-07--20-mQBJuCWF.png",Xm="/assets/2024-10-07--21-BbKGToT8.png",Wm="/assets/2024-10-07--22-CnhGfGIr.png",Zm="/assets/2024-10-07--23-wpwvQ2k-.png",Km="/assets/2024-10-07--24-Fl-tM74K.png",Jm="/assets/2024-10-07--25-BGKD_H7Y.png",$m="/assets/2024-10-07--26-DsHLHyQv.png",e1="/assets/2024-10-07--27-Ddjq6Wq6.png",t1="/assets/2024-10-07--28-BIeVt67e.png",n1="/assets/2024-10-07--29-D98tAtND.png",r1="/assets/2024-10-07--30-DwDXPLsr.png",a1="/assets/2024-10-07--31-BWb_TP-1.png",s1="/assets/2024-10-07--32-lxSSNwwe.png",o1="/assets/2024-10-07--33-BfKfwtzz.png",i1="/assets/2024-10-07--34-B8W1b7lM.png",l1="/assets/2024-10-07--35-DYi-0SzF.png",u1="/assets/2024-10-07--36-Bi8c44_r.png",c1="/assets/Date_times_to_convert-s50hZSQX.xlsx",d1="/assets/Time_zone_offsets_and_DST_observations-BWffavpn.xlsx",_l="/assets/12-rules-for-life-by-jordan-b-peterson-C_dLlzOT.png",xl="/assets/elon-musk-by-walter-isaacson-BbqzTHUc.png",Sl="/assets/mastery-by-robert-greene-C0TUdMf1.png",kl="/assets/the-concise-33-strategies-of-war-by-robert-greene-D7RjB8oT.png";function m4(n,a){const s={};return(n[n.length-1]===""?[...n,""]:n).join((s.padRight?" ":"")+","+(s.padLeft===!1?"":" ")).trim()}const b4=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,y4=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,v4={};function Xw(n,a){return(v4.jsx?y4:b4).test(n)}const w4=/[ \t\n\f\r]/g;function _4(n){return typeof n=="object"?n.type==="text"?Ww(n.value):!1:Ww(n)}function Ww(n){return n.replace(w4,"")===""}class Vo{constructor(a,s,i){this.property=a,this.normal=s,i&&(this.space=i)}}Vo.prototype.property={};Vo.prototype.normal={};Vo.prototype.space=null;function u3(n,a){const s={},i={};let l=-1;for(;++l<n.length;)Object.assign(s,n[l].property),Object.assign(i,n[l].normal);return new Vo(s,i,a)}function ud(n){return n.toLowerCase()}class Bn{constructor(a,s){this.property=a,this.attribute=s}}Bn.prototype.space=null;Bn.prototype.boolean=!1;Bn.prototype.booleanish=!1;Bn.prototype.overloadedBoolean=!1;Bn.prototype.number=!1;Bn.prototype.commaSeparated=!1;Bn.prototype.spaceSeparated=!1;Bn.prototype.commaOrSpaceSeparated=!1;Bn.prototype.mustUseProperty=!1;Bn.prototype.defined=!1;let x4=0;const je=Ma(),Mt=Ma(),c3=Ma(),le=Ma(),dt=Ma(),ws=Ma(),pn=Ma();function Ma(){return 2**++x4}const cd=Object.freeze(Object.defineProperty({__proto__:null,boolean:je,booleanish:Mt,commaOrSpaceSeparated:pn,commaSeparated:ws,number:le,overloadedBoolean:c3,spaceSeparated:dt},Symbol.toStringTag,{value:"Module"})),Gc=Object.keys(cd);class h1 extends Bn{constructor(a,s,i,l){let c=-1;if(super(a,s),Zw(this,"space",l),typeof i=="number")for(;++c<Gc.length;){const d=Gc[c];Zw(this,Gc[c],(i&cd[d])===cd[d])}}}h1.prototype.defined=!0;function Zw(n,a,s){s&&(n[a]=s)}const S4={}.hasOwnProperty;function Ss(n){const a={},s={};let i;for(i in n.properties)if(S4.call(n.properties,i)){const l=n.properties[i],c=new h1(i,n.transform(n.attributes||{},i),l,n.space);n.mustUseProperty&&n.mustUseProperty.includes(i)&&(c.mustUseProperty=!0),a[i]=c,s[ud(i)]=i,s[ud(c.attribute)]=i}return new Vo(a,s,n.space)}const d3=Ss({space:"xlink",transform(n,a){return"xlink:"+a.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),h3=Ss({space:"xml",transform(n,a){return"xml:"+a.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function p3(n,a){return a in n?n[a]:a}function f3(n,a){return p3(n,a.toLowerCase())}const g3=Ss({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:f3,properties:{xmlns:null,xmlnsXLink:null}}),m3=Ss({transform(n,a){return a==="role"?a:"aria-"+a.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Mt,ariaAutoComplete:null,ariaBusy:Mt,ariaChecked:Mt,ariaColCount:le,ariaColIndex:le,ariaColSpan:le,ariaControls:dt,ariaCurrent:null,ariaDescribedBy:dt,ariaDetails:null,ariaDisabled:Mt,ariaDropEffect:dt,ariaErrorMessage:null,ariaExpanded:Mt,ariaFlowTo:dt,ariaGrabbed:Mt,ariaHasPopup:null,ariaHidden:Mt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:dt,ariaLevel:le,ariaLive:null,ariaModal:Mt,ariaMultiLine:Mt,ariaMultiSelectable:Mt,ariaOrientation:null,ariaOwns:dt,ariaPlaceholder:null,ariaPosInSet:le,ariaPressed:Mt,ariaReadOnly:Mt,ariaRelevant:null,ariaRequired:Mt,ariaRoleDescription:dt,ariaRowCount:le,ariaRowIndex:le,ariaRowSpan:le,ariaSelected:Mt,ariaSetSize:le,ariaSort:null,ariaValueMax:le,ariaValueMin:le,ariaValueNow:le,ariaValueText:null,role:null}}),k4=Ss({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:f3,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ws,acceptCharset:dt,accessKey:dt,action:null,allow:null,allowFullScreen:je,allowPaymentRequest:je,allowUserMedia:je,alt:null,as:null,async:je,autoCapitalize:null,autoComplete:dt,autoFocus:je,autoPlay:je,blocking:dt,capture:null,charSet:null,checked:je,cite:null,className:dt,cols:le,colSpan:null,content:null,contentEditable:Mt,controls:je,controlsList:dt,coords:le|ws,crossOrigin:null,data:null,dateTime:null,decoding:null,default:je,defer:je,dir:null,dirName:null,disabled:je,download:c3,draggable:Mt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:je,formTarget:null,headers:dt,height:le,hidden:je,high:le,href:null,hrefLang:null,htmlFor:dt,httpEquiv:dt,id:null,imageSizes:null,imageSrcSet:null,inert:je,inputMode:null,integrity:null,is:null,isMap:je,itemId:null,itemProp:dt,itemRef:dt,itemScope:je,itemType:dt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:je,low:le,manifest:null,max:null,maxLength:le,media:null,method:null,min:null,minLength:le,multiple:je,muted:je,name:null,nonce:null,noModule:je,noValidate:je,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:je,optimum:le,pattern:null,ping:dt,placeholder:null,playsInline:je,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:je,referrerPolicy:null,rel:dt,required:je,reversed:je,rows:le,rowSpan:le,sandbox:dt,scope:null,scoped:je,seamless:je,selected:je,shadowRootClonable:je,shadowRootDelegatesFocus:je,shadowRootMode:null,shape:null,size:le,sizes:null,slot:null,span:le,spellCheck:Mt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:le,step:null,style:null,tabIndex:le,target:null,title:null,translate:null,type:null,typeMustMatch:je,useMap:null,value:Mt,width:le,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:dt,axis:null,background:null,bgColor:null,border:le,borderColor:null,bottomMargin:le,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:je,declare:je,event:null,face:null,frame:null,frameBorder:null,hSpace:le,leftMargin:le,link:null,longDesc:null,lowSrc:null,marginHeight:le,marginWidth:le,noResize:je,noHref:je,noShade:je,noWrap:je,object:null,profile:null,prompt:null,rev:null,rightMargin:le,rules:null,scheme:null,scrolling:Mt,standby:null,summary:null,text:null,topMargin:le,valueType:null,version:null,vAlign:null,vLink:null,vSpace:le,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:je,disableRemotePlayback:je,prefix:null,property:null,results:le,security:null,unselectable:null}}),T4=Ss({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:p3,properties:{about:pn,accentHeight:le,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:le,amplitude:le,arabicForm:null,ascent:le,attributeName:null,attributeType:null,azimuth:le,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:le,by:null,calcMode:null,capHeight:le,className:dt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:le,diffuseConstant:le,direction:null,display:null,dur:null,divisor:le,dominantBaseline:null,download:je,dx:null,dy:null,edgeMode:null,editable:null,elevation:le,enableBackground:null,end:null,event:null,exponent:le,externalResourcesRequired:null,fill:null,fillOpacity:le,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ws,g2:ws,glyphName:ws,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:le,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:le,horizOriginX:le,horizOriginY:le,id:null,ideographic:le,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:le,k:le,k1:le,k2:le,k3:le,k4:le,kernelMatrix:pn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:le,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:le,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:le,overlineThickness:le,paintOrder:null,panose1:null,path:null,pathLength:le,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:dt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:le,pointsAtY:le,pointsAtZ:le,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:pn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:pn,rev:pn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:pn,requiredFeatures:pn,requiredFonts:pn,requiredFormats:pn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:le,specularExponent:le,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:le,strikethroughThickness:le,string:null,stroke:null,strokeDashArray:pn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:le,strokeOpacity:le,strokeWidth:null,style:null,surfaceScale:le,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:pn,tabIndex:le,tableValues:null,target:null,targetX:le,targetY:le,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:pn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:le,underlineThickness:le,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:le,values:null,vAlphabetic:le,vMathematical:le,vectorEffect:null,vHanging:le,vIdeographic:le,version:null,vertAdvY:le,vertOriginX:le,vertOriginY:le,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:le,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),D4=/^data[-\w.:]+$/i,Kw=/-[a-z]/g,C4=/[A-Z]/g;function A4(n,a){const s=ud(a);let i=a,l=Bn;if(s in n.normal)return n.property[n.normal[s]];if(s.length>4&&s.slice(0,4)==="data"&&D4.test(a)){if(a.charAt(4)==="-"){const c=a.slice(5).replace(Kw,O4);i="data"+c.charAt(0).toUpperCase()+c.slice(1)}else{const c=a.slice(4);if(!Kw.test(c)){let d=c.replace(C4,E4);d.charAt(0)!=="-"&&(d="-"+d),a="data"+d}}l=h1}return new l(i,a)}function E4(n){return"-"+n.toLowerCase()}function O4(n){return n.charAt(1).toUpperCase()}const M4={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},L4=u3([h3,d3,g3,m3,k4],"html"),p1=u3([h3,d3,g3,m3,T4],"svg");function z4(n){return n.join(" ").trim()}var fs={},Yc,Jw;function R4(){if(Jw)return Yc;Jw=1;var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,a=/\n/g,s=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,l=/^:\s*/,c=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,d=/^[;\s]*/,h=/^\s+|\s+$/g,g=`
`,f="/",m="*",y="",v="comment",_="declaration";Yc=function(M,U){if(typeof M!="string")throw new TypeError("First argument must be a string");if(!M)return[];U=U||{};var E=1,j=1;function F(he){var ne=he.match(a);ne&&(E+=ne.length);var ue=he.lastIndexOf(g);j=~ue?he.length-ue:j+he.length}function se(){var he={line:E,column:j};return function(ne){return ne.position=new J(he),ve(),ne}}function J(he){this.start=he,this.end={line:E,column:j},this.source=U.source}J.prototype.content=M;function T(he){var ne=new Error(U.source+":"+E+":"+j+": "+he);if(ne.reason=he,ne.filename=U.source,ne.line=E,ne.column=j,ne.source=M,!U.silent)throw ne}function pe(he){var ne=he.exec(M);if(ne){var ue=ne[0];return F(ue),M=M.slice(ue.length),ne}}function ve(){pe(s)}function Q(he){var ne;for(he=he||[];ne=de();)ne!==!1&&he.push(ne);return he}function de(){var he=se();if(!(f!=M.charAt(0)||m!=M.charAt(1))){for(var ne=2;y!=M.charAt(ne)&&(m!=M.charAt(ne)||f!=M.charAt(ne+1));)++ne;if(ne+=2,y===M.charAt(ne-1))return T("End of comment missing");var ue=M.slice(2,ne-2);return j+=2,F(ue),M=M.slice(ne),j+=2,he({type:v,comment:ue})}}function fe(){var he=se(),ne=pe(i);if(ne){if(de(),!pe(l))return T("property missing ':'");var ue=pe(c),G=he({type:_,property:A(ne[0].replace(n,y)),value:ue?A(ue[0].replace(n,y)):y});return pe(d),G}}function be(){var he=[];Q(he);for(var ne;ne=fe();)ne!==!1&&(he.push(ne),Q(he));return he}return ve(),be()};function A(M){return M?M.replace(h,y):y}return Yc}var $w;function I4(){if($w)return fs;$w=1;var n=fs&&fs.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(fs,"__esModule",{value:!0}),fs.default=s;var a=n(R4());function s(i,l){var c=null;if(!i||typeof i!="string")return c;var d=(0,a.default)(i),h=typeof l=="function";return d.forEach(function(g){if(g.type==="declaration"){var f=g.property,m=g.value;h?l(f,m,g):m&&(c=c||{},c[f]=m)}}),c}return fs}var P4=I4();const e_=vd(P4),B4=e_.default||e_,b3=y3("end"),f1=y3("start");function y3(n){return a;function a(s){const i=s&&s.position&&s.position[n]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function N4(n){const a=f1(n),s=b3(n);if(a&&s)return{start:a,end:s}}function Lo(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?t_(n.position):"start"in n||"end"in n?t_(n):"line"in n||"column"in n?dd(n):""}function dd(n){return n_(n&&n.line)+":"+n_(n&&n.column)}function t_(n){return dd(n&&n.start)+"-"+dd(n&&n.end)}function n_(n){return n&&typeof n=="number"?n:1}class Xt extends Error{constructor(a,s,i){super(),typeof s=="string"&&(i=s,s=void 0);let l="",c={},d=!1;if(s&&("line"in s&&"column"in s?c={place:s}:"start"in s&&"end"in s?c={place:s}:"type"in s?c={ancestors:[s],place:s.position}:c={...s}),typeof a=="string"?l=a:!c.cause&&a&&(d=!0,l=a.message,c.cause=a),!c.ruleId&&!c.source&&typeof i=="string"){const g=i.indexOf(":");g===-1?c.ruleId=i:(c.source=i.slice(0,g),c.ruleId=i.slice(g+1))}if(!c.place&&c.ancestors&&c.ancestors){const g=c.ancestors[c.ancestors.length-1];g&&(c.place=g.position)}const h=c.place&&"start"in c.place?c.place.start:c.place;this.ancestors=c.ancestors||void 0,this.cause=c.cause||void 0,this.column=h?h.column:void 0,this.fatal=void 0,this.file,this.message=l,this.line=h?h.line:void 0,this.name=Lo(c.place)||"1:1",this.place=c.place||void 0,this.reason=this.message,this.ruleId=c.ruleId||void 0,this.source=c.source||void 0,this.stack=d&&c.cause&&typeof c.cause.stack=="string"?c.cause.stack:"",this.actual,this.expected,this.note,this.url}}Xt.prototype.file="";Xt.prototype.name="";Xt.prototype.reason="";Xt.prototype.message="";Xt.prototype.stack="";Xt.prototype.column=void 0;Xt.prototype.line=void 0;Xt.prototype.ancestors=void 0;Xt.prototype.cause=void 0;Xt.prototype.fatal=void 0;Xt.prototype.place=void 0;Xt.prototype.ruleId=void 0;Xt.prototype.source=void 0;const g1={}.hasOwnProperty,U4=new Map,j4=/[A-Z]/g,F4=/-([a-z])/g,H4=new Set(["table","tbody","thead","tfoot","tr"]),q4=new Set(["td","th"]),v3="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function V4(n,a){if(!a||a.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const s=a.filePath||void 0;let i;if(a.development){if(typeof a.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=J4(s,a.jsxDEV)}else{if(typeof a.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof a.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=K4(s,a.jsx,a.jsxs)}const l={Fragment:a.Fragment,ancestors:[],components:a.components||{},create:i,elementAttributeNameCase:a.elementAttributeNameCase||"react",evaluater:a.createEvaluater?a.createEvaluater():void 0,filePath:s,ignoreInvalidStyle:a.ignoreInvalidStyle||!1,passKeys:a.passKeys!==!1,passNode:a.passNode||!1,schema:a.space==="svg"?p1:L4,stylePropertyNameCase:a.stylePropertyNameCase||"dom",tableCellAlignToStyle:a.tableCellAlignToStyle!==!1},c=w3(l,n,void 0);return c&&typeof c!="string"?c:l.create(n,l.Fragment,{children:c||void 0},void 0)}function w3(n,a,s){if(a.type==="element")return G4(n,a,s);if(a.type==="mdxFlowExpression"||a.type==="mdxTextExpression")return Y4(n,a);if(a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement")return X4(n,a,s);if(a.type==="mdxjsEsm")return Q4(n,a);if(a.type==="root")return W4(n,a,s);if(a.type==="text")return Z4(n,a)}function G4(n,a,s){const i=n.schema;let l=i;a.tagName.toLowerCase()==="svg"&&i.space==="html"&&(l=p1,n.schema=l),n.ancestors.push(a);const c=x3(n,a.tagName,!1),d=$4(n,a);let h=b1(n,a);return H4.has(a.tagName)&&(h=h.filter(function(g){return typeof g=="string"?!_4(g):!0})),_3(n,d,c,a),m1(d,h),n.ancestors.pop(),n.schema=i,n.create(a,c,d,s)}function Y4(n,a){if(a.data&&a.data.estree&&n.evaluater){const i=a.data.estree.body[0];return i.type,n.evaluater.evaluateExpression(i.expression)}Uo(n,a.position)}function Q4(n,a){if(a.data&&a.data.estree&&n.evaluater)return n.evaluater.evaluateProgram(a.data.estree);Uo(n,a.position)}function X4(n,a,s){const i=n.schema;let l=i;a.name==="svg"&&i.space==="html"&&(l=p1,n.schema=l),n.ancestors.push(a);const c=a.name===null?n.Fragment:x3(n,a.name,!0),d=eC(n,a),h=b1(n,a);return _3(n,d,c,a),m1(d,h),n.ancestors.pop(),n.schema=i,n.create(a,c,d,s)}function W4(n,a,s){const i={};return m1(i,b1(n,a)),n.create(a,n.Fragment,i,s)}function Z4(n,a){return a.value}function _3(n,a,s,i){typeof s!="string"&&s!==n.Fragment&&n.passNode&&(a.node=i)}function m1(n,a){if(a.length>0){const s=a.length>1?a:a[0];s&&(n.children=s)}}function K4(n,a,s){return i;function i(l,c,d,h){const f=Array.isArray(d.children)?s:a;return h?f(c,d,h):f(c,d)}}function J4(n,a){return s;function s(i,l,c,d){const h=Array.isArray(c.children),g=f1(i);return a(l,c,d,h,{columnNumber:g?g.column-1:void 0,fileName:n,lineNumber:g?g.line:void 0},void 0)}}function $4(n,a){const s={};let i,l;for(l in a.properties)if(l!=="children"&&g1.call(a.properties,l)){const c=tC(n,l,a.properties[l]);if(c){const[d,h]=c;n.tableCellAlignToStyle&&d==="align"&&typeof h=="string"&&q4.has(a.tagName)?i=h:s[d]=h}}if(i){const c=s.style||(s.style={});c[n.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return s}function eC(n,a){const s={};for(const i of a.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&n.evaluater){const c=i.data.estree.body[0];c.type;const d=c.expression;d.type;const h=d.properties[0];h.type,Object.assign(s,n.evaluater.evaluateExpression(h.argument))}else Uo(n,a.position);else{const l=i.name;let c;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&n.evaluater){const h=i.value.data.estree.body[0];h.type,c=n.evaluater.evaluateExpression(h.expression)}else Uo(n,a.position);else c=i.value===null?!0:i.value;s[l]=c}return s}function b1(n,a){const s=[];let i=-1;const l=n.passKeys?new Map:U4;for(;++i<a.children.length;){const c=a.children[i];let d;if(n.passKeys){const g=c.type==="element"?c.tagName:c.type==="mdxJsxFlowElement"||c.type==="mdxJsxTextElement"?c.name:void 0;if(g){const f=l.get(g)||0;d=g+"-"+f,l.set(g,f+1)}}const h=w3(n,c,d);h!==void 0&&s.push(h)}return s}function tC(n,a,s){const i=A4(n.schema,a);if(!(s==null||typeof s=="number"&&Number.isNaN(s))){if(Array.isArray(s)&&(s=i.commaSeparated?m4(s):z4(s)),i.property==="style"){let l=typeof s=="object"?s:nC(n,String(s));return n.stylePropertyNameCase==="css"&&(l=rC(l)),["style",l]}return[n.elementAttributeNameCase==="react"&&i.space?M4[i.property]||i.property:i.attribute,s]}}function nC(n,a){const s={};try{B4(a,i)}catch(l){if(!n.ignoreInvalidStyle){const c=l,d=new Xt("Cannot parse `style` attribute",{ancestors:n.ancestors,cause:c,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw d.file=n.filePath||void 0,d.url=v3+"#cannot-parse-style-attribute",d}}return s;function i(l,c){let d=l;d.slice(0,2)!=="--"&&(d.slice(0,4)==="-ms-"&&(d="ms-"+d.slice(4)),d=d.replace(F4,sC)),s[d]=c}}function x3(n,a,s){let i;if(!s)i={type:"Literal",value:a};else if(a.includes(".")){const l=a.split(".");let c=-1,d;for(;++c<l.length;){const h=Xw(l[c])?{type:"Identifier",name:l[c]}:{type:"Literal",value:l[c]};d=d?{type:"MemberExpression",object:d,property:h,computed:!!(c&&h.type==="Literal"),optional:!1}:h}i=d}else i=Xw(a)&&!/^[a-z]/.test(a)?{type:"Identifier",name:a}:{type:"Literal",value:a};if(i.type==="Literal"){const l=i.value;return g1.call(n.components,l)?n.components[l]:l}if(n.evaluater)return n.evaluater.evaluateExpression(i);Uo(n)}function Uo(n,a){const s=new Xt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:n.ancestors,place:a,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw s.file=n.filePath||void 0,s.url=v3+"#cannot-handle-mdx-estrees-without-createevaluater",s}function rC(n){const a={};let s;for(s in n)g1.call(n,s)&&(a[aC(s)]=n[s]);return a}function aC(n){let a=n.replace(j4,oC);return a.slice(0,3)==="ms-"&&(a="-"+a),a}function sC(n,a){return a.toUpperCase()}function oC(n){return"-"+n.toLowerCase()}const Qc={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},iC={};function lC(n,a){const s=iC,i=typeof s.includeImageAlt=="boolean"?s.includeImageAlt:!0,l=typeof s.includeHtml=="boolean"?s.includeHtml:!0;return S3(n,i,l)}function S3(n,a,s){if(uC(n)){if("value"in n)return n.type==="html"&&!s?"":n.value;if(a&&"alt"in n&&n.alt)return n.alt;if("children"in n)return r_(n.children,a,s)}return Array.isArray(n)?r_(n,a,s):""}function r_(n,a,s){const i=[];let l=-1;for(;++l<n.length;)i[l]=S3(n[l],a,s);return i.join("")}function uC(n){return!!(n&&typeof n=="object")}const a_=document.createElement("i");function y1(n){const a="&"+n+";";a_.innerHTML=a;const s=a_.textContent;return s.charCodeAt(s.length-1)===59&&n!=="semi"||s===a?!1:s}function cr(n,a,s,i){const l=n.length;let c=0,d;if(a<0?a=-a>l?0:l+a:a=a>l?l:a,s=s>0?s:0,i.length<1e4)d=Array.from(i),d.unshift(a,s),n.splice(...d);else for(s&&n.splice(a,s);c<i.length;)d=i.slice(c,c+1e4),d.unshift(a,0),n.splice(...d),c+=1e4,a+=1e4}function zn(n,a){return n.length>0?(cr(n,n.length,0,a),n):a}const s_={}.hasOwnProperty;function cC(n){const a={};let s=-1;for(;++s<n.length;)dC(a,n[s]);return a}function dC(n,a){let s;for(s in a){const l=(s_.call(n,s)?n[s]:void 0)||(n[s]={}),c=a[s];let d;if(c)for(d in c){s_.call(l,d)||(l[d]=[]);const h=c[d];hC(l[d],Array.isArray(h)?h:h?[h]:[])}}}function hC(n,a){let s=-1;const i=[];for(;++s<a.length;)(a[s].add==="after"?n:i).push(a[s]);cr(n,0,0,i)}function k3(n,a){const s=Number.parseInt(n,a);return s<9||s===11||s>13&&s<32||s>126&&s<160||s>55295&&s<57344||s>64975&&s<65008||(s&65535)===65535||(s&65535)===65534||s>1114111?"�":String.fromCodePoint(s)}function _s(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const lr=aa(/[A-Za-z]/),mn=aa(/[\dA-Za-z]/),pC=aa(/[#-'*+\--9=?A-Z^-~]/);function hd(n){return n!==null&&(n<32||n===127)}const pd=aa(/\d/),fC=aa(/[\dA-Fa-f]/),gC=aa(/[!-/:-@[-`{-~]/);function Be(n){return n!==null&&n<-2}function an(n){return n!==null&&(n<0||n===32)}function $e(n){return n===-2||n===-1||n===32}const mC=aa(new RegExp("\\p{P}|\\p{S}","u")),bC=aa(/\s/);function aa(n){return a;function a(s){return s!==null&&s>-1&&n.test(String.fromCharCode(s))}}function ks(n){const a=[];let s=-1,i=0,l=0;for(;++s<n.length;){const c=n.charCodeAt(s);let d="";if(c===37&&mn(n.charCodeAt(s+1))&&mn(n.charCodeAt(s+2)))l=2;else if(c<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(c))||(d=String.fromCharCode(c));else if(c>55295&&c<57344){const h=n.charCodeAt(s+1);c<56320&&h>56319&&h<57344?(d=String.fromCharCode(c,h),l=1):d="�"}else d=String.fromCharCode(c);d&&(a.push(n.slice(i,s),encodeURIComponent(d)),i=s+l+1,d=""),l&&(s+=l,l=0)}return a.join("")+n.slice(i)}function ht(n,a,s,i){const l=i?i-1:Number.POSITIVE_INFINITY;let c=0;return d;function d(g){return $e(g)?(n.enter(s),h(g)):a(g)}function h(g){return $e(g)&&c++<l?(n.consume(g),h):(n.exit(s),a(g))}}const yC={tokenize:vC};function vC(n){const a=n.attempt(this.parser.constructs.contentInitial,i,l);let s;return a;function i(h){if(h===null){n.consume(h);return}return n.enter("lineEnding"),n.consume(h),n.exit("lineEnding"),ht(n,a,"linePrefix")}function l(h){return n.enter("paragraph"),c(h)}function c(h){const g=n.enter("chunkText",{contentType:"text",previous:s});return s&&(s.next=g),s=g,d(h)}function d(h){if(h===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(h);return}return Be(h)?(n.consume(h),n.exit("chunkText"),c):(n.consume(h),d)}}const wC={tokenize:_C},o_={tokenize:xC};function _C(n){const a=this,s=[];let i=0,l,c,d;return h;function h(F){if(i<s.length){const se=s[i];return a.containerState=se[1],n.attempt(se[0].continuation,g,f)(F)}return f(F)}function g(F){if(i++,a.containerState._closeFlow){a.containerState._closeFlow=void 0,l&&j();const se=a.events.length;let J=se,T;for(;J--;)if(a.events[J][0]==="exit"&&a.events[J][1].type==="chunkFlow"){T=a.events[J][1].end;break}E(i);let pe=se;for(;pe<a.events.length;)a.events[pe][1].end={...T},pe++;return cr(a.events,J+1,0,a.events.slice(se)),a.events.length=pe,f(F)}return h(F)}function f(F){if(i===s.length){if(!l)return v(F);if(l.currentConstruct&&l.currentConstruct.concrete)return A(F);a.interrupt=!!(l.currentConstruct&&!l._gfmTableDynamicInterruptHack)}return a.containerState={},n.check(o_,m,y)(F)}function m(F){return l&&j(),E(i),v(F)}function y(F){return a.parser.lazy[a.now().line]=i!==s.length,d=a.now().offset,A(F)}function v(F){return a.containerState={},n.attempt(o_,_,A)(F)}function _(F){return i++,s.push([a.currentConstruct,a.containerState]),v(F)}function A(F){if(F===null){l&&j(),E(0),n.consume(F);return}return l=l||a.parser.flow(a.now()),n.enter("chunkFlow",{_tokenizer:l,contentType:"flow",previous:c}),M(F)}function M(F){if(F===null){U(n.exit("chunkFlow"),!0),E(0),n.consume(F);return}return Be(F)?(n.consume(F),U(n.exit("chunkFlow")),i=0,a.interrupt=void 0,h):(n.consume(F),M)}function U(F,se){const J=a.sliceStream(F);if(se&&J.push(null),F.previous=c,c&&(c.next=F),c=F,l.defineSkip(F.start),l.write(J),a.parser.lazy[F.start.line]){let T=l.events.length;for(;T--;)if(l.events[T][1].start.offset<d&&(!l.events[T][1].end||l.events[T][1].end.offset>d))return;const pe=a.events.length;let ve=pe,Q,de;for(;ve--;)if(a.events[ve][0]==="exit"&&a.events[ve][1].type==="chunkFlow"){if(Q){de=a.events[ve][1].end;break}Q=!0}for(E(i),T=pe;T<a.events.length;)a.events[T][1].end={...de},T++;cr(a.events,ve+1,0,a.events.slice(pe)),a.events.length=T}}function E(F){let se=s.length;for(;se-- >F;){const J=s[se];a.containerState=J[1],J[0].exit.call(a,n)}s.length=F}function j(){l.write([null]),c=void 0,l=void 0,a.containerState._closeFlow=void 0}}function xC(n,a,s){return ht(n,n.attempt(this.parser.constructs.document,a,s),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function i_(n){if(n===null||an(n)||bC(n))return 1;if(mC(n))return 2}function v1(n,a,s){const i=[];let l=-1;for(;++l<n.length;){const c=n[l].resolveAll;c&&!i.includes(c)&&(a=c(a,s),i.push(c))}return a}const fd={name:"attention",resolveAll:SC,tokenize:kC};function SC(n,a){let s=-1,i,l,c,d,h,g,f,m;for(;++s<n.length;)if(n[s][0]==="enter"&&n[s][1].type==="attentionSequence"&&n[s][1]._close){for(i=s;i--;)if(n[i][0]==="exit"&&n[i][1].type==="attentionSequence"&&n[i][1]._open&&a.sliceSerialize(n[i][1]).charCodeAt(0)===a.sliceSerialize(n[s][1]).charCodeAt(0)){if((n[i][1]._close||n[s][1]._open)&&(n[s][1].end.offset-n[s][1].start.offset)%3&&!((n[i][1].end.offset-n[i][1].start.offset+n[s][1].end.offset-n[s][1].start.offset)%3))continue;g=n[i][1].end.offset-n[i][1].start.offset>1&&n[s][1].end.offset-n[s][1].start.offset>1?2:1;const y={...n[i][1].end},v={...n[s][1].start};l_(y,-g),l_(v,g),d={type:g>1?"strongSequence":"emphasisSequence",start:y,end:{...n[i][1].end}},h={type:g>1?"strongSequence":"emphasisSequence",start:{...n[s][1].start},end:v},c={type:g>1?"strongText":"emphasisText",start:{...n[i][1].end},end:{...n[s][1].start}},l={type:g>1?"strong":"emphasis",start:{...d.start},end:{...h.end}},n[i][1].end={...d.start},n[s][1].start={...h.end},f=[],n[i][1].end.offset-n[i][1].start.offset&&(f=zn(f,[["enter",n[i][1],a],["exit",n[i][1],a]])),f=zn(f,[["enter",l,a],["enter",d,a],["exit",d,a],["enter",c,a]]),f=zn(f,v1(a.parser.constructs.insideSpan.null,n.slice(i+1,s),a)),f=zn(f,[["exit",c,a],["enter",h,a],["exit",h,a],["exit",l,a]]),n[s][1].end.offset-n[s][1].start.offset?(m=2,f=zn(f,[["enter",n[s][1],a],["exit",n[s][1],a]])):m=0,cr(n,i-1,s-i+3,f),s=i+f.length-m-2;break}}for(s=-1;++s<n.length;)n[s][1].type==="attentionSequence"&&(n[s][1].type="data");return n}function kC(n,a){const s=this.parser.constructs.attentionMarkers.null,i=this.previous,l=i_(i);let c;return d;function d(g){return c=g,n.enter("attentionSequence"),h(g)}function h(g){if(g===c)return n.consume(g),h;const f=n.exit("attentionSequence"),m=i_(g),y=!m||m===2&&l||s.includes(g),v=!l||l===2&&m||s.includes(i);return f._open=!!(c===42?y:y&&(l||!v)),f._close=!!(c===42?v:v&&(m||!y)),a(g)}}function l_(n,a){n.column+=a,n.offset+=a,n._bufferIndex+=a}const TC={name:"autolink",tokenize:DC};function DC(n,a,s){let i=0;return l;function l(_){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(_),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),c}function c(_){return lr(_)?(n.consume(_),d):_===64?s(_):f(_)}function d(_){return _===43||_===45||_===46||mn(_)?(i=1,h(_)):f(_)}function h(_){return _===58?(n.consume(_),i=0,g):(_===43||_===45||_===46||mn(_))&&i++<32?(n.consume(_),h):(i=0,f(_))}function g(_){return _===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(_),n.exit("autolinkMarker"),n.exit("autolink"),a):_===null||_===32||_===60||hd(_)?s(_):(n.consume(_),g)}function f(_){return _===64?(n.consume(_),m):pC(_)?(n.consume(_),f):s(_)}function m(_){return mn(_)?y(_):s(_)}function y(_){return _===46?(n.consume(_),i=0,m):_===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(_),n.exit("autolinkMarker"),n.exit("autolink"),a):v(_)}function v(_){if((_===45||mn(_))&&i++<63){const A=_===45?v:y;return n.consume(_),A}return s(_)}}const Tl={partial:!0,tokenize:CC};function CC(n,a,s){return i;function i(c){return $e(c)?ht(n,l,"linePrefix")(c):l(c)}function l(c){return c===null||Be(c)?a(c):s(c)}}const T3={continuation:{tokenize:EC},exit:OC,name:"blockQuote",tokenize:AC};function AC(n,a,s){const i=this;return l;function l(d){if(d===62){const h=i.containerState;return h.open||(n.enter("blockQuote",{_container:!0}),h.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(d),n.exit("blockQuoteMarker"),c}return s(d)}function c(d){return $e(d)?(n.enter("blockQuotePrefixWhitespace"),n.consume(d),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),a):(n.exit("blockQuotePrefix"),a(d))}}function EC(n,a,s){const i=this;return l;function l(d){return $e(d)?ht(n,c,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d):c(d)}function c(d){return n.attempt(T3,a,s)(d)}}function OC(n){n.exit("blockQuote")}const D3={name:"characterEscape",tokenize:MC};function MC(n,a,s){return i;function i(c){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(c),n.exit("escapeMarker"),l}function l(c){return gC(c)?(n.enter("characterEscapeValue"),n.consume(c),n.exit("characterEscapeValue"),n.exit("characterEscape"),a):s(c)}}const C3={name:"characterReference",tokenize:LC};function LC(n,a,s){const i=this;let l=0,c,d;return h;function h(y){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(y),n.exit("characterReferenceMarker"),g}function g(y){return y===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(y),n.exit("characterReferenceMarkerNumeric"),f):(n.enter("characterReferenceValue"),c=31,d=mn,m(y))}function f(y){return y===88||y===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(y),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),c=6,d=fC,m):(n.enter("characterReferenceValue"),c=7,d=pd,m(y))}function m(y){if(y===59&&l){const v=n.exit("characterReferenceValue");return d===mn&&!y1(i.sliceSerialize(v))?s(y):(n.enter("characterReferenceMarker"),n.consume(y),n.exit("characterReferenceMarker"),n.exit("characterReference"),a)}return d(y)&&l++<c?(n.consume(y),m):s(y)}}const u_={partial:!0,tokenize:RC},c_={concrete:!0,name:"codeFenced",tokenize:zC};function zC(n,a,s){const i=this,l={partial:!0,tokenize:J};let c=0,d=0,h;return g;function g(T){return f(T)}function f(T){const pe=i.events[i.events.length-1];return c=pe&&pe[1].type==="linePrefix"?pe[2].sliceSerialize(pe[1],!0).length:0,h=T,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),m(T)}function m(T){return T===h?(d++,n.consume(T),m):d<3?s(T):(n.exit("codeFencedFenceSequence"),$e(T)?ht(n,y,"whitespace")(T):y(T))}function y(T){return T===null||Be(T)?(n.exit("codeFencedFence"),i.interrupt?a(T):n.check(u_,M,se)(T)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),v(T))}function v(T){return T===null||Be(T)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),y(T)):$e(T)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),ht(n,_,"whitespace")(T)):T===96&&T===h?s(T):(n.consume(T),v)}function _(T){return T===null||Be(T)?y(T):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),A(T))}function A(T){return T===null||Be(T)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),y(T)):T===96&&T===h?s(T):(n.consume(T),A)}function M(T){return n.attempt(l,se,U)(T)}function U(T){return n.enter("lineEnding"),n.consume(T),n.exit("lineEnding"),E}function E(T){return c>0&&$e(T)?ht(n,j,"linePrefix",c+1)(T):j(T)}function j(T){return T===null||Be(T)?n.check(u_,M,se)(T):(n.enter("codeFlowValue"),F(T))}function F(T){return T===null||Be(T)?(n.exit("codeFlowValue"),j(T)):(n.consume(T),F)}function se(T){return n.exit("codeFenced"),a(T)}function J(T,pe,ve){let Q=0;return de;function de(ue){return T.enter("lineEnding"),T.consume(ue),T.exit("lineEnding"),fe}function fe(ue){return T.enter("codeFencedFence"),$e(ue)?ht(T,be,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ue):be(ue)}function be(ue){return ue===h?(T.enter("codeFencedFenceSequence"),he(ue)):ve(ue)}function he(ue){return ue===h?(Q++,T.consume(ue),he):Q>=d?(T.exit("codeFencedFenceSequence"),$e(ue)?ht(T,ne,"whitespace")(ue):ne(ue)):ve(ue)}function ne(ue){return ue===null||Be(ue)?(T.exit("codeFencedFence"),pe(ue)):ve(ue)}}}function RC(n,a,s){const i=this;return l;function l(d){return d===null?s(d):(n.enter("lineEnding"),n.consume(d),n.exit("lineEnding"),c)}function c(d){return i.parser.lazy[i.now().line]?s(d):a(d)}}const Xc={name:"codeIndented",tokenize:PC},IC={partial:!0,tokenize:BC};function PC(n,a,s){const i=this;return l;function l(f){return n.enter("codeIndented"),ht(n,c,"linePrefix",5)(f)}function c(f){const m=i.events[i.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?d(f):s(f)}function d(f){return f===null?g(f):Be(f)?n.attempt(IC,d,g)(f):(n.enter("codeFlowValue"),h(f))}function h(f){return f===null||Be(f)?(n.exit("codeFlowValue"),d(f)):(n.consume(f),h)}function g(f){return n.exit("codeIndented"),a(f)}}function BC(n,a,s){const i=this;return l;function l(d){return i.parser.lazy[i.now().line]?s(d):Be(d)?(n.enter("lineEnding"),n.consume(d),n.exit("lineEnding"),l):ht(n,c,"linePrefix",5)(d)}function c(d){const h=i.events[i.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?a(d):Be(d)?l(d):s(d)}}const NC={name:"codeText",previous:jC,resolve:UC,tokenize:FC};function UC(n){let a=n.length-4,s=3,i,l;if((n[s][1].type==="lineEnding"||n[s][1].type==="space")&&(n[a][1].type==="lineEnding"||n[a][1].type==="space")){for(i=s;++i<a;)if(n[i][1].type==="codeTextData"){n[s][1].type="codeTextPadding",n[a][1].type="codeTextPadding",s+=2,a-=2;break}}for(i=s-1,a++;++i<=a;)l===void 0?i!==a&&n[i][1].type!=="lineEnding"&&(l=i):(i===a||n[i][1].type==="lineEnding")&&(n[l][1].type="codeTextData",i!==l+2&&(n[l][1].end=n[i-1][1].end,n.splice(l+2,i-l-2),a-=i-l-2,i=l+2),l=void 0);return n}function jC(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function FC(n,a,s){let i=0,l,c;return d;function d(y){return n.enter("codeText"),n.enter("codeTextSequence"),h(y)}function h(y){return y===96?(n.consume(y),i++,h):(n.exit("codeTextSequence"),g(y))}function g(y){return y===null?s(y):y===32?(n.enter("space"),n.consume(y),n.exit("space"),g):y===96?(c=n.enter("codeTextSequence"),l=0,m(y)):Be(y)?(n.enter("lineEnding"),n.consume(y),n.exit("lineEnding"),g):(n.enter("codeTextData"),f(y))}function f(y){return y===null||y===32||y===96||Be(y)?(n.exit("codeTextData"),g(y)):(n.consume(y),f)}function m(y){return y===96?(n.consume(y),l++,m):l===i?(n.exit("codeTextSequence"),n.exit("codeText"),a(y)):(c.type="codeTextData",f(y))}}class HC{constructor(a){this.left=a?[...a]:[],this.right=[]}get(a){if(a<0||a>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+a+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return a<this.left.length?this.left[a]:this.right[this.right.length-a+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(a,s){const i=s??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(a,i):a>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-a+this.left.length).reverse():this.left.slice(a).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(a,s,i){const l=s||0;this.setCursor(Math.trunc(a));const c=this.right.splice(this.right.length-l,Number.POSITIVE_INFINITY);return i&&ko(this.left,i),c.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(a){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(a)}pushMany(a){this.setCursor(Number.POSITIVE_INFINITY),ko(this.left,a)}unshift(a){this.setCursor(0),this.right.push(a)}unshiftMany(a){this.setCursor(0),ko(this.right,a.reverse())}setCursor(a){if(!(a===this.left.length||a>this.left.length&&this.right.length===0||a<0&&this.left.length===0))if(a<this.left.length){const s=this.left.splice(a,Number.POSITIVE_INFINITY);ko(this.right,s.reverse())}else{const s=this.right.splice(this.left.length+this.right.length-a,Number.POSITIVE_INFINITY);ko(this.left,s.reverse())}}}function ko(n,a){let s=0;if(a.length<1e4)n.push(...a);else for(;s<a.length;)n.push(...a.slice(s,s+1e4)),s+=1e4}function A3(n){const a={};let s=-1,i,l,c,d,h,g,f;const m=new HC(n);for(;++s<m.length;){for(;s in a;)s=a[s];if(i=m.get(s),s&&i[1].type==="chunkFlow"&&m.get(s-1)[1].type==="listItemPrefix"&&(g=i[1]._tokenizer.events,c=0,c<g.length&&g[c][1].type==="lineEndingBlank"&&(c+=2),c<g.length&&g[c][1].type==="content"))for(;++c<g.length&&g[c][1].type!=="content";)g[c][1].type==="chunkText"&&(g[c][1]._isInFirstContentOfListItem=!0,c++);if(i[0]==="enter")i[1].contentType&&(Object.assign(a,qC(m,s)),s=a[s],f=!0);else if(i[1]._container){for(c=s,l=void 0;c--;)if(d=m.get(c),d[1].type==="lineEnding"||d[1].type==="lineEndingBlank")d[0]==="enter"&&(l&&(m.get(l)[1].type="lineEndingBlank"),d[1].type="lineEnding",l=c);else if(d[1].type!=="linePrefix")break;l&&(i[1].end={...m.get(l)[1].start},h=m.slice(l,s),h.unshift(i),m.splice(l,s-l+1,h))}}return cr(n,0,Number.POSITIVE_INFINITY,m.slice(0)),!f}function qC(n,a){const s=n.get(a)[1],i=n.get(a)[2];let l=a-1;const c=[],d=s._tokenizer||i.parser[s.contentType](s.start),h=d.events,g=[],f={};let m,y,v=-1,_=s,A=0,M=0;const U=[M];for(;_;){for(;n.get(++l)[1]!==_;);c.push(l),_._tokenizer||(m=i.sliceStream(_),_.next||m.push(null),y&&d.defineSkip(_.start),_._isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=!0),d.write(m),_._isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=void 0)),y=_,_=_.next}for(_=s;++v<h.length;)h[v][0]==="exit"&&h[v-1][0]==="enter"&&h[v][1].type===h[v-1][1].type&&h[v][1].start.line!==h[v][1].end.line&&(M=v+1,U.push(M),_._tokenizer=void 0,_.previous=void 0,_=_.next);for(d.events=[],_?(_._tokenizer=void 0,_.previous=void 0):U.pop(),v=U.length;v--;){const E=h.slice(U[v],U[v+1]),j=c.pop();g.push([j,j+E.length-1]),n.splice(j,2,E)}for(g.reverse(),v=-1;++v<g.length;)f[A+g[v][0]]=A+g[v][1],A+=g[v][1]-g[v][0]-1;return f}const VC={resolve:YC,tokenize:QC},GC={partial:!0,tokenize:XC};function YC(n){return A3(n),n}function QC(n,a){let s;return i;function i(h){return n.enter("content"),s=n.enter("chunkContent",{contentType:"content"}),l(h)}function l(h){return h===null?c(h):Be(h)?n.check(GC,d,c)(h):(n.consume(h),l)}function c(h){return n.exit("chunkContent"),n.exit("content"),a(h)}function d(h){return n.consume(h),n.exit("chunkContent"),s.next=n.enter("chunkContent",{contentType:"content",previous:s}),s=s.next,l}}function XC(n,a,s){const i=this;return l;function l(d){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(d),n.exit("lineEnding"),ht(n,c,"linePrefix")}function c(d){if(d===null||Be(d))return s(d);const h=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?a(d):n.interrupt(i.parser.constructs.flow,s,a)(d)}}function E3(n,a,s,i,l,c,d,h,g){const f=g||Number.POSITIVE_INFINITY;let m=0;return y;function y(E){return E===60?(n.enter(i),n.enter(l),n.enter(c),n.consume(E),n.exit(c),v):E===null||E===32||E===41||hd(E)?s(E):(n.enter(i),n.enter(d),n.enter(h),n.enter("chunkString",{contentType:"string"}),M(E))}function v(E){return E===62?(n.enter(c),n.consume(E),n.exit(c),n.exit(l),n.exit(i),a):(n.enter(h),n.enter("chunkString",{contentType:"string"}),_(E))}function _(E){return E===62?(n.exit("chunkString"),n.exit(h),v(E)):E===null||E===60||Be(E)?s(E):(n.consume(E),E===92?A:_)}function A(E){return E===60||E===62||E===92?(n.consume(E),_):_(E)}function M(E){return!m&&(E===null||E===41||an(E))?(n.exit("chunkString"),n.exit(h),n.exit(d),n.exit(i),a(E)):m<f&&E===40?(n.consume(E),m++,M):E===41?(n.consume(E),m--,M):E===null||E===32||E===40||hd(E)?s(E):(n.consume(E),E===92?U:M)}function U(E){return E===40||E===41||E===92?(n.consume(E),M):M(E)}}function O3(n,a,s,i,l,c){const d=this;let h=0,g;return f;function f(_){return n.enter(i),n.enter(l),n.consume(_),n.exit(l),n.enter(c),m}function m(_){return h>999||_===null||_===91||_===93&&!g||_===94&&!h&&"_hiddenFootnoteSupport"in d.parser.constructs?s(_):_===93?(n.exit(c),n.enter(l),n.consume(_),n.exit(l),n.exit(i),a):Be(_)?(n.enter("lineEnding"),n.consume(_),n.exit("lineEnding"),m):(n.enter("chunkString",{contentType:"string"}),y(_))}function y(_){return _===null||_===91||_===93||Be(_)||h++>999?(n.exit("chunkString"),m(_)):(n.consume(_),g||(g=!$e(_)),_===92?v:y)}function v(_){return _===91||_===92||_===93?(n.consume(_),h++,y):y(_)}}function M3(n,a,s,i,l,c){let d;return h;function h(v){return v===34||v===39||v===40?(n.enter(i),n.enter(l),n.consume(v),n.exit(l),d=v===40?41:v,g):s(v)}function g(v){return v===d?(n.enter(l),n.consume(v),n.exit(l),n.exit(i),a):(n.enter(c),f(v))}function f(v){return v===d?(n.exit(c),g(d)):v===null?s(v):Be(v)?(n.enter("lineEnding"),n.consume(v),n.exit("lineEnding"),ht(n,f,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),m(v))}function m(v){return v===d||v===null||Be(v)?(n.exit("chunkString"),f(v)):(n.consume(v),v===92?y:m)}function y(v){return v===d||v===92?(n.consume(v),m):m(v)}}function zo(n,a){let s;return i;function i(l){return Be(l)?(n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),s=!0,i):$e(l)?ht(n,i,s?"linePrefix":"lineSuffix")(l):a(l)}}const WC={name:"definition",tokenize:KC},ZC={partial:!0,tokenize:JC};function KC(n,a,s){const i=this;let l;return c;function c(_){return n.enter("definition"),d(_)}function d(_){return O3.call(i,n,h,s,"definitionLabel","definitionLabelMarker","definitionLabelString")(_)}function h(_){return l=_s(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),_===58?(n.enter("definitionMarker"),n.consume(_),n.exit("definitionMarker"),g):s(_)}function g(_){return an(_)?zo(n,f)(_):f(_)}function f(_){return E3(n,m,s,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(_)}function m(_){return n.attempt(ZC,y,y)(_)}function y(_){return $e(_)?ht(n,v,"whitespace")(_):v(_)}function v(_){return _===null||Be(_)?(n.exit("definition"),i.parser.defined.push(l),a(_)):s(_)}}function JC(n,a,s){return i;function i(h){return an(h)?zo(n,l)(h):s(h)}function l(h){return M3(n,c,s,"definitionTitle","definitionTitleMarker","definitionTitleString")(h)}function c(h){return $e(h)?ht(n,d,"whitespace")(h):d(h)}function d(h){return h===null||Be(h)?a(h):s(h)}}const $C={name:"hardBreakEscape",tokenize:eA};function eA(n,a,s){return i;function i(c){return n.enter("hardBreakEscape"),n.consume(c),l}function l(c){return Be(c)?(n.exit("hardBreakEscape"),a(c)):s(c)}}const tA={name:"headingAtx",resolve:nA,tokenize:rA};function nA(n,a){let s=n.length-2,i=3,l,c;return n[i][1].type==="whitespace"&&(i+=2),s-2>i&&n[s][1].type==="whitespace"&&(s-=2),n[s][1].type==="atxHeadingSequence"&&(i===s-1||s-4>i&&n[s-2][1].type==="whitespace")&&(s-=i+1===s?2:4),s>i&&(l={type:"atxHeadingText",start:n[i][1].start,end:n[s][1].end},c={type:"chunkText",start:n[i][1].start,end:n[s][1].end,contentType:"text"},cr(n,i,s-i+1,[["enter",l,a],["enter",c,a],["exit",c,a],["exit",l,a]])),n}function rA(n,a,s){let i=0;return l;function l(m){return n.enter("atxHeading"),c(m)}function c(m){return n.enter("atxHeadingSequence"),d(m)}function d(m){return m===35&&i++<6?(n.consume(m),d):m===null||an(m)?(n.exit("atxHeadingSequence"),h(m)):s(m)}function h(m){return m===35?(n.enter("atxHeadingSequence"),g(m)):m===null||Be(m)?(n.exit("atxHeading"),a(m)):$e(m)?ht(n,h,"whitespace")(m):(n.enter("atxHeadingText"),f(m))}function g(m){return m===35?(n.consume(m),g):(n.exit("atxHeadingSequence"),h(m))}function f(m){return m===null||m===35||an(m)?(n.exit("atxHeadingText"),h(m)):(n.consume(m),f)}}const aA=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],d_=["pre","script","style","textarea"],sA={concrete:!0,name:"htmlFlow",resolveTo:lA,tokenize:uA},oA={partial:!0,tokenize:dA},iA={partial:!0,tokenize:cA};function lA(n){let a=n.length;for(;a--&&!(n[a][0]==="enter"&&n[a][1].type==="htmlFlow"););return a>1&&n[a-2][1].type==="linePrefix"&&(n[a][1].start=n[a-2][1].start,n[a+1][1].start=n[a-2][1].start,n.splice(a-2,2)),n}function uA(n,a,s){const i=this;let l,c,d,h,g;return f;function f(S){return m(S)}function m(S){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(S),y}function y(S){return S===33?(n.consume(S),v):S===47?(n.consume(S),c=!0,M):S===63?(n.consume(S),l=3,i.interrupt?a:w):lr(S)?(n.consume(S),d=String.fromCharCode(S),U):s(S)}function v(S){return S===45?(n.consume(S),l=2,_):S===91?(n.consume(S),l=5,h=0,A):lr(S)?(n.consume(S),l=4,i.interrupt?a:w):s(S)}function _(S){return S===45?(n.consume(S),i.interrupt?a:w):s(S)}function A(S){const oe="CDATA[";return S===oe.charCodeAt(h++)?(n.consume(S),h===oe.length?i.interrupt?a:be:A):s(S)}function M(S){return lr(S)?(n.consume(S),d=String.fromCharCode(S),U):s(S)}function U(S){if(S===null||S===47||S===62||an(S)){const oe=S===47,Ie=d.toLowerCase();return!oe&&!c&&d_.includes(Ie)?(l=1,i.interrupt?a(S):be(S)):aA.includes(d.toLowerCase())?(l=6,oe?(n.consume(S),E):i.interrupt?a(S):be(S)):(l=7,i.interrupt&&!i.parser.lazy[i.now().line]?s(S):c?j(S):F(S))}return S===45||mn(S)?(n.consume(S),d+=String.fromCharCode(S),U):s(S)}function E(S){return S===62?(n.consume(S),i.interrupt?a:be):s(S)}function j(S){return $e(S)?(n.consume(S),j):de(S)}function F(S){return S===47?(n.consume(S),de):S===58||S===95||lr(S)?(n.consume(S),se):$e(S)?(n.consume(S),F):de(S)}function se(S){return S===45||S===46||S===58||S===95||mn(S)?(n.consume(S),se):J(S)}function J(S){return S===61?(n.consume(S),T):$e(S)?(n.consume(S),J):F(S)}function T(S){return S===null||S===60||S===61||S===62||S===96?s(S):S===34||S===39?(n.consume(S),g=S,pe):$e(S)?(n.consume(S),T):ve(S)}function pe(S){return S===g?(n.consume(S),g=null,Q):S===null||Be(S)?s(S):(n.consume(S),pe)}function ve(S){return S===null||S===34||S===39||S===47||S===60||S===61||S===62||S===96||an(S)?J(S):(n.consume(S),ve)}function Q(S){return S===47||S===62||$e(S)?F(S):s(S)}function de(S){return S===62?(n.consume(S),fe):s(S)}function fe(S){return S===null||Be(S)?be(S):$e(S)?(n.consume(S),fe):s(S)}function be(S){return S===45&&l===2?(n.consume(S),G):S===60&&l===1?(n.consume(S),ae):S===62&&l===4?(n.consume(S),Z):S===63&&l===3?(n.consume(S),w):S===93&&l===5?(n.consume(S),Me):Be(S)&&(l===6||l===7)?(n.exit("htmlFlowData"),n.check(oA,me,he)(S)):S===null||Be(S)?(n.exit("htmlFlowData"),he(S)):(n.consume(S),be)}function he(S){return n.check(iA,ne,me)(S)}function ne(S){return n.enter("lineEnding"),n.consume(S),n.exit("lineEnding"),ue}function ue(S){return S===null||Be(S)?he(S):(n.enter("htmlFlowData"),be(S))}function G(S){return S===45?(n.consume(S),w):be(S)}function ae(S){return S===47?(n.consume(S),d="",ge):be(S)}function ge(S){if(S===62){const oe=d.toLowerCase();return d_.includes(oe)?(n.consume(S),Z):be(S)}return lr(S)&&d.length<8?(n.consume(S),d+=String.fromCharCode(S),ge):be(S)}function Me(S){return S===93?(n.consume(S),w):be(S)}function w(S){return S===62?(n.consume(S),Z):S===45&&l===2?(n.consume(S),w):be(S)}function Z(S){return S===null||Be(S)?(n.exit("htmlFlowData"),me(S)):(n.consume(S),Z)}function me(S){return n.exit("htmlFlow"),a(S)}}function cA(n,a,s){const i=this;return l;function l(d){return Be(d)?(n.enter("lineEnding"),n.consume(d),n.exit("lineEnding"),c):s(d)}function c(d){return i.parser.lazy[i.now().line]?s(d):a(d)}}function dA(n,a,s){return i;function i(l){return n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),n.attempt(Tl,a,s)}}const hA={name:"htmlText",tokenize:pA};function pA(n,a,s){const i=this;let l,c,d;return h;function h(w){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(w),g}function g(w){return w===33?(n.consume(w),f):w===47?(n.consume(w),J):w===63?(n.consume(w),F):lr(w)?(n.consume(w),ve):s(w)}function f(w){return w===45?(n.consume(w),m):w===91?(n.consume(w),c=0,A):lr(w)?(n.consume(w),j):s(w)}function m(w){return w===45?(n.consume(w),_):s(w)}function y(w){return w===null?s(w):w===45?(n.consume(w),v):Be(w)?(d=y,ae(w)):(n.consume(w),y)}function v(w){return w===45?(n.consume(w),_):y(w)}function _(w){return w===62?G(w):w===45?v(w):y(w)}function A(w){const Z="CDATA[";return w===Z.charCodeAt(c++)?(n.consume(w),c===Z.length?M:A):s(w)}function M(w){return w===null?s(w):w===93?(n.consume(w),U):Be(w)?(d=M,ae(w)):(n.consume(w),M)}function U(w){return w===93?(n.consume(w),E):M(w)}function E(w){return w===62?G(w):w===93?(n.consume(w),E):M(w)}function j(w){return w===null||w===62?G(w):Be(w)?(d=j,ae(w)):(n.consume(w),j)}function F(w){return w===null?s(w):w===63?(n.consume(w),se):Be(w)?(d=F,ae(w)):(n.consume(w),F)}function se(w){return w===62?G(w):F(w)}function J(w){return lr(w)?(n.consume(w),T):s(w)}function T(w){return w===45||mn(w)?(n.consume(w),T):pe(w)}function pe(w){return Be(w)?(d=pe,ae(w)):$e(w)?(n.consume(w),pe):G(w)}function ve(w){return w===45||mn(w)?(n.consume(w),ve):w===47||w===62||an(w)?Q(w):s(w)}function Q(w){return w===47?(n.consume(w),G):w===58||w===95||lr(w)?(n.consume(w),de):Be(w)?(d=Q,ae(w)):$e(w)?(n.consume(w),Q):G(w)}function de(w){return w===45||w===46||w===58||w===95||mn(w)?(n.consume(w),de):fe(w)}function fe(w){return w===61?(n.consume(w),be):Be(w)?(d=fe,ae(w)):$e(w)?(n.consume(w),fe):Q(w)}function be(w){return w===null||w===60||w===61||w===62||w===96?s(w):w===34||w===39?(n.consume(w),l=w,he):Be(w)?(d=be,ae(w)):$e(w)?(n.consume(w),be):(n.consume(w),ne)}function he(w){return w===l?(n.consume(w),l=void 0,ue):w===null?s(w):Be(w)?(d=he,ae(w)):(n.consume(w),he)}function ne(w){return w===null||w===34||w===39||w===60||w===61||w===96?s(w):w===47||w===62||an(w)?Q(w):(n.consume(w),ne)}function ue(w){return w===47||w===62||an(w)?Q(w):s(w)}function G(w){return w===62?(n.consume(w),n.exit("htmlTextData"),n.exit("htmlText"),a):s(w)}function ae(w){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(w),n.exit("lineEnding"),ge}function ge(w){return $e(w)?ht(n,Me,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(w):Me(w)}function Me(w){return n.enter("htmlTextData"),d(w)}}const w1={name:"labelEnd",resolveAll:bA,resolveTo:yA,tokenize:vA},fA={tokenize:wA},gA={tokenize:_A},mA={tokenize:xA};function bA(n){let a=-1;const s=[];for(;++a<n.length;){const i=n[a][1];if(s.push(n[a]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const l=i.type==="labelImage"?4:2;i.type="data",a+=l}}return n.length!==s.length&&cr(n,0,n.length,s),n}function yA(n,a){let s=n.length,i=0,l,c,d,h;for(;s--;)if(l=n[s][1],c){if(l.type==="link"||l.type==="labelLink"&&l._inactive)break;n[s][0]==="enter"&&l.type==="labelLink"&&(l._inactive=!0)}else if(d){if(n[s][0]==="enter"&&(l.type==="labelImage"||l.type==="labelLink")&&!l._balanced&&(c=s,l.type!=="labelLink")){i=2;break}}else l.type==="labelEnd"&&(d=s);const g={type:n[c][1].type==="labelLink"?"link":"image",start:{...n[c][1].start},end:{...n[n.length-1][1].end}},f={type:"label",start:{...n[c][1].start},end:{...n[d][1].end}},m={type:"labelText",start:{...n[c+i+2][1].end},end:{...n[d-2][1].start}};return h=[["enter",g,a],["enter",f,a]],h=zn(h,n.slice(c+1,c+i+3)),h=zn(h,[["enter",m,a]]),h=zn(h,v1(a.parser.constructs.insideSpan.null,n.slice(c+i+4,d-3),a)),h=zn(h,[["exit",m,a],n[d-2],n[d-1],["exit",f,a]]),h=zn(h,n.slice(d+1)),h=zn(h,[["exit",g,a]]),cr(n,c,n.length,h),n}function vA(n,a,s){const i=this;let l=i.events.length,c,d;for(;l--;)if((i.events[l][1].type==="labelImage"||i.events[l][1].type==="labelLink")&&!i.events[l][1]._balanced){c=i.events[l][1];break}return h;function h(v){return c?c._inactive?y(v):(d=i.parser.defined.includes(_s(i.sliceSerialize({start:c.end,end:i.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(v),n.exit("labelMarker"),n.exit("labelEnd"),g):s(v)}function g(v){return v===40?n.attempt(fA,m,d?m:y)(v):v===91?n.attempt(gA,m,d?f:y)(v):d?m(v):y(v)}function f(v){return n.attempt(mA,m,y)(v)}function m(v){return a(v)}function y(v){return c._balanced=!0,s(v)}}function wA(n,a,s){return i;function i(y){return n.enter("resource"),n.enter("resourceMarker"),n.consume(y),n.exit("resourceMarker"),l}function l(y){return an(y)?zo(n,c)(y):c(y)}function c(y){return y===41?m(y):E3(n,d,h,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(y)}function d(y){return an(y)?zo(n,g)(y):m(y)}function h(y){return s(y)}function g(y){return y===34||y===39||y===40?M3(n,f,s,"resourceTitle","resourceTitleMarker","resourceTitleString")(y):m(y)}function f(y){return an(y)?zo(n,m)(y):m(y)}function m(y){return y===41?(n.enter("resourceMarker"),n.consume(y),n.exit("resourceMarker"),n.exit("resource"),a):s(y)}}function _A(n,a,s){const i=this;return l;function l(h){return O3.call(i,n,c,d,"reference","referenceMarker","referenceString")(h)}function c(h){return i.parser.defined.includes(_s(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?a(h):s(h)}function d(h){return s(h)}}function xA(n,a,s){return i;function i(c){return n.enter("reference"),n.enter("referenceMarker"),n.consume(c),n.exit("referenceMarker"),l}function l(c){return c===93?(n.enter("referenceMarker"),n.consume(c),n.exit("referenceMarker"),n.exit("reference"),a):s(c)}}const SA={name:"labelStartImage",resolveAll:w1.resolveAll,tokenize:kA};function kA(n,a,s){const i=this;return l;function l(h){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(h),n.exit("labelImageMarker"),c}function c(h){return h===91?(n.enter("labelMarker"),n.consume(h),n.exit("labelMarker"),n.exit("labelImage"),d):s(h)}function d(h){return h===94&&"_hiddenFootnoteSupport"in i.parser.constructs?s(h):a(h)}}const TA={name:"labelStartLink",resolveAll:w1.resolveAll,tokenize:DA};function DA(n,a,s){const i=this;return l;function l(d){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(d),n.exit("labelMarker"),n.exit("labelLink"),c}function c(d){return d===94&&"_hiddenFootnoteSupport"in i.parser.constructs?s(d):a(d)}}const Wc={name:"lineEnding",tokenize:CA};function CA(n,a){return s;function s(i){return n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),ht(n,a,"linePrefix")}}const ul={name:"thematicBreak",tokenize:AA};function AA(n,a,s){let i=0,l;return c;function c(f){return n.enter("thematicBreak"),d(f)}function d(f){return l=f,h(f)}function h(f){return f===l?(n.enter("thematicBreakSequence"),g(f)):i>=3&&(f===null||Be(f))?(n.exit("thematicBreak"),a(f)):s(f)}function g(f){return f===l?(n.consume(f),i++,g):(n.exit("thematicBreakSequence"),$e(f)?ht(n,h,"whitespace")(f):h(f))}}const rn={continuation:{tokenize:LA},exit:RA,name:"list",tokenize:MA},EA={partial:!0,tokenize:IA},OA={partial:!0,tokenize:zA};function MA(n,a,s){const i=this,l=i.events[i.events.length-1];let c=l&&l[1].type==="linePrefix"?l[2].sliceSerialize(l[1],!0).length:0,d=0;return h;function h(_){const A=i.containerState.type||(_===42||_===43||_===45?"listUnordered":"listOrdered");if(A==="listUnordered"?!i.containerState.marker||_===i.containerState.marker:pd(_)){if(i.containerState.type||(i.containerState.type=A,n.enter(A,{_container:!0})),A==="listUnordered")return n.enter("listItemPrefix"),_===42||_===45?n.check(ul,s,f)(_):f(_);if(!i.interrupt||_===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),g(_)}return s(_)}function g(_){return pd(_)&&++d<10?(n.consume(_),g):(!i.interrupt||d<2)&&(i.containerState.marker?_===i.containerState.marker:_===41||_===46)?(n.exit("listItemValue"),f(_)):s(_)}function f(_){return n.enter("listItemMarker"),n.consume(_),n.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||_,n.check(Tl,i.interrupt?s:m,n.attempt(EA,v,y))}function m(_){return i.containerState.initialBlankLine=!0,c++,v(_)}function y(_){return $e(_)?(n.enter("listItemPrefixWhitespace"),n.consume(_),n.exit("listItemPrefixWhitespace"),v):s(_)}function v(_){return i.containerState.size=c+i.sliceSerialize(n.exit("listItemPrefix"),!0).length,a(_)}}function LA(n,a,s){const i=this;return i.containerState._closeFlow=void 0,n.check(Tl,l,c);function l(h){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,ht(n,a,"listItemIndent",i.containerState.size+1)(h)}function c(h){return i.containerState.furtherBlankLines||!$e(h)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,d(h)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,n.attempt(OA,a,d)(h))}function d(h){return i.containerState._closeFlow=!0,i.interrupt=void 0,ht(n,n.attempt(rn,a,s),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h)}}function zA(n,a,s){const i=this;return ht(n,l,"listItemIndent",i.containerState.size+1);function l(c){const d=i.events[i.events.length-1];return d&&d[1].type==="listItemIndent"&&d[2].sliceSerialize(d[1],!0).length===i.containerState.size?a(c):s(c)}}function RA(n){n.exit(this.containerState.type)}function IA(n,a,s){const i=this;return ht(n,l,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function l(c){const d=i.events[i.events.length-1];return!$e(c)&&d&&d[1].type==="listItemPrefixWhitespace"?a(c):s(c)}}const h_={name:"setextUnderline",resolveTo:PA,tokenize:BA};function PA(n,a){let s=n.length,i,l,c;for(;s--;)if(n[s][0]==="enter"){if(n[s][1].type==="content"){i=s;break}n[s][1].type==="paragraph"&&(l=s)}else n[s][1].type==="content"&&n.splice(s,1),!c&&n[s][1].type==="definition"&&(c=s);const d={type:"setextHeading",start:{...n[l][1].start},end:{...n[n.length-1][1].end}};return n[l][1].type="setextHeadingText",c?(n.splice(l,0,["enter",d,a]),n.splice(c+1,0,["exit",n[i][1],a]),n[i][1].end={...n[c][1].end}):n[i][1]=d,n.push(["exit",d,a]),n}function BA(n,a,s){const i=this;let l;return c;function c(f){let m=i.events.length,y;for(;m--;)if(i.events[m][1].type!=="lineEnding"&&i.events[m][1].type!=="linePrefix"&&i.events[m][1].type!=="content"){y=i.events[m][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||y)?(n.enter("setextHeadingLine"),l=f,d(f)):s(f)}function d(f){return n.enter("setextHeadingLineSequence"),h(f)}function h(f){return f===l?(n.consume(f),h):(n.exit("setextHeadingLineSequence"),$e(f)?ht(n,g,"lineSuffix")(f):g(f))}function g(f){return f===null||Be(f)?(n.exit("setextHeadingLine"),a(f)):s(f)}}const NA={tokenize:UA};function UA(n){const a=this,s=n.attempt(Tl,i,n.attempt(this.parser.constructs.flowInitial,l,ht(n,n.attempt(this.parser.constructs.flow,l,n.attempt(VC,l)),"linePrefix")));return s;function i(c){if(c===null){n.consume(c);return}return n.enter("lineEndingBlank"),n.consume(c),n.exit("lineEndingBlank"),a.currentConstruct=void 0,s}function l(c){if(c===null){n.consume(c);return}return n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),a.currentConstruct=void 0,s}}const jA={resolveAll:z3()},FA=L3("string"),HA=L3("text");function L3(n){return{resolveAll:z3(n==="text"?qA:void 0),tokenize:a};function a(s){const i=this,l=this.parser.constructs[n],c=s.attempt(l,d,h);return d;function d(m){return f(m)?c(m):h(m)}function h(m){if(m===null){s.consume(m);return}return s.enter("data"),s.consume(m),g}function g(m){return f(m)?(s.exit("data"),c(m)):(s.consume(m),g)}function f(m){if(m===null)return!0;const y=l[m];let v=-1;if(y)for(;++v<y.length;){const _=y[v];if(!_.previous||_.previous.call(i,i.previous))return!0}return!1}}}function z3(n){return a;function a(s,i){let l=-1,c;for(;++l<=s.length;)c===void 0?s[l]&&s[l][1].type==="data"&&(c=l,l++):(!s[l]||s[l][1].type!=="data")&&(l!==c+2&&(s[c][1].end=s[l-1][1].end,s.splice(c+2,l-c-2),l=c+2),c=void 0);return n?n(s,i):s}}function qA(n,a){let s=0;for(;++s<=n.length;)if((s===n.length||n[s][1].type==="lineEnding")&&n[s-1][1].type==="data"){const i=n[s-1][1],l=a.sliceStream(i);let c=l.length,d=-1,h=0,g;for(;c--;){const f=l[c];if(typeof f=="string"){for(d=f.length;f.charCodeAt(d-1)===32;)h++,d--;if(d)break;d=-1}else if(f===-2)g=!0,h++;else if(f!==-1){c++;break}}if(h){const f={type:s===n.length||g||h<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:c?d:i.start._bufferIndex+d,_index:i.start._index+c,line:i.end.line,column:i.end.column-h,offset:i.end.offset-h},end:{...i.end}};i.end={...f.start},i.start.offset===i.end.offset?Object.assign(i,f):(n.splice(s,0,["enter",f,a],["exit",f,a]),s+=2)}s++}return n}const VA={42:rn,43:rn,45:rn,48:rn,49:rn,50:rn,51:rn,52:rn,53:rn,54:rn,55:rn,56:rn,57:rn,62:T3},GA={91:WC},YA={[-2]:Xc,[-1]:Xc,32:Xc},QA={35:tA,42:ul,45:[h_,ul],60:sA,61:h_,95:ul,96:c_,126:c_},XA={38:C3,92:D3},WA={[-5]:Wc,[-4]:Wc,[-3]:Wc,33:SA,38:C3,42:fd,60:[TC,hA],91:TA,92:[$C,D3],93:w1,95:fd,96:NC},ZA={null:[fd,jA]},KA={null:[42,95]},JA={null:[]},$A=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:KA,contentInitial:GA,disable:JA,document:VA,flow:QA,flowInitial:YA,insideSpan:ZA,string:XA,text:WA},Symbol.toStringTag,{value:"Module"}));function eE(n,a,s){let i={_bufferIndex:-1,_index:0,line:s&&s.line||1,column:s&&s.column||1,offset:s&&s.offset||0};const l={},c=[];let d=[],h=[];const g={attempt:pe(J),check:pe(T),consume:j,enter:F,exit:se,interrupt:pe(T,{interrupt:!0})},f={code:null,containerState:{},defineSkip:M,events:[],now:A,parser:n,previous:null,sliceSerialize:v,sliceStream:_,write:y};let m=a.tokenize.call(f,g);return a.resolveAll&&c.push(a),f;function y(fe){return d=zn(d,fe),U(),d[d.length-1]!==null?[]:(ve(a,0),f.events=v1(c,f.events,f),f.events)}function v(fe,be){return nE(_(fe),be)}function _(fe){return tE(d,fe)}function A(){const{_bufferIndex:fe,_index:be,line:he,column:ne,offset:ue}=i;return{_bufferIndex:fe,_index:be,line:he,column:ne,offset:ue}}function M(fe){l[fe.line]=fe.column,de()}function U(){let fe;for(;i._index<d.length;){const be=d[i._index];if(typeof be=="string")for(fe=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===fe&&i._bufferIndex<be.length;)E(be.charCodeAt(i._bufferIndex));else E(be)}}function E(fe){m=m(fe)}function j(fe){Be(fe)?(i.line++,i.column=1,i.offset+=fe===-3?2:1,de()):fe!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===d[i._index].length&&(i._bufferIndex=-1,i._index++)),f.previous=fe}function F(fe,be){const he=be||{};return he.type=fe,he.start=A(),f.events.push(["enter",he,f]),h.push(he),he}function se(fe){const be=h.pop();return be.end=A(),f.events.push(["exit",be,f]),be}function J(fe,be){ve(fe,be.from)}function T(fe,be){be.restore()}function pe(fe,be){return he;function he(ne,ue,G){let ae,ge,Me,w;return Array.isArray(ne)?me(ne):"tokenize"in ne?me([ne]):Z(ne);function Z(we){return pt;function pt(Ne){const Ze=Ne!==null&&we[Ne],Le=Ne!==null&&we.null,ot=[...Array.isArray(Ze)?Ze:Ze?[Ze]:[],...Array.isArray(Le)?Le:Le?[Le]:[]];return me(ot)(Ne)}}function me(we){return ae=we,ge=0,we.length===0?G:S(we[ge])}function S(we){return pt;function pt(Ne){return w=Q(),Me=we,we.partial||(f.currentConstruct=we),we.name&&f.parser.constructs.disable.null.includes(we.name)?Ie():we.tokenize.call(be?Object.assign(Object.create(f),be):f,g,oe,Ie)(Ne)}}function oe(we){return fe(Me,w),ue}function Ie(we){return w.restore(),++ge<ae.length?S(ae[ge]):G}}}function ve(fe,be){fe.resolveAll&&!c.includes(fe)&&c.push(fe),fe.resolve&&cr(f.events,be,f.events.length-be,fe.resolve(f.events.slice(be),f)),fe.resolveTo&&(f.events=fe.resolveTo(f.events,f))}function Q(){const fe=A(),be=f.previous,he=f.currentConstruct,ne=f.events.length,ue=Array.from(h);return{from:ne,restore:G};function G(){i=fe,f.previous=be,f.currentConstruct=he,f.events.length=ne,h=ue,de()}}function de(){i.line in l&&i.column<2&&(i.column=l[i.line],i.offset+=l[i.line]-1)}}function tE(n,a){const s=a.start._index,i=a.start._bufferIndex,l=a.end._index,c=a.end._bufferIndex;let d;if(s===l)d=[n[s].slice(i,c)];else{if(d=n.slice(s,l),i>-1){const h=d[0];typeof h=="string"?d[0]=h.slice(i):d.shift()}c>0&&d.push(n[l].slice(0,c))}return d}function nE(n,a){let s=-1;const i=[];let l;for(;++s<n.length;){const c=n[s];let d;if(typeof c=="string")d=c;else switch(c){case-5:{d="\r";break}case-4:{d=`
`;break}case-3:{d=`\r
`;break}case-2:{d=a?" ":"	";break}case-1:{if(!a&&l)continue;d=" ";break}default:d=String.fromCharCode(c)}l=c===-2,i.push(d)}return i.join("")}function rE(n){const i={constructs:cC([$A,...(n||{}).extensions||[]]),content:l(yC),defined:[],document:l(wC),flow:l(NA),lazy:{},string:l(FA),text:l(HA)};return i;function l(c){return d;function d(h){return eE(i,c,h)}}}function aE(n){for(;!A3(n););return n}const p_=/[\0\t\n\r]/g;function sE(){let n=1,a="",s=!0,i;return l;function l(c,d,h){const g=[];let f,m,y,v,_;for(c=a+(typeof c=="string"?c.toString():new TextDecoder(d||void 0).decode(c)),y=0,a="",s&&(c.charCodeAt(0)===65279&&y++,s=void 0);y<c.length;){if(p_.lastIndex=y,f=p_.exec(c),v=f&&f.index!==void 0?f.index:c.length,_=c.charCodeAt(v),!f){a=c.slice(y);break}if(_===10&&y===v&&i)g.push(-3),i=void 0;else switch(i&&(g.push(-5),i=void 0),y<v&&(g.push(c.slice(y,v)),n+=v-y),_){case 0:{g.push(65533),n++;break}case 9:{for(m=Math.ceil(n/4)*4,g.push(-2);n++<m;)g.push(-1);break}case 10:{g.push(-4),n=1;break}default:i=!0,n=1}y=v+1}return h&&(i&&g.push(-5),a&&g.push(a),g.push(null)),g}}const oE=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function iE(n){return n.replace(oE,lE)}function lE(n,a,s){if(a)return a;if(s.charCodeAt(0)===35){const l=s.charCodeAt(1),c=l===120||l===88;return k3(s.slice(c?2:1),c?16:10)}return y1(s)||n}const R3={}.hasOwnProperty;function uE(n,a,s){return typeof a!="string"&&(s=a,a=void 0),cE(s)(aE(rE(s).document().write(sE()(n,a,!0))))}function cE(n){const a={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:c(jn),autolinkProtocol:Q,autolinkEmail:Q,atxHeading:c(Nn),blockQuote:c(Le),characterEscape:Q,characterReference:Q,codeFenced:c(ot),codeFencedFenceInfo:d,codeFencedFenceMeta:d,codeIndented:c(ot,d),codeText:c(sn,d),codeTextData:Q,data:Q,codeFlowValue:Q,definition:c(Lt),definitionDestinationString:d,definitionLabelString:d,definitionTitleString:d,emphasis:c(Vt),hardBreakEscape:c(on),hardBreakTrailing:c(on),htmlFlow:c(Un,d),htmlFlowData:Q,htmlText:c(Un,d),htmlTextData:Q,image:c(Zn),label:d,link:c(jn),listItem:c(hr),listItemValue:v,listOrdered:c(Fn,y),listUnordered:c(Fn),paragraph:c(re),reference:S,referenceString:d,resourceDestinationString:d,resourceTitleString:d,setextHeading:c(Nn),strong:c(K),thematicBreak:c(V)},exit:{atxHeading:g(),atxHeadingSequence:J,autolink:g(),autolinkEmail:Ze,autolinkProtocol:Ne,blockQuote:g(),characterEscapeValue:de,characterReferenceMarkerHexadecimal:Ie,characterReferenceMarkerNumeric:Ie,characterReferenceValue:we,characterReference:pt,codeFenced:g(U),codeFencedFence:M,codeFencedFenceInfo:_,codeFencedFenceMeta:A,codeFlowValue:de,codeIndented:g(E),codeText:g(ue),codeTextData:de,data:de,definition:g(),definitionDestinationString:se,definitionLabelString:j,definitionTitleString:F,emphasis:g(),hardBreakEscape:g(be),hardBreakTrailing:g(be),htmlFlow:g(he),htmlFlowData:de,htmlText:g(ne),htmlTextData:de,image:g(ae),label:Me,labelText:ge,lineEnding:fe,link:g(G),listItem:g(),listOrdered:g(),listUnordered:g(),paragraph:g(),referenceString:oe,resourceDestinationString:w,resourceTitleString:Z,resource:me,setextHeading:g(ve),setextHeadingLineSequence:pe,setextHeadingText:T,strong:g(),thematicBreak:g()}};I3(a,(n||{}).mdastExtensions||[]);const s={};return i;function i(k){let I={type:"root",children:[]};const X={stack:[I],tokenStack:[],config:a,enter:h,exit:f,buffer:d,resume:m,data:s},ce=[];let De=-1;for(;++De<k.length;)if(k[De][1].type==="listOrdered"||k[De][1].type==="listUnordered")if(k[De][0]==="enter")ce.push(De);else{const et=ce.pop();De=l(k,et,De)}for(De=-1;++De<k.length;){const et=a[k[De][0]];R3.call(et,k[De][1].type)&&et[k[De][1].type].call(Object.assign({sliceSerialize:k[De][2].sliceSerialize},X),k[De][1])}if(X.tokenStack.length>0){const et=X.tokenStack[X.tokenStack.length-1];(et[1]||f_).call(X,void 0,et[0])}for(I.position={start:ea(k.length>0?k[0][1].start:{line:1,column:1,offset:0}),end:ea(k.length>0?k[k.length-2][1].end:{line:1,column:1,offset:0})},De=-1;++De<a.transforms.length;)I=a.transforms[De](I)||I;return I}function l(k,I,X){let ce=I-1,De=-1,et=!1,Wt,zt,vt,pr;for(;++ce<=X;){const ft=k[ce];switch(ft[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ft[0]==="enter"?De++:De--,pr=void 0;break}case"lineEndingBlank":{ft[0]==="enter"&&(Wt&&!pr&&!De&&!vt&&(vt=ce),pr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:pr=void 0}if(!De&&ft[0]==="enter"&&ft[1].type==="listItemPrefix"||De===-1&&ft[0]==="exit"&&(ft[1].type==="listUnordered"||ft[1].type==="listOrdered")){if(Wt){let gt=ce;for(zt=void 0;gt--;){const en=k[gt];if(en[1].type==="lineEnding"||en[1].type==="lineEndingBlank"){if(en[0]==="exit")continue;zt&&(k[zt][1].type="lineEndingBlank",et=!0),en[1].type="lineEnding",zt=gt}else if(!(en[1].type==="linePrefix"||en[1].type==="blockQuotePrefix"||en[1].type==="blockQuotePrefixWhitespace"||en[1].type==="blockQuoteMarker"||en[1].type==="listItemIndent"))break}vt&&(!zt||vt<zt)&&(Wt._spread=!0),Wt.end=Object.assign({},zt?k[zt][1].start:ft[1].end),k.splice(zt||ce,0,["exit",Wt,ft[2]]),ce++,X++}if(ft[1].type==="listItemPrefix"){const gt={type:"listItem",_spread:!1,start:Object.assign({},ft[1].start),end:void 0};Wt=gt,k.splice(ce,0,["enter",gt,ft[2]]),ce++,X++,vt=void 0,pr=!0}}}return k[I][1]._spread=et,X}function c(k,I){return X;function X(ce){h.call(this,k(ce),ce),I&&I.call(this,ce)}}function d(){this.stack.push({type:"fragment",children:[]})}function h(k,I,X){this.stack[this.stack.length-1].children.push(k),this.stack.push(k),this.tokenStack.push([I,X||void 0]),k.position={start:ea(I.start),end:void 0}}function g(k){return I;function I(X){k&&k.call(this,X),f.call(this,X)}}function f(k,I){const X=this.stack.pop(),ce=this.tokenStack.pop();if(ce)ce[0].type!==k.type&&(I?I.call(this,k,ce[0]):(ce[1]||f_).call(this,k,ce[0]));else throw new Error("Cannot close `"+k.type+"` ("+Lo({start:k.start,end:k.end})+"): it’s not open");X.position.end=ea(k.end)}function m(){return lC(this.stack.pop())}function y(){this.data.expectingFirstListItemValue=!0}function v(k){if(this.data.expectingFirstListItemValue){const I=this.stack[this.stack.length-2];I.start=Number.parseInt(this.sliceSerialize(k),10),this.data.expectingFirstListItemValue=void 0}}function _(){const k=this.resume(),I=this.stack[this.stack.length-1];I.lang=k}function A(){const k=this.resume(),I=this.stack[this.stack.length-1];I.meta=k}function M(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function U(){const k=this.resume(),I=this.stack[this.stack.length-1];I.value=k.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function E(){const k=this.resume(),I=this.stack[this.stack.length-1];I.value=k.replace(/(\r?\n|\r)$/g,"")}function j(k){const I=this.resume(),X=this.stack[this.stack.length-1];X.label=I,X.identifier=_s(this.sliceSerialize(k)).toLowerCase()}function F(){const k=this.resume(),I=this.stack[this.stack.length-1];I.title=k}function se(){const k=this.resume(),I=this.stack[this.stack.length-1];I.url=k}function J(k){const I=this.stack[this.stack.length-1];if(!I.depth){const X=this.sliceSerialize(k).length;I.depth=X}}function T(){this.data.setextHeadingSlurpLineEnding=!0}function pe(k){const I=this.stack[this.stack.length-1];I.depth=this.sliceSerialize(k).codePointAt(0)===61?1:2}function ve(){this.data.setextHeadingSlurpLineEnding=void 0}function Q(k){const X=this.stack[this.stack.length-1].children;let ce=X[X.length-1];(!ce||ce.type!=="text")&&(ce=ee(),ce.position={start:ea(k.start),end:void 0},X.push(ce)),this.stack.push(ce)}function de(k){const I=this.stack.pop();I.value+=this.sliceSerialize(k),I.position.end=ea(k.end)}function fe(k){const I=this.stack[this.stack.length-1];if(this.data.atHardBreak){const X=I.children[I.children.length-1];X.position.end=ea(k.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&a.canContainEols.includes(I.type)&&(Q.call(this,k),de.call(this,k))}function be(){this.data.atHardBreak=!0}function he(){const k=this.resume(),I=this.stack[this.stack.length-1];I.value=k}function ne(){const k=this.resume(),I=this.stack[this.stack.length-1];I.value=k}function ue(){const k=this.resume(),I=this.stack[this.stack.length-1];I.value=k}function G(){const k=this.stack[this.stack.length-1];if(this.data.inReference){const I=this.data.referenceType||"shortcut";k.type+="Reference",k.referenceType=I,delete k.url,delete k.title}else delete k.identifier,delete k.label;this.data.referenceType=void 0}function ae(){const k=this.stack[this.stack.length-1];if(this.data.inReference){const I=this.data.referenceType||"shortcut";k.type+="Reference",k.referenceType=I,delete k.url,delete k.title}else delete k.identifier,delete k.label;this.data.referenceType=void 0}function ge(k){const I=this.sliceSerialize(k),X=this.stack[this.stack.length-2];X.label=iE(I),X.identifier=_s(I).toLowerCase()}function Me(){const k=this.stack[this.stack.length-1],I=this.resume(),X=this.stack[this.stack.length-1];if(this.data.inReference=!0,X.type==="link"){const ce=k.children;X.children=ce}else X.alt=I}function w(){const k=this.resume(),I=this.stack[this.stack.length-1];I.url=k}function Z(){const k=this.resume(),I=this.stack[this.stack.length-1];I.title=k}function me(){this.data.inReference=void 0}function S(){this.data.referenceType="collapsed"}function oe(k){const I=this.resume(),X=this.stack[this.stack.length-1];X.label=I,X.identifier=_s(this.sliceSerialize(k)).toLowerCase(),this.data.referenceType="full"}function Ie(k){this.data.characterReferenceType=k.type}function we(k){const I=this.sliceSerialize(k),X=this.data.characterReferenceType;let ce;X?(ce=k3(I,X==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ce=y1(I);const De=this.stack[this.stack.length-1];De.value+=ce}function pt(k){const I=this.stack.pop();I.position.end=ea(k.end)}function Ne(k){de.call(this,k);const I=this.stack[this.stack.length-1];I.url=this.sliceSerialize(k)}function Ze(k){de.call(this,k);const I=this.stack[this.stack.length-1];I.url="mailto:"+this.sliceSerialize(k)}function Le(){return{type:"blockquote",children:[]}}function ot(){return{type:"code",lang:null,meta:null,value:""}}function sn(){return{type:"inlineCode",value:""}}function Lt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Vt(){return{type:"emphasis",children:[]}}function Nn(){return{type:"heading",depth:0,children:[]}}function on(){return{type:"break"}}function Un(){return{type:"html",value:""}}function Zn(){return{type:"image",title:null,url:"",alt:null}}function jn(){return{type:"link",title:null,url:"",children:[]}}function Fn(k){return{type:"list",ordered:k.type==="listOrdered",start:null,spread:k._spread,children:[]}}function hr(k){return{type:"listItem",spread:k._spread,checked:null,children:[]}}function re(){return{type:"paragraph",children:[]}}function K(){return{type:"strong",children:[]}}function ee(){return{type:"text",value:""}}function V(){return{type:"thematicBreak"}}}function ea(n){return{line:n.line,column:n.column,offset:n.offset}}function I3(n,a){let s=-1;for(;++s<a.length;){const i=a[s];Array.isArray(i)?I3(n,i):dE(n,i)}}function dE(n,a){let s;for(s in a)if(R3.call(a,s))switch(s){case"canContainEols":{const i=a[s];i&&n[s].push(...i);break}case"transforms":{const i=a[s];i&&n[s].push(...i);break}case"enter":case"exit":{const i=a[s];i&&Object.assign(n[s],i);break}}}function f_(n,a){throw n?new Error("Cannot close `"+n.type+"` ("+Lo({start:n.start,end:n.end})+"): a different token (`"+a.type+"`, "+Lo({start:a.start,end:a.end})+") is open"):new Error("Cannot close document, a token (`"+a.type+"`, "+Lo({start:a.start,end:a.end})+") is still open")}function hE(n){const a=this;a.parser=s;function s(i){return uE(i,{...a.data("settings"),...n,extensions:a.data("micromarkExtensions")||[],mdastExtensions:a.data("fromMarkdownExtensions")||[]})}}function pE(n,a){const s={type:"element",tagName:"blockquote",properties:{},children:n.wrap(n.all(a),!0)};return n.patch(a,s),n.applyData(a,s)}function fE(n,a){const s={type:"element",tagName:"br",properties:{},children:[]};return n.patch(a,s),[n.applyData(a,s),{type:"text",value:`
`}]}function gE(n,a){const s=a.value?a.value+`
`:"",i={};a.lang&&(i.className=["language-"+a.lang]);let l={type:"element",tagName:"code",properties:i,children:[{type:"text",value:s}]};return a.meta&&(l.data={meta:a.meta}),n.patch(a,l),l=n.applyData(a,l),l={type:"element",tagName:"pre",properties:{},children:[l]},n.patch(a,l),l}function mE(n,a){const s={type:"element",tagName:"del",properties:{},children:n.all(a)};return n.patch(a,s),n.applyData(a,s)}function bE(n,a){const s={type:"element",tagName:"em",properties:{},children:n.all(a)};return n.patch(a,s),n.applyData(a,s)}function yE(n,a){const s=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",i=String(a.identifier).toUpperCase(),l=ks(i.toLowerCase()),c=n.footnoteOrder.indexOf(i);let d,h=n.footnoteCounts.get(i);h===void 0?(h=0,n.footnoteOrder.push(i),d=n.footnoteOrder.length):d=c+1,h+=1,n.footnoteCounts.set(i,h);const g={type:"element",tagName:"a",properties:{href:"#"+s+"fn-"+l,id:s+"fnref-"+l+(h>1?"-"+h:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(d)}]};n.patch(a,g);const f={type:"element",tagName:"sup",properties:{},children:[g]};return n.patch(a,f),n.applyData(a,f)}function vE(n,a){const s={type:"element",tagName:"h"+a.depth,properties:{},children:n.all(a)};return n.patch(a,s),n.applyData(a,s)}function wE(n,a){if(n.options.allowDangerousHtml){const s={type:"raw",value:a.value};return n.patch(a,s),n.applyData(a,s)}}function P3(n,a){const s=a.referenceType;let i="]";if(s==="collapsed"?i+="[]":s==="full"&&(i+="["+(a.label||a.identifier)+"]"),a.type==="imageReference")return[{type:"text",value:"!["+a.alt+i}];const l=n.all(a),c=l[0];c&&c.type==="text"?c.value="["+c.value:l.unshift({type:"text",value:"["});const d=l[l.length-1];return d&&d.type==="text"?d.value+=i:l.push({type:"text",value:i}),l}function _E(n,a){const s=String(a.identifier).toUpperCase(),i=n.definitionById.get(s);if(!i)return P3(n,a);const l={src:ks(i.url||""),alt:a.alt};i.title!==null&&i.title!==void 0&&(l.title=i.title);const c={type:"element",tagName:"img",properties:l,children:[]};return n.patch(a,c),n.applyData(a,c)}function xE(n,a){const s={src:ks(a.url)};a.alt!==null&&a.alt!==void 0&&(s.alt=a.alt),a.title!==null&&a.title!==void 0&&(s.title=a.title);const i={type:"element",tagName:"img",properties:s,children:[]};return n.patch(a,i),n.applyData(a,i)}function SE(n,a){const s={type:"text",value:a.value.replace(/\r?\n|\r/g," ")};n.patch(a,s);const i={type:"element",tagName:"code",properties:{},children:[s]};return n.patch(a,i),n.applyData(a,i)}function kE(n,a){const s=String(a.identifier).toUpperCase(),i=n.definitionById.get(s);if(!i)return P3(n,a);const l={href:ks(i.url||"")};i.title!==null&&i.title!==void 0&&(l.title=i.title);const c={type:"element",tagName:"a",properties:l,children:n.all(a)};return n.patch(a,c),n.applyData(a,c)}function TE(n,a){const s={href:ks(a.url)};a.title!==null&&a.title!==void 0&&(s.title=a.title);const i={type:"element",tagName:"a",properties:s,children:n.all(a)};return n.patch(a,i),n.applyData(a,i)}function DE(n,a,s){const i=n.all(a),l=s?CE(s):B3(a),c={},d=[];if(typeof a.checked=="boolean"){const m=i[0];let y;m&&m.type==="element"&&m.tagName==="p"?y=m:(y={type:"element",tagName:"p",properties:{},children:[]},i.unshift(y)),y.children.length>0&&y.children.unshift({type:"text",value:" "}),y.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:a.checked,disabled:!0},children:[]}),c.className=["task-list-item"]}let h=-1;for(;++h<i.length;){const m=i[h];(l||h!==0||m.type!=="element"||m.tagName!=="p")&&d.push({type:"text",value:`
`}),m.type==="element"&&m.tagName==="p"&&!l?d.push(...m.children):d.push(m)}const g=i[i.length-1];g&&(l||g.type!=="element"||g.tagName!=="p")&&d.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:c,children:d};return n.patch(a,f),n.applyData(a,f)}function CE(n){let a=!1;if(n.type==="list"){a=n.spread||!1;const s=n.children;let i=-1;for(;!a&&++i<s.length;)a=B3(s[i])}return a}function B3(n){const a=n.spread;return a??n.children.length>1}function AE(n,a){const s={},i=n.all(a);let l=-1;for(typeof a.start=="number"&&a.start!==1&&(s.start=a.start);++l<i.length;){const d=i[l];if(d.type==="element"&&d.tagName==="li"&&d.properties&&Array.isArray(d.properties.className)&&d.properties.className.includes("task-list-item")){s.className=["contains-task-list"];break}}const c={type:"element",tagName:a.ordered?"ol":"ul",properties:s,children:n.wrap(i,!0)};return n.patch(a,c),n.applyData(a,c)}function EE(n,a){const s={type:"element",tagName:"p",properties:{},children:n.all(a)};return n.patch(a,s),n.applyData(a,s)}function OE(n,a){const s={type:"root",children:n.wrap(n.all(a))};return n.patch(a,s),n.applyData(a,s)}function ME(n,a){const s={type:"element",tagName:"strong",properties:{},children:n.all(a)};return n.patch(a,s),n.applyData(a,s)}function LE(n,a){const s=n.all(a),i=s.shift(),l=[];if(i){const d={type:"element",tagName:"thead",properties:{},children:n.wrap([i],!0)};n.patch(a.children[0],d),l.push(d)}if(s.length>0){const d={type:"element",tagName:"tbody",properties:{},children:n.wrap(s,!0)},h=f1(a.children[1]),g=b3(a.children[a.children.length-1]);h&&g&&(d.position={start:h,end:g}),l.push(d)}const c={type:"element",tagName:"table",properties:{},children:n.wrap(l,!0)};return n.patch(a,c),n.applyData(a,c)}function zE(n,a,s){const i=s?s.children:void 0,c=(i?i.indexOf(a):1)===0?"th":"td",d=s&&s.type==="table"?s.align:void 0,h=d?d.length:a.children.length;let g=-1;const f=[];for(;++g<h;){const y=a.children[g],v={},_=d?d[g]:void 0;_&&(v.align=_);let A={type:"element",tagName:c,properties:v,children:[]};y&&(A.children=n.all(y),n.patch(y,A),A=n.applyData(y,A)),f.push(A)}const m={type:"element",tagName:"tr",properties:{},children:n.wrap(f,!0)};return n.patch(a,m),n.applyData(a,m)}function RE(n,a){const s={type:"element",tagName:"td",properties:{},children:n.all(a)};return n.patch(a,s),n.applyData(a,s)}const g_=9,m_=32;function IE(n){const a=String(n),s=/\r?\n|\r/g;let i=s.exec(a),l=0;const c=[];for(;i;)c.push(b_(a.slice(l,i.index),l>0,!0),i[0]),l=i.index+i[0].length,i=s.exec(a);return c.push(b_(a.slice(l),l>0,!1)),c.join("")}function b_(n,a,s){let i=0,l=n.length;if(a){let c=n.codePointAt(i);for(;c===g_||c===m_;)i++,c=n.codePointAt(i)}if(s){let c=n.codePointAt(l-1);for(;c===g_||c===m_;)l--,c=n.codePointAt(l-1)}return l>i?n.slice(i,l):""}function PE(n,a){const s={type:"text",value:IE(String(a.value))};return n.patch(a,s),n.applyData(a,s)}function BE(n,a){const s={type:"element",tagName:"hr",properties:{},children:[]};return n.patch(a,s),n.applyData(a,s)}const NE={blockquote:pE,break:fE,code:gE,delete:mE,emphasis:bE,footnoteReference:yE,heading:vE,html:wE,imageReference:_E,image:xE,inlineCode:SE,linkReference:kE,link:TE,listItem:DE,list:AE,paragraph:EE,root:OE,strong:ME,table:LE,tableCell:RE,tableRow:zE,text:PE,thematicBreak:BE,toml:tl,yaml:tl,definition:tl,footnoteDefinition:tl};function tl(){}const N3=-1,Dl=0,Ro=1,fl=2,_1=3,x1=4,S1=5,k1=6,U3=7,j3=8,y_=typeof self=="object"?self:globalThis,UE=(n,a)=>{const s=(l,c)=>(n.set(c,l),l),i=l=>{if(n.has(l))return n.get(l);const[c,d]=a[l];switch(c){case Dl:case N3:return s(d,l);case Ro:{const h=s([],l);for(const g of d)h.push(i(g));return h}case fl:{const h=s({},l);for(const[g,f]of d)h[i(g)]=i(f);return h}case _1:return s(new Date(d),l);case x1:{const{source:h,flags:g}=d;return s(new RegExp(h,g),l)}case S1:{const h=s(new Map,l);for(const[g,f]of d)h.set(i(g),i(f));return h}case k1:{const h=s(new Set,l);for(const g of d)h.add(i(g));return h}case U3:{const{name:h,message:g}=d;return s(new y_[h](g),l)}case j3:return s(BigInt(d),l);case"BigInt":return s(Object(BigInt(d)),l);case"ArrayBuffer":return s(new Uint8Array(d).buffer,d);case"DataView":{const{buffer:h}=new Uint8Array(d);return s(new DataView(h),d)}}return s(new y_[c](d),l)};return i},v_=n=>UE(new Map,n)(0),gs="",{toString:jE}={},{keys:FE}=Object,To=n=>{const a=typeof n;if(a!=="object"||!n)return[Dl,a];const s=jE.call(n).slice(8,-1);switch(s){case"Array":return[Ro,gs];case"Object":return[fl,gs];case"Date":return[_1,gs];case"RegExp":return[x1,gs];case"Map":return[S1,gs];case"Set":return[k1,gs];case"DataView":return[Ro,s]}return s.includes("Array")?[Ro,s]:s.includes("Error")?[U3,s]:[fl,s]},nl=([n,a])=>n===Dl&&(a==="function"||a==="symbol"),HE=(n,a,s,i)=>{const l=(d,h)=>{const g=i.push(d)-1;return s.set(h,g),g},c=d=>{if(s.has(d))return s.get(d);let[h,g]=To(d);switch(h){case Dl:{let m=d;switch(g){case"bigint":h=j3,m=d.toString();break;case"function":case"symbol":if(n)throw new TypeError("unable to serialize "+g);m=null;break;case"undefined":return l([N3],d)}return l([h,m],d)}case Ro:{if(g){let v=d;return g==="DataView"?v=new Uint8Array(d.buffer):g==="ArrayBuffer"&&(v=new Uint8Array(d)),l([g,[...v]],d)}const m=[],y=l([h,m],d);for(const v of d)m.push(c(v));return y}case fl:{if(g)switch(g){case"BigInt":return l([g,d.toString()],d);case"Boolean":case"Number":case"String":return l([g,d.valueOf()],d)}if(a&&"toJSON"in d)return c(d.toJSON());const m=[],y=l([h,m],d);for(const v of FE(d))(n||!nl(To(d[v])))&&m.push([c(v),c(d[v])]);return y}case _1:return l([h,d.toISOString()],d);case x1:{const{source:m,flags:y}=d;return l([h,{source:m,flags:y}],d)}case S1:{const m=[],y=l([h,m],d);for(const[v,_]of d)(n||!(nl(To(v))||nl(To(_))))&&m.push([c(v),c(_)]);return y}case k1:{const m=[],y=l([h,m],d);for(const v of d)(n||!nl(To(v)))&&m.push(c(v));return y}}const{message:f}=d;return l([h,{name:g,message:f}],d)};return c},w_=(n,{json:a,lossy:s}={})=>{const i=[];return HE(!(a||s),!!a,new Map,i)(n),i},gl=typeof structuredClone=="function"?(n,a)=>a&&("json"in a||"lossy"in a)?v_(w_(n,a)):structuredClone(n):(n,a)=>v_(w_(n,a));function qE(n,a){const s=[{type:"text",value:"↩"}];return a>1&&s.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(a)}]}),s}function VE(n,a){return"Back to reference "+(n+1)+(a>1?"-"+a:"")}function GE(n){const a=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",s=n.options.footnoteBackContent||qE,i=n.options.footnoteBackLabel||VE,l=n.options.footnoteLabel||"Footnotes",c=n.options.footnoteLabelTagName||"h2",d=n.options.footnoteLabelProperties||{className:["sr-only"]},h=[];let g=-1;for(;++g<n.footnoteOrder.length;){const f=n.footnoteById.get(n.footnoteOrder[g]);if(!f)continue;const m=n.all(f),y=String(f.identifier).toUpperCase(),v=ks(y.toLowerCase());let _=0;const A=[],M=n.footnoteCounts.get(y);for(;M!==void 0&&++_<=M;){A.length>0&&A.push({type:"text",value:" "});let j=typeof s=="string"?s:s(g,_);typeof j=="string"&&(j={type:"text",value:j}),A.push({type:"element",tagName:"a",properties:{href:"#"+a+"fnref-"+v+(_>1?"-"+_:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(g,_),className:["data-footnote-backref"]},children:Array.isArray(j)?j:[j]})}const U=m[m.length-1];if(U&&U.type==="element"&&U.tagName==="p"){const j=U.children[U.children.length-1];j&&j.type==="text"?j.value+=" ":U.children.push({type:"text",value:" "}),U.children.push(...A)}else m.push(...A);const E={type:"element",tagName:"li",properties:{id:a+"fn-"+v},children:n.wrap(m,!0)};n.patch(f,E),h.push(E)}if(h.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:c,properties:{...gl(d),id:"footnote-label"},children:[{type:"text",value:l}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:n.wrap(h,!0)},{type:"text",value:`
`}]}}const F3=function(n){if(n==null)return WE;if(typeof n=="function")return Cl(n);if(typeof n=="object")return Array.isArray(n)?YE(n):QE(n);if(typeof n=="string")return XE(n);throw new Error("Expected function, string, or object as test")};function YE(n){const a=[];let s=-1;for(;++s<n.length;)a[s]=F3(n[s]);return Cl(i);function i(...l){let c=-1;for(;++c<a.length;)if(a[c].apply(this,l))return!0;return!1}}function QE(n){const a=n;return Cl(s);function s(i){const l=i;let c;for(c in n)if(l[c]!==a[c])return!1;return!0}}function XE(n){return Cl(a);function a(s){return s&&s.type===n}}function Cl(n){return a;function a(s,i,l){return!!(ZE(s)&&n.call(this,s,typeof i=="number"?i:void 0,l||void 0))}}function WE(){return!0}function ZE(n){return n!==null&&typeof n=="object"&&"type"in n}const H3=[],KE=!0,__=!1,JE="skip";function $E(n,a,s,i){let l;typeof a=="function"&&typeof s!="function"?(i=s,s=a):l=a;const c=F3(l),d=i?-1:1;h(n,void 0,[])();function h(g,f,m){const y=g&&typeof g=="object"?g:{};if(typeof y.type=="string"){const _=typeof y.tagName=="string"?y.tagName:typeof y.name=="string"?y.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(g.type+(_?"<"+_+">":""))+")"})}return v;function v(){let _=H3,A,M,U;if((!a||c(g,f,m[m.length-1]||void 0))&&(_=e7(s(g,m)),_[0]===__))return _;if("children"in g&&g.children){const E=g;if(E.children&&_[0]!==JE)for(M=(i?E.children.length:-1)+d,U=m.concat(E);M>-1&&M<E.children.length;){const j=E.children[M];if(A=h(j,M,U)(),A[0]===__)return A;M=typeof A[1]=="number"?A[1]:M+d}}return _}}}function e7(n){return Array.isArray(n)?n:typeof n=="number"?[KE,n]:n==null?H3:[n]}function q3(n,a,s,i){let l,c,d;typeof a=="function"&&typeof s!="function"?(c=void 0,d=a,l=s):(c=a,d=s,l=i),$E(n,c,h,l);function h(g,f){const m=f[f.length-1],y=m?m.children.indexOf(g):void 0;return d(g,y,m)}}const gd={}.hasOwnProperty,t7={};function n7(n,a){const s=a||t7,i=new Map,l=new Map,c=new Map,d={...NE,...s.handlers},h={all:f,applyData:a7,definitionById:i,footnoteById:l,footnoteCounts:c,footnoteOrder:[],handlers:d,one:g,options:s,patch:r7,wrap:o7};return q3(n,function(m){if(m.type==="definition"||m.type==="footnoteDefinition"){const y=m.type==="definition"?i:l,v=String(m.identifier).toUpperCase();y.has(v)||y.set(v,m)}}),h;function g(m,y){const v=m.type,_=h.handlers[v];if(gd.call(h.handlers,v)&&_)return _(h,m,y);if(h.options.passThrough&&h.options.passThrough.includes(v)){if("children"in m){const{children:M,...U}=m,E=gl(U);return E.children=h.all(m),E}return gl(m)}return(h.options.unknownHandler||s7)(h,m,y)}function f(m){const y=[];if("children"in m){const v=m.children;let _=-1;for(;++_<v.length;){const A=h.one(v[_],m);if(A){if(_&&v[_-1].type==="break"&&(!Array.isArray(A)&&A.type==="text"&&(A.value=x_(A.value)),!Array.isArray(A)&&A.type==="element")){const M=A.children[0];M&&M.type==="text"&&(M.value=x_(M.value))}Array.isArray(A)?y.push(...A):y.push(A)}}}return y}}function r7(n,a){n.position&&(a.position=N4(n))}function a7(n,a){let s=a;if(n&&n.data){const i=n.data.hName,l=n.data.hChildren,c=n.data.hProperties;if(typeof i=="string")if(s.type==="element")s.tagName=i;else{const d="children"in s?s.children:[s];s={type:"element",tagName:i,properties:{},children:d}}s.type==="element"&&c&&Object.assign(s.properties,gl(c)),"children"in s&&s.children&&l!==null&&l!==void 0&&(s.children=l)}return s}function s7(n,a){const s=a.data||{},i="value"in a&&!(gd.call(s,"hProperties")||gd.call(s,"hChildren"))?{type:"text",value:a.value}:{type:"element",tagName:"div",properties:{},children:n.all(a)};return n.patch(a,i),n.applyData(a,i)}function o7(n,a){const s=[];let i=-1;for(a&&s.push({type:"text",value:`
`});++i<n.length;)i&&s.push({type:"text",value:`
`}),s.push(n[i]);return a&&n.length>0&&s.push({type:"text",value:`
`}),s}function x_(n){let a=0,s=n.charCodeAt(a);for(;s===9||s===32;)a++,s=n.charCodeAt(a);return n.slice(a)}function S_(n,a){const s=n7(n,a),i=s.one(n,void 0),l=GE(s),c=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return l&&c.children.push({type:"text",value:`
`},l),c}function i7(n,a){return n&&"run"in n?async function(s,i){const l=S_(s,{file:i,...a});await n.run(l,i)}:function(s,i){return S_(s,{file:i,...n||a})}}function k_(n){if(n)throw n}var Zc,T_;function l7(){if(T_)return Zc;T_=1;var n=Object.prototype.hasOwnProperty,a=Object.prototype.toString,s=Object.defineProperty,i=Object.getOwnPropertyDescriptor,l=function(f){return typeof Array.isArray=="function"?Array.isArray(f):a.call(f)==="[object Array]"},c=function(f){if(!f||a.call(f)!=="[object Object]")return!1;var m=n.call(f,"constructor"),y=f.constructor&&f.constructor.prototype&&n.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!m&&!y)return!1;var v;for(v in f);return typeof v>"u"||n.call(f,v)},d=function(f,m){s&&m.name==="__proto__"?s(f,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):f[m.name]=m.newValue},h=function(f,m){if(m==="__proto__")if(n.call(f,m)){if(i)return i(f,m).value}else return;return f[m]};return Zc=function g(){var f,m,y,v,_,A,M=arguments[0],U=1,E=arguments.length,j=!1;for(typeof M=="boolean"&&(j=M,M=arguments[1]||{},U=2),(M==null||typeof M!="object"&&typeof M!="function")&&(M={});U<E;++U)if(f=arguments[U],f!=null)for(m in f)y=h(M,m),v=h(f,m),M!==v&&(j&&v&&(c(v)||(_=l(v)))?(_?(_=!1,A=y&&l(y)?y:[]):A=y&&c(y)?y:{},d(M,{name:m,newValue:g(j,A,v)})):typeof v<"u"&&d(M,{name:m,newValue:v}));return M},Zc}var u7=l7();const Kc=vd(u7);function md(n){if(typeof n!="object"||n===null)return!1;const a=Object.getPrototypeOf(n);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function c7(){const n=[],a={run:s,use:i};return a;function s(...l){let c=-1;const d=l.pop();if(typeof d!="function")throw new TypeError("Expected function as last argument, not "+d);h(null,...l);function h(g,...f){const m=n[++c];let y=-1;if(g){d(g);return}for(;++y<l.length;)(f[y]===null||f[y]===void 0)&&(f[y]=l[y]);l=f,m?d7(m,h)(...f):d(null,...f)}}function i(l){if(typeof l!="function")throw new TypeError("Expected `middelware` to be a function, not "+l);return n.push(l),a}}function d7(n,a){let s;return i;function i(...d){const h=n.length>d.length;let g;h&&d.push(l);try{g=n.apply(this,d)}catch(f){const m=f;if(h&&s)throw m;return l(m)}h||(g&&g.then&&typeof g.then=="function"?g.then(c,l):g instanceof Error?l(g):c(g))}function l(d,...h){s||(s=!0,a(d,...h))}function c(d){l(null,d)}}const ir={basename:h7,dirname:p7,extname:f7,join:g7,sep:"/"};function h7(n,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');Go(n);let s=0,i=-1,l=n.length,c;if(a===void 0||a.length===0||a.length>n.length){for(;l--;)if(n.codePointAt(l)===47){if(c){s=l+1;break}}else i<0&&(c=!0,i=l+1);return i<0?"":n.slice(s,i)}if(a===n)return"";let d=-1,h=a.length-1;for(;l--;)if(n.codePointAt(l)===47){if(c){s=l+1;break}}else d<0&&(c=!0,d=l+1),h>-1&&(n.codePointAt(l)===a.codePointAt(h--)?h<0&&(i=l):(h=-1,i=d));return s===i?i=d:i<0&&(i=n.length),n.slice(s,i)}function p7(n){if(Go(n),n.length===0)return".";let a=-1,s=n.length,i;for(;--s;)if(n.codePointAt(s)===47){if(i){a=s;break}}else i||(i=!0);return a<0?n.codePointAt(0)===47?"/":".":a===1&&n.codePointAt(0)===47?"//":n.slice(0,a)}function f7(n){Go(n);let a=n.length,s=-1,i=0,l=-1,c=0,d;for(;a--;){const h=n.codePointAt(a);if(h===47){if(d){i=a+1;break}continue}s<0&&(d=!0,s=a+1),h===46?l<0?l=a:c!==1&&(c=1):l>-1&&(c=-1)}return l<0||s<0||c===0||c===1&&l===s-1&&l===i+1?"":n.slice(l,s)}function g7(...n){let a=-1,s;for(;++a<n.length;)Go(n[a]),n[a]&&(s=s===void 0?n[a]:s+"/"+n[a]);return s===void 0?".":m7(s)}function m7(n){Go(n);const a=n.codePointAt(0)===47;let s=b7(n,!a);return s.length===0&&!a&&(s="."),s.length>0&&n.codePointAt(n.length-1)===47&&(s+="/"),a?"/"+s:s}function b7(n,a){let s="",i=0,l=-1,c=0,d=-1,h,g;for(;++d<=n.length;){if(d<n.length)h=n.codePointAt(d);else{if(h===47)break;h=47}if(h===47){if(!(l===d-1||c===1))if(l!==d-1&&c===2){if(s.length<2||i!==2||s.codePointAt(s.length-1)!==46||s.codePointAt(s.length-2)!==46){if(s.length>2){if(g=s.lastIndexOf("/"),g!==s.length-1){g<0?(s="",i=0):(s=s.slice(0,g),i=s.length-1-s.lastIndexOf("/")),l=d,c=0;continue}}else if(s.length>0){s="",i=0,l=d,c=0;continue}}a&&(s=s.length>0?s+"/..":"..",i=2)}else s.length>0?s+="/"+n.slice(l+1,d):s=n.slice(l+1,d),i=d-l-1;l=d,c=0}else h===46&&c>-1?c++:c=-1}return s}function Go(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const y7={cwd:v7};function v7(){return"/"}function bd(n){return!!(n!==null&&typeof n=="object"&&"href"in n&&n.href&&"protocol"in n&&n.protocol&&n.auth===void 0)}function w7(n){if(typeof n=="string")n=new URL(n);else if(!bd(n)){const a=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw a.code="ERR_INVALID_ARG_TYPE",a}if(n.protocol!=="file:"){const a=new TypeError("The URL must be of scheme file");throw a.code="ERR_INVALID_URL_SCHEME",a}return _7(n)}function _7(n){if(n.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const a=n.pathname;let s=-1;for(;++s<a.length;)if(a.codePointAt(s)===37&&a.codePointAt(s+1)===50){const i=a.codePointAt(s+2);if(i===70||i===102){const l=new TypeError("File URL path must not include encoded / characters");throw l.code="ERR_INVALID_FILE_URL_PATH",l}}return decodeURIComponent(a)}const Jc=["history","path","basename","stem","extname","dirname"];class V3{constructor(a){let s;a?bd(a)?s={path:a}:typeof a=="string"||x7(a)?s={value:a}:s=a:s={},this.cwd="cwd"in s?"":y7.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<Jc.length;){const c=Jc[i];c in s&&s[c]!==void 0&&s[c]!==null&&(this[c]=c==="history"?[...s[c]]:s[c])}let l;for(l in s)Jc.includes(l)||(this[l]=s[l])}get basename(){return typeof this.path=="string"?ir.basename(this.path):void 0}set basename(a){ed(a,"basename"),$c(a,"basename"),this.path=ir.join(this.dirname||"",a)}get dirname(){return typeof this.path=="string"?ir.dirname(this.path):void 0}set dirname(a){D_(this.basename,"dirname"),this.path=ir.join(a||"",this.basename)}get extname(){return typeof this.path=="string"?ir.extname(this.path):void 0}set extname(a){if($c(a,"extname"),D_(this.dirname,"extname"),a){if(a.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(a.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ir.join(this.dirname,this.stem+(a||""))}get path(){return this.history[this.history.length-1]}set path(a){bd(a)&&(a=w7(a)),ed(a,"path"),this.path!==a&&this.history.push(a)}get stem(){return typeof this.path=="string"?ir.basename(this.path,this.extname):void 0}set stem(a){ed(a,"stem"),$c(a,"stem"),this.path=ir.join(this.dirname||"",a+(this.extname||""))}fail(a,s,i){const l=this.message(a,s,i);throw l.fatal=!0,l}info(a,s,i){const l=this.message(a,s,i);return l.fatal=void 0,l}message(a,s,i){const l=new Xt(a,s,i);return this.path&&(l.name=this.path+":"+l.name,l.file=this.path),l.fatal=!1,this.messages.push(l),l}toString(a){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(a||void 0).decode(this.value)}}function $c(n,a){if(n&&n.includes(ir.sep))throw new Error("`"+a+"` cannot be a path: did not expect `"+ir.sep+"`")}function ed(n,a){if(!n)throw new Error("`"+a+"` cannot be empty")}function D_(n,a){if(!n)throw new Error("Setting `"+a+"` requires `path` to be set too")}function x7(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const S7=function(n){const i=this.constructor.prototype,l=i[n],c=function(){return l.apply(c,arguments)};return Object.setPrototypeOf(c,i),c},k7={}.hasOwnProperty;class T1 extends S7{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=c7()}copy(){const a=new T1;let s=-1;for(;++s<this.attachers.length;){const i=this.attachers[s];a.use(...i)}return a.data(Kc(!0,{},this.namespace)),a}data(a,s){return typeof a=="string"?arguments.length===2?(rd("data",this.frozen),this.namespace[a]=s,this):k7.call(this.namespace,a)&&this.namespace[a]||void 0:a?(rd("data",this.frozen),this.namespace=a,this):this.namespace}freeze(){if(this.frozen)return this;const a=this;for(;++this.freezeIndex<this.attachers.length;){const[s,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const l=s.call(a,...i);typeof l=="function"&&this.transformers.use(l)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(a){this.freeze();const s=rl(a),i=this.parser||this.Parser;return td("parse",i),i(String(s),s)}process(a,s){const i=this;return this.freeze(),td("process",this.parser||this.Parser),nd("process",this.compiler||this.Compiler),s?l(void 0,s):new Promise(l);function l(c,d){const h=rl(a),g=i.parse(h);i.run(g,h,function(m,y,v){if(m||!y||!v)return f(m);const _=y,A=i.stringify(_,v);C7(A)?v.value=A:v.result=A,f(m,v)});function f(m,y){m||!y?d(m):c?c(y):s(void 0,y)}}}processSync(a){let s=!1,i;return this.freeze(),td("processSync",this.parser||this.Parser),nd("processSync",this.compiler||this.Compiler),this.process(a,l),A_("processSync","process",s),i;function l(c,d){s=!0,k_(c),i=d}}run(a,s,i){C_(a),this.freeze();const l=this.transformers;return!i&&typeof s=="function"&&(i=s,s=void 0),i?c(void 0,i):new Promise(c);function c(d,h){const g=rl(s);l.run(a,g,f);function f(m,y,v){const _=y||a;m?h(m):d?d(_):i(void 0,_,v)}}}runSync(a,s){let i=!1,l;return this.run(a,s,c),A_("runSync","run",i),l;function c(d,h){k_(d),l=h,i=!0}}stringify(a,s){this.freeze();const i=rl(s),l=this.compiler||this.Compiler;return nd("stringify",l),C_(a),l(a,i)}use(a,...s){const i=this.attachers,l=this.namespace;if(rd("use",this.frozen),a!=null)if(typeof a=="function")g(a,s);else if(typeof a=="object")Array.isArray(a)?h(a):d(a);else throw new TypeError("Expected usable value, not `"+a+"`");return this;function c(f){if(typeof f=="function")g(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[m,...y]=f;g(m,y)}else d(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function d(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");h(f.plugins),f.settings&&(l.settings=Kc(!0,l.settings,f.settings))}function h(f){let m=-1;if(f!=null)if(Array.isArray(f))for(;++m<f.length;){const y=f[m];c(y)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function g(f,m){let y=-1,v=-1;for(;++y<i.length;)if(i[y][0]===f){v=y;break}if(v===-1)i.push([f,...m]);else if(m.length>0){let[_,...A]=m;const M=i[v][1];md(M)&&md(_)&&(_=Kc(!0,M,_)),i[v]=[f,_,...A]}}}}const T7=new T1().freeze();function td(n,a){if(typeof a!="function")throw new TypeError("Cannot `"+n+"` without `parser`")}function nd(n,a){if(typeof a!="function")throw new TypeError("Cannot `"+n+"` without `compiler`")}function rd(n,a){if(a)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function C_(n){if(!md(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function A_(n,a,s){if(!s)throw new Error("`"+n+"` finished async. Use `"+a+"` instead")}function rl(n){return D7(n)?n:new V3(n)}function D7(n){return!!(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function C7(n){return typeof n=="string"||A7(n)}function A7(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const E7="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",E_=[],O_={allowDangerousHtml:!0},O7=/^(https?|ircs?|mailto|xmpp)$/i,M7=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function D1(n){const a=n.allowedElements,s=n.allowElement,i=n.children||"",l=n.className,c=n.components,d=n.disallowedElements,h=n.rehypePlugins||E_,g=n.remarkPlugins||E_,f=n.remarkRehypeOptions?{...n.remarkRehypeOptions,...O_}:O_,m=n.skipHtml,y=n.unwrapDisallowed,v=n.urlTransform||L7,_=T7().use(hE).use(g).use(i7,f).use(h),A=new V3;typeof i=="string"&&(A.value=i);for(const j of M7)Object.hasOwn(n,j.from)&&(""+j.from+(j.to?"use `"+j.to+"` instead":"remove it")+E7+j.id,void 0);const M=_.parse(A);let U=_.runSync(M,A);return l&&(U={type:"element",tagName:"div",properties:{className:l},children:U.type==="root"?U.children:[U]}),q3(U,E),V4(U,{Fragment:D.Fragment,components:c,ignoreInvalidStyle:!0,jsx:D.jsx,jsxs:D.jsxs,passKeys:!0,passNode:!0});function E(j,F,se){if(j.type==="raw"&&se&&typeof F=="number")return m?se.children.splice(F,1):se.children[F]={type:"text",value:j.value},F;if(j.type==="element"){let J;for(J in Qc)if(Object.hasOwn(Qc,J)&&Object.hasOwn(j.properties,J)){const T=j.properties[J],pe=Qc[J];(pe===null||pe.includes(j.tagName))&&(j.properties[J]=v(String(T||""),J,j))}}if(j.type==="element"){let J=a?!a.includes(j.tagName):d?d.includes(j.tagName):!1;if(!J&&s&&typeof F=="number"&&(J=!s(j,F,se)),J&&se&&typeof F=="number")return y&&j.children?se.children.splice(F,1,...j.children):se.children.splice(F,1),F}}}function L7(n){const a=n.indexOf(":"),s=n.indexOf("?"),i=n.indexOf("#"),l=n.indexOf("/");return a===-1||l!==-1&&a>l||s!==-1&&a>s||i!==-1&&a>i||O7.test(n.slice(0,a))?n:""}function z7(){const{name:n}=Ho(),a=zd.find(f=>f.name===n);if(!a)throw new Error("Project not found");const{title:s,date:i,desc:l,content:c}=a,d=f=>{try{if(f.startsWith("http"))return f;const m=f.split("/").pop().trim(),y=f.includes("/blog/")||f.startsWith("blog/"),v=f.includes("/portfolio/")||f.startsWith("portfolio/");let _=y?"blog":v?"portfolio":"";return _?new URL(Object.assign({"../assets/blog/2021-09-26--00.png":nh,"../assets/blog/2021-09-26--01.png":rh,"../assets/blog/2021-09-26--02.png":ah,"../assets/blog/2021-09-26--03.png":sh,"../assets/blog/2021-09-26--04.png":oh,"../assets/blog/2021-09-26--05.png":ih,"../assets/blog/2021-09-26--06.png":lh,"../assets/blog/2021-09-26--07.png":uh,"../assets/blog/2021-09-26--08.png":ch,"../assets/blog/2021-09-26--09.png":dh,"../assets/blog/2021-09-26--10.png":hh,"../assets/blog/2021-09-26--11.png":ph,"../assets/blog/2021-09-26--12.png":fh,"../assets/blog/2021-09-26--13.png":gh,"../assets/blog/2021-09-26--14.png":mh,"../assets/blog/2021-09-26--15.png":bh,"../assets/blog/2021-09-26--16.png":yh,"../assets/blog/2021-10-03--00.png":vh,"../assets/blog/2021-10-03--01.png":wh,"../assets/blog/2021-10-03--02.png":_h,"../assets/blog/2021-10-03--03.png":xh,"../assets/blog/2021-10-03--04.png":Sh,"../assets/blog/2021-10-03--05.png":kh,"../assets/blog/2021-10-03--06.png":Th,"../assets/blog/2021-10-03--07.png":Dh,"../assets/blog/2021-10-03--08.png":Ch,"../assets/blog/2021-10-03--09.png":Ah,"../assets/blog/2021-10-03--10.png":Eh,"../assets/blog/2021-10-03--11.png":Oh,"../assets/blog/2021-10-03--12.png":Mh,"../assets/blog/2021-10-03--13.png":Lh,"../assets/blog/2021-10-03--14.png":zh,"../assets/blog/2021-10-03--15.png":Rh,"../assets/blog/2021-10-03--16.png":Ih,"../assets/blog/2021-10-03--17.png":Ph,"../assets/blog/2021-10-03--18.png":Bh,"../assets/blog/2021-10-03--19.png":Nh,"../assets/blog/2021-10-03--20.png":Uh,"../assets/blog/2021-10-03--21.png":jh,"../assets/blog/2021-10-03--22.png":Fh,"../assets/blog/2021-10-03--23.png":Hh,"../assets/blog/2021-10-03--24.png":qh,"../assets/blog/2021-10-03--25.png":Vh,"../assets/blog/2021-10-03--26.png":Gh,"../assets/blog/2021-10-03--27.png":Yh,"../assets/blog/2021-10-03--28.png":Qh,"../assets/blog/2021-10-03--29.png":Xh,"../assets/blog/2021-10-10--00.png":Wh,"../assets/blog/2021-10-10--01.png":Zh,"../assets/blog/2021-10-10--02.png":Kh,"../assets/blog/2021-10-10--03.png":Jh,"../assets/blog/2021-10-10--04.png":$h,"../assets/blog/2021-10-10--05.png":ep,"../assets/blog/2021-10-10--06.png":tp,"../assets/blog/2021-10-10--07.png":np,"../assets/blog/2021-10-10--08.png":rp,"../assets/blog/2021-10-10--09.png":ap,"../assets/blog/2021-10-10--10.png":sp,"../assets/blog/2021-10-10--11.png":op,"../assets/blog/2021-10-10--12.png":ip,"../assets/blog/2021-10-10--13.png":lp,"../assets/blog/2021-10-10--14.png":up,"../assets/blog/2021-10-10--15.png":cp,"../assets/blog/2021-10-10--16.png":dp,"../assets/blog/2021-10-10--17.png":hp,"../assets/blog/2021-10-10--18.png":pp,"../assets/blog/2021-10-10--19.png":fp,"../assets/blog/2021-10-10--20.png":gp,"../assets/blog/2021-10-10--21.png":mp,"../assets/blog/2021-10-10--22.png":bp,"../assets/blog/2021-10-10--22a.png":yp,"../assets/blog/2021-10-10--23.png":vp,"../assets/blog/2021-10-10--23a.png":wp,"../assets/blog/2021-10-10--24.png":_p,"../assets/blog/2021-10-10--24a.png":xp,"../assets/blog/2021-10-17--00.png":Sp,"../assets/blog/2021-10-17--01.png":kp,"../assets/blog/2021-10-17--02.png":Tp,"../assets/blog/2021-10-17--03.png":Dp,"../assets/blog/2021-10-17--04.png":Cp,"../assets/blog/2021-10-17--05.png":Ap,"../assets/blog/2021-10-17--06.png":Ep,"../assets/blog/2021-10-17--07.png":Op,"../assets/blog/2021-10-17--08.png":Mp,"../assets/blog/2021-10-24--00.png":Lp,"../assets/blog/2021-10-24--01.png":zp,"../assets/blog/2021-10-24--02.png":Rp,"../assets/blog/2021-10-24--03.png":Ip,"../assets/blog/2021-10-24--04.png":Pp,"../assets/blog/2021-10-24--05.png":Bp,"../assets/blog/2021-10-24--06.png":Np,"../assets/blog/2021-10-24--07.png":Up,"../assets/blog/2021-10-24--08.png":jp,"../assets/blog/2021-10-24--09.png":Fp,"../assets/blog/2021-10-24--10.png":Hp,"../assets/blog/2021-10-24--11.png":qp,"../assets/blog/2021-10-24--12.png":Vp,"../assets/blog/2021-10-24--13.png":Gp,"../assets/blog/2021-10-24--14.png":Yp,"../assets/blog/2021-10-24--15.png":Qp,"../assets/blog/2021-10-24--16.png":Xp,"../assets/blog/2021-10-24--17.png":Wp,"../assets/blog/2021-10-31--00.png":Zp,"../assets/blog/2021-10-31--01.png":Kp,"../assets/blog/2021-10-31--02.png":Jp,"../assets/blog/2021-10-31--03.png":$p,"../assets/blog/2021-10-31--04.png":ef,"../assets/blog/2021-12-18--00.png":tf,"../assets/blog/2021-12-18--01.png":nf,"../assets/blog/2021-12-18--02.png":rf,"../assets/blog/2021-12-18--03.png":af,"../assets/blog/2021-12-18--04.png":sf,"../assets/blog/2021-12-18--05.png":of,"../assets/blog/2021-12-18--06.png":lf,"../assets/blog/2021-12-18--07.png":uf,"../assets/blog/2021-12-18--08.png":cf,"../assets/blog/2021-12-18--08a.png":df,"../assets/blog/2021-12-18--09.png":hf,"../assets/blog/2021-12-18--10.png":pf,"../assets/blog/2022-01-12--00.png":ff,"../assets/blog/2022-01-12--01.png":gf,"../assets/blog/2022-01-12--01a.png":mf,"../assets/blog/2022-01-12--02.png":bf,"../assets/blog/2022-01-12--03.png":yf,"../assets/blog/2022-01-12--04.png":vf,"../assets/blog/2022-01-12--05.png":wf,"../assets/blog/2022-01-12--06.png":_f,"../assets/blog/2022-01-12--07.png":xf,"../assets/blog/2022-01-12--08.png":Sf,"../assets/blog/2022-01-12--09.png":kf,"../assets/blog/2022-01-12--10.png":Tf,"../assets/blog/2022-02-27--00.png":Df,"../assets/blog/2022-02-27--01.png":Cf,"../assets/blog/2022-02-27--02.png":Af,"../assets/blog/2022-02-27--03.png":Ef,"../assets/blog/2022-02-27--04.png":Of,"../assets/blog/2022-02-27--05.png":Mf,"../assets/blog/2022-02-27--06.png":Lf,"../assets/blog/2022-02-27--07.png":zf,"../assets/blog/2022-02-27--08.png":Rf,"../assets/blog/2022-04-17--00.png":If,"../assets/blog/2022-04-17--01.png":Pf,"../assets/blog/2022-04-17--02.png":Bf,"../assets/blog/2022-04-17--03.png":Nf,"../assets/blog/2022-04-17--04.png":Uf,"../assets/blog/2022-04-17--05.png":jf,"../assets/blog/2022-04-17--06.png":Ff,"../assets/blog/2022-04-17--07.png":Hf,"../assets/blog/2022-04-17--08.png":qf,"../assets/blog/2022-04-17--09.png":Vf,"../assets/blog/2022-04-17--10.png":Gf,"../assets/blog/2022-04-17--11.png":Yf,"../assets/blog/2022-04-17--12.png":Qf,"../assets/blog/2022-04-17--13.png":Xf,"../assets/blog/2022-04-17--14.png":Wf,"../assets/blog/2022-04-17--15.png":Zf,"../assets/blog/2022-04-17--16.png":Kf,"../assets/blog/2022-04-17--17.png":Jf,"../assets/blog/2022-04-17--18.png":$f,"../assets/blog/2022-04-17--19.png":eg,"../assets/blog/2022-04-17--20.png":tg,"../assets/blog/2022-04-17--21.png":ng,"../assets/blog/2022-04-17--22.png":rg,"../assets/blog/2022-04-17--23.png":ag,"../assets/blog/2022-04-17--24.png":sg,"../assets/blog/2022-04-17--25.png":og,"../assets/blog/2022-04-17--26.png":ig,"../assets/blog/2022-04-17--27.png":lg,"../assets/blog/2022-04-17--28.png":ug,"../assets/blog/2022-04-27--00.png":cg,"../assets/blog/2022-04-27--01.png":dg,"../assets/blog/2022-04-27--02.png":hg,"../assets/blog/2022-04-27--03.png":pg,"../assets/blog/2022-04-27--04.png":fg,"../assets/blog/2022-04-27--05.png":gg,"../assets/blog/2022-04-27--06.png":mg,"../assets/blog/2022-04-27--07.png":bg,"../assets/blog/2022-04-27--08.png":yg,"../assets/blog/2022-04-27--09.png":vg,"../assets/blog/2022-04-27--10.png":wg,"../assets/blog/2022-06-22--00.png":_g,"../assets/blog/2022-06-22--01.png":xg,"../assets/blog/2022-06-22--01a.png":Sg,"../assets/blog/2022-06-22--02.png":kg,"../assets/blog/2022-06-22--03.png":Tg,"../assets/blog/2022-06-22--04.png":Dg,"../assets/blog/2022-06-22--05.png":Cg,"../assets/blog/2022-06-22--06.png":Ag,"../assets/blog/2022-07-31--00.png":Eg,"../assets/blog/2022-07-31--01.png":Og,"../assets/blog/2022-07-31--02.png":Mg,"../assets/blog/2022-07-31--03.png":Lg,"../assets/blog/2022-07-31--04.png":zg,"../assets/blog/2022-08-27--00.png":Rg,"../assets/blog/2022-08-27--01.png":Ig,"../assets/blog/2022-08-27--01a.png":Pg,"../assets/blog/2022-08-27--02.png":Bg,"../assets/blog/2022-08-27--03.png":Ng,"../assets/blog/2022-08-27--04.png":Ug,"../assets/blog/2022-08-27--05.png":jg,"../assets/blog/2022-08-27--06.png":Fg,"../assets/blog/2022-08-27--07.png":Hg,"../assets/blog/2022-08-27--08.png":qg,"../assets/blog/2022-08-27--09.png":Vg,"../assets/blog/2022-08-27--10.png":Gg,"../assets/blog/2022-08-27--11.png":Yg,"../assets/blog/2022-08-27--12.png":Qg,"../assets/blog/2022-08-27--13.png":Xg,"../assets/blog/2022-08-27--14.png":Wg,"../assets/blog/2022-08-27--15.png":Zg,"../assets/blog/2022-08-27--16.png":Kg,"../assets/blog/2022-08-27--17.png":Jg,"../assets/blog/2022-08-27--18.png":$g,"../assets/blog/2022-09-19--00.png":e0,"../assets/blog/2022-09-19--01.png":t0,"../assets/blog/2022-09-19--02.png":n0,"../assets/blog/2022-09-19--03.png":r0,"../assets/blog/2022-09-19--04.png":a0,"../assets/blog/2022-09-19--05.png":s0,"../assets/blog/2022-09-19--06.png":o0,"../assets/blog/2022-09-19--07.png":i0,"../assets/blog/2022-09-19--08.png":l0,"../assets/blog/2022-09-19--09.png":u0,"../assets/blog/2022-09-19--10.png":c0,"../assets/blog/2022-09-19--11.png":d0,"../assets/blog/2022-09-19--12.png":h0,"../assets/blog/2022-09-19--13.png":p0,"../assets/blog/2022-09-19--14.png":f0,"../assets/blog/2022-09-19--15.png":g0,"../assets/blog/2022-09-19--16.png":m0,"../assets/blog/2022-10-29--00.png":b0,"../assets/blog/2022-10-29--01.png":y0,"../assets/blog/2022-10-29--02.png":v0,"../assets/blog/2022-10-29--03.png":w0,"../assets/blog/2022-10-29--04.png":_0,"../assets/blog/2022-10-29--05.png":x0,"../assets/blog/2022-10-29--06.png":S0,"../assets/blog/2022-10-29--07.png":k0,"../assets/blog/2022-10-29--08.png":T0,"../assets/blog/2022-10-29--09.png":D0,"../assets/blog/2022-10-29--10.png":C0,"../assets/blog/2022-10-29--11.png":A0,"../assets/blog/2022-10-29--12.png":E0,"../assets/blog/2022-10-29--13.png":O0,"../assets/blog/2022-10-29--14.png":M0,"../assets/blog/2022-10-29--15.png":L0,"../assets/blog/2022-10-29--16.png":z0,"../assets/blog/2022-10-29--17.png":R0,"../assets/blog/2022-10-29--18.png":I0,"../assets/blog/2022-10-29--19.png":P0,"../assets/blog/2022-10-29--20.png":B0,"../assets/blog/2022-10-29--21.png":N0,"../assets/blog/2022-10-29--22.png":U0,"../assets/blog/2022-10-29--23.png":j0,"../assets/blog/2022-10-29--24.png":F0,"../assets/blog/2022-10-29--25.png":H0,"../assets/blog/2022-10-29--26.png":q0,"../assets/blog/2022-10-29--27.png":V0,"../assets/blog/2022-10-29--28.png":G0,"../assets/blog/2022-10-29--29.png":Y0,"../assets/blog/2022-10-29--30.png":Q0,"../assets/blog/2022-10-29--31.png":X0,"../assets/blog/2022-10-29--32.png":W0,"../assets/blog/2022-10-29--33.png":Z0,"../assets/blog/2022-11-26--00.png":K0,"../assets/blog/2022-11-26--01.png":J0,"../assets/blog/2022-11-26--02.png":$0,"../assets/blog/2022-11-26--03.png":e2,"../assets/blog/2022-11-26--04.png":t2,"../assets/blog/2022-11-26--05.png":n2,"../assets/blog/2022-11-26--06.png":r2,"../assets/blog/2022-11-26--07.png":a2,"../assets/blog/2022-11-26--08.png":s2,"../assets/blog/2022-11-26--09.png":o2,"../assets/blog/2022-11-26--10.png":i2,"../assets/blog/2022-11-26--11.png":l2,"../assets/blog/2022-11-26--12.png":u2,"../assets/blog/2022-11-26--13.png":c2,"../assets/blog/2022-11-26--14.png":d2,"../assets/blog/2022-11-26--15.png":h2,"../assets/blog/2022-11-26--16.png":p2,"../assets/blog/2022-11-26--17.png":f2,"../assets/blog/2022-11-26--18.png":g2,"../assets/blog/2022-11-26--19.png":m2,"../assets/blog/2022-11-26--20.png":b2,"../assets/blog/2022-11-26--21.png":y2,"../assets/blog/2022-11-26--22.png":v2,"../assets/blog/2022-11-26--23.png":w2,"../assets/blog/2022-11-26--24.png":_2,"../assets/blog/2022-11-26--25.png":x2,"../assets/blog/2022-11-26--26.png":S2,"../assets/blog/2022-11-26--27.png":k2,"../assets/blog/2022-11-26--28.png":T2,"../assets/blog/2022-11-26--29.png":D2,"../assets/blog/2022-11-26--30.png":C2,"../assets/blog/2023-03-11--00.png":A2,"../assets/blog/2023-03-11--01.png":E2,"../assets/blog/2023-03-11--02.png":O2,"../assets/blog/2023-03-11--03.png":M2,"../assets/blog/2023-03-11--04.png":L2,"../assets/blog/2023-03-11--05.png":z2,"../assets/blog/2023-03-11--06.png":R2,"../assets/blog/2023-03-11--07.png":I2,"../assets/blog/2023-03-11--08.png":P2,"../assets/blog/2023-03-11--09.png":B2,"../assets/blog/2023-03-11--10.png":N2,"../assets/blog/2023-03-11--11.png":U2,"../assets/blog/2023-03-11--12.png":j2,"../assets/blog/2023-03-11--13.png":F2,"../assets/blog/2023-03-11--14.png":H2,"../assets/blog/2023-03-11--15.png":q2,"../assets/blog/2023-03-11--16.png":V2,"../assets/blog/2023-03-11--17.png":G2,"../assets/blog/2023-03-11--18.png":Y2,"../assets/blog/2023-03-11--19.png":Q2,"../assets/blog/2023-03-11--20.png":X2,"../assets/blog/2023-03-11--21.png":W2,"../assets/blog/2023-10-07--00.png":Z2,"../assets/blog/2023-10-07--01.png":K2,"../assets/blog/2023-10-07--02.png":J2,"../assets/blog/2023-10-07--03.png":$2,"../assets/blog/2023-10-07--04.png":em,"../assets/blog/2023-10-07--05.png":tm,"../assets/blog/2023-10-07--06.png":nm,"../assets/blog/2023-10-07--07.png":rm,"../assets/blog/2023-10-07--08.png":am,"../assets/blog/2023-10-07--09.png":sm,"../assets/blog/2023-10-07--10.png":om,"../assets/blog/2023-10-07--11.png":im,"../assets/blog/2023-10-07--12.png":lm,"../assets/blog/2023-10-07--13.png":um,"../assets/blog/2023-10-07--14.png":cm,"../assets/blog/2023-10-07--15.png":dm,"../assets/blog/2023-10-07--16.png":hm,"../assets/blog/2024-03-28--00.png":pm,"../assets/blog/2024-03-28--01.png":fm,"../assets/blog/2024-03-28--02.png":gm,"../assets/blog/2024-03-28--03.png":mm,"../assets/blog/2024-03-28--04.png":bm,"../assets/blog/2024-03-28--05.png":ym,"../assets/blog/2024-03-28--06.png":vm,"../assets/blog/2024-03-28--07.png":wm,"../assets/blog/2024-03-28--08.png":_m,"../assets/blog/2024-03-28--09.png":xm,"../assets/blog/2024-03-28--10.png":Sm,"../assets/blog/2024-03-28--11.png":km,"../assets/blog/2024-03-28--12.png":Tm,"../assets/blog/2024-03-28--13.png":Dm,"../assets/blog/2024-10-07--00.png":Cm,"../assets/blog/2024-10-07--01.png":Am,"../assets/blog/2024-10-07--02.png":Em,"../assets/blog/2024-10-07--03.png":Om,"../assets/blog/2024-10-07--04.png":Mm,"../assets/blog/2024-10-07--05.png":Lm,"../assets/blog/2024-10-07--06.png":zm,"../assets/blog/2024-10-07--07.png":Rm,"../assets/blog/2024-10-07--08.png":Im,"../assets/blog/2024-10-07--09.png":Pm,"../assets/blog/2024-10-07--10.png":Bm,"../assets/blog/2024-10-07--11.png":Nm,"../assets/blog/2024-10-07--12.png":Um,"../assets/blog/2024-10-07--13.png":jm,"../assets/blog/2024-10-07--14.png":Fm,"../assets/blog/2024-10-07--15.png":Hm,"../assets/blog/2024-10-07--16.png":qm,"../assets/blog/2024-10-07--17.png":Vm,"../assets/blog/2024-10-07--18.png":Gm,"../assets/blog/2024-10-07--19.png":Ym,"../assets/blog/2024-10-07--20.png":Qm,"../assets/blog/2024-10-07--21.png":Xm,"../assets/blog/2024-10-07--22.png":Wm,"../assets/blog/2024-10-07--23.png":Zm,"../assets/blog/2024-10-07--24.png":Km,"../assets/blog/2024-10-07--25.png":Jm,"../assets/blog/2024-10-07--26.png":$m,"../assets/blog/2024-10-07--27.png":e1,"../assets/blog/2024-10-07--28.png":t1,"../assets/blog/2024-10-07--29.png":n1,"../assets/blog/2024-10-07--30.png":r1,"../assets/blog/2024-10-07--31.png":a1,"../assets/blog/2024-10-07--32.png":s1,"../assets/blog/2024-10-07--33.png":o1,"../assets/blog/2024-10-07--34.png":i1,"../assets/blog/2024-10-07--35.png":l1,"../assets/blog/2024-10-07--36.png":u1,"../assets/blog/Date_times_to_convert.xlsx":c1,"../assets/blog/Time_zone_offsets_and_DST_observations.xlsx":d1,"../assets/portfolio/img-2021-10-power-bi-quarterly-singapore-rental-prices-by-currency-original.png":Id,"../assets/portfolio/img-2021-10-power-bi-quarterly-singapore-rental-prices-by-currency.gif":Pd,"../assets/portfolio/img-2021-10-power-bi-quarterly-singapore-rental-prices-by-currency.png":Bd,"../assets/portfolio/img-2021-11-power-bi-follow-the-sun-customer-support-original-trimmed.png":Nd,"../assets/portfolio/img-2021-11-power-bi-follow-the-sun-customer-support-original.png":Ud,"../assets/portfolio/img-2021-11-power-bi-follow-the-sun-customer-support-previous.png":jd,"../assets/portfolio/img-2021-11-power-bi-follow-the-sun-customer-support.gif":Fd,"../assets/portfolio/img-2021-11-power-bi-follow-the-sun-customer-support.png":Hd,"../assets/portfolio/img-2022-01-sql-server-integration-services-international-marketplace-trimmed.png":qd,"../assets/portfolio/img-2022-01-sql-server-integration-services-international-marketplace.png":Vd,"../assets/portfolio/img-2022-04-power-bi-international-marketplace-python-deneb-original.png":Gd,"../assets/portfolio/img-2022-04-power-bi-international-marketplace-python-deneb-previous.png":Yd,"../assets/portfolio/img-2022-04-power-bi-international-marketplace-python-deneb.gif":Qd,"../assets/portfolio/img-2022-04-power-bi-international-marketplace-python-deneb.png":Xd,"../assets/portfolio/img-2022-06-excel-customer-support-agent-performance-original.png":Wd,"../assets/portfolio/img-2022-06-excel-customer-support-agent-performance.gif":Zd,"../assets/portfolio/img-2022-06-excel-customer-support-agent-performance.png":Kd,"../assets/portfolio/img-2022-08-satellite-launch-overview.gif":Jd,"../assets/portfolio/img-2022-10-excel-international-marketplace-profit-forecast-original.png":$d,"../assets/portfolio/img-2022-10-excel-international-marketplace-profit-forecast.gif":eh,"../assets/portfolio/img-2022-11-power-bi-appsource-deneb-maps.gif":th,"../assets/readings/12-rules-for-life-by-jordan-b-peterson.png":_l,"../assets/readings/elon-musk-by-walter-isaacson.png":xl,"../assets/readings/mastery-by-robert-greene.png":Sl,"../assets/readings/the-concise-33-strategies-of-war-by-robert-greene.png":kl})[`../assets/${_}/${m}`],import.meta.url).href:""}catch(m){return console.error(`Error loading image: ${f}`,m),""}},g=(f=>f.replace(/!\[([^\]]*)\]\(([^)]+)\)/g,(m,y,v)=>{try{const _=d(v);return`![${y}](${_})`}catch(_){return console.error(`Image not found: ${v}`,_),`![${y}](#)`}}))(c);return D.jsxs("content",{children:[D.jsx("h3",{children:i||"This project does not have a date"}),D.jsx("h1",{children:s||"This project does not have a title"}),D.jsx("h2",{children:l||"This project does not have a description"}),D.jsx(D1,{children:g||"This project does not have content"})]})}function C1(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let La=C1();function G3(n){La=n}const Io={exec:()=>null};function nt(n,a=""){let s=typeof n=="string"?n:n.source;const i={replace:(l,c)=>{let d=typeof c=="string"?c:c.source;return d=d.replace($t.caret,"$1"),s=s.replace(l,d),i},getRegex:()=>new RegExp(s,a)};return i}const $t={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:n=>new RegExp(`^( {0,3}${n})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}#`),htmlBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}<(?:[a-z].*>|!--)`,"i")},R7=/^(?:[ \t]*(?:\n|$))+/,I7=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,P7=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Yo=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,B7=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,A1=/(?:[*+-]|\d{1,9}[.)])/,Y3=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Q3=nt(Y3).replace(/bull/g,A1).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),N7=nt(Y3).replace(/bull/g,A1).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),E1=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,U7=/^[^\n]+/,O1=/(?!\s*\])(?:\\.|[^\[\]\\])+/,j7=nt(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",O1).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),F7=nt(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,A1).getRegex(),Al="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",M1=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,H7=nt("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",M1).replace("tag",Al).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),X3=nt(E1).replace("hr",Yo).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Al).getRegex(),q7=nt(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",X3).getRegex(),L1={blockquote:q7,code:I7,def:j7,fences:P7,heading:B7,hr:Yo,html:H7,lheading:Q3,list:F7,newline:R7,paragraph:X3,table:Io,text:U7},M_=nt("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Yo).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Al).getRegex(),V7={...L1,lheading:N7,table:M_,paragraph:nt(E1).replace("hr",Yo).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",M_).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Al).getRegex()},G7={...L1,html:nt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",M1).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Io,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:nt(E1).replace("hr",Yo).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Q3).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Y7=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Q7=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,W3=/^( {2,}|\\)\n(?!\s*$)/,X7=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,El=/[\p{P}\p{S}]/u,z1=/[\s\p{P}\p{S}]/u,Z3=/[^\s\p{P}\p{S}]/u,W7=nt(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,z1).getRegex(),K3=/(?!~)[\p{P}\p{S}]/u,Z7=/(?!~)[\s\p{P}\p{S}]/u,K7=/(?:[^\s\p{P}\p{S}]|~)/u,J7=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,J3=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,$7=nt(J3,"u").replace(/punct/g,El).getRegex(),e6=nt(J3,"u").replace(/punct/g,K3).getRegex(),$3="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",t6=nt($3,"gu").replace(/notPunctSpace/g,Z3).replace(/punctSpace/g,z1).replace(/punct/g,El).getRegex(),n6=nt($3,"gu").replace(/notPunctSpace/g,K7).replace(/punctSpace/g,Z7).replace(/punct/g,K3).getRegex(),r6=nt("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Z3).replace(/punctSpace/g,z1).replace(/punct/g,El).getRegex(),a6=nt(/\\(punct)/,"gu").replace(/punct/g,El).getRegex(),s6=nt(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),o6=nt(M1).replace("(?:-->|$)","-->").getRegex(),i6=nt("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",o6).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),ml=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,l6=nt(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",ml).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),ex=nt(/^!?\[(label)\]\[(ref)\]/).replace("label",ml).replace("ref",O1).getRegex(),tx=nt(/^!?\[(ref)\](?:\[\])?/).replace("ref",O1).getRegex(),u6=nt("reflink|nolink(?!\\()","g").replace("reflink",ex).replace("nolink",tx).getRegex(),R1={_backpedal:Io,anyPunctuation:a6,autolink:s6,blockSkip:J7,br:W3,code:Q7,del:Io,emStrongLDelim:$7,emStrongRDelimAst:t6,emStrongRDelimUnd:r6,escape:Y7,link:l6,nolink:tx,punctuation:W7,reflink:ex,reflinkSearch:u6,tag:i6,text:X7,url:Io},c6={...R1,link:nt(/^!?\[(label)\]\((.*?)\)/).replace("label",ml).getRegex(),reflink:nt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ml).getRegex()},yd={...R1,emStrongRDelimAst:n6,emStrongLDelim:e6,url:nt(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},d6={...yd,br:nt(W3).replace("{2,}","*").getRegex(),text:nt(yd.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},al={normal:L1,gfm:V7,pedantic:G7},Do={normal:R1,gfm:yd,breaks:d6,pedantic:c6},h6={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},L_=n=>h6[n];function or(n,a){if(a){if($t.escapeTest.test(n))return n.replace($t.escapeReplace,L_)}else if($t.escapeTestNoEncode.test(n))return n.replace($t.escapeReplaceNoEncode,L_);return n}function z_(n){try{n=encodeURI(n).replace($t.percentDecode,"%")}catch{return null}return n}function R_(n,a){var c;const s=n.replace($t.findPipe,(d,h,g)=>{let f=!1,m=h;for(;--m>=0&&g[m]==="\\";)f=!f;return f?"|":" |"}),i=s.split($t.splitPipe);let l=0;if(i[0].trim()||i.shift(),i.length>0&&!((c=i.at(-1))!=null&&c.trim())&&i.pop(),a)if(i.length>a)i.splice(a);else for(;i.length<a;)i.push("");for(;l<i.length;l++)i[l]=i[l].trim().replace($t.slashPipe,"|");return i}function Co(n,a,s){const i=n.length;if(i===0)return"";let l=0;for(;l<i&&n.charAt(i-l-1)===a;)l++;return n.slice(0,i-l)}function p6(n,a){if(n.indexOf(a[1])===-1)return-1;let s=0;for(let i=0;i<n.length;i++)if(n[i]==="\\")i++;else if(n[i]===a[0])s++;else if(n[i]===a[1]&&(s--,s<0))return i;return-1}function I_(n,a,s,i,l){const c=a.href,d=a.title||null,h=n[1].replace(l.other.outputLinkReplace,"$1");if(n[0].charAt(0)!=="!"){i.state.inLink=!0;const g={type:"link",raw:s,href:c,title:d,text:h,tokens:i.inlineTokens(h)};return i.state.inLink=!1,g}return{type:"image",raw:s,href:c,title:d,text:h}}function f6(n,a,s){const i=n.match(s.other.indentCodeCompensation);if(i===null)return a;const l=i[1];return a.split(`
`).map(c=>{const d=c.match(s.other.beginningSpace);if(d===null)return c;const[h]=d;return h.length>=l.length?c.slice(l.length):c}).join(`
`)}class bl{constructor(a){lt(this,"options");lt(this,"rules");lt(this,"lexer");this.options=a||La}space(a){const s=this.rules.block.newline.exec(a);if(s&&s[0].length>0)return{type:"space",raw:s[0]}}code(a){const s=this.rules.block.code.exec(a);if(s){const i=s[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:s[0],codeBlockStyle:"indented",text:this.options.pedantic?i:Co(i,`
`)}}}fences(a){const s=this.rules.block.fences.exec(a);if(s){const i=s[0],l=f6(i,s[3]||"",this.rules);return{type:"code",raw:i,lang:s[2]?s[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):s[2],text:l}}}heading(a){const s=this.rules.block.heading.exec(a);if(s){let i=s[2].trim();if(this.rules.other.endingHash.test(i)){const l=Co(i,"#");(this.options.pedantic||!l||this.rules.other.endingSpaceChar.test(l))&&(i=l.trim())}return{type:"heading",raw:s[0],depth:s[1].length,text:i,tokens:this.lexer.inline(i)}}}hr(a){const s=this.rules.block.hr.exec(a);if(s)return{type:"hr",raw:Co(s[0],`
`)}}blockquote(a){const s=this.rules.block.blockquote.exec(a);if(s){let i=Co(s[0],`
`).split(`
`),l="",c="";const d=[];for(;i.length>0;){let h=!1;const g=[];let f;for(f=0;f<i.length;f++)if(this.rules.other.blockquoteStart.test(i[f]))g.push(i[f]),h=!0;else if(!h)g.push(i[f]);else break;i=i.slice(f);const m=g.join(`
`),y=m.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");l=l?`${l}
${m}`:m,c=c?`${c}
${y}`:y;const v=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(y,d,!0),this.lexer.state.top=v,i.length===0)break;const _=d.at(-1);if((_==null?void 0:_.type)==="code")break;if((_==null?void 0:_.type)==="blockquote"){const A=_,M=A.raw+`
`+i.join(`
`),U=this.blockquote(M);d[d.length-1]=U,l=l.substring(0,l.length-A.raw.length)+U.raw,c=c.substring(0,c.length-A.text.length)+U.text;break}else if((_==null?void 0:_.type)==="list"){const A=_,M=A.raw+`
`+i.join(`
`),U=this.list(M);d[d.length-1]=U,l=l.substring(0,l.length-_.raw.length)+U.raw,c=c.substring(0,c.length-A.raw.length)+U.raw,i=M.substring(d.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:l,tokens:d,text:c}}}list(a){let s=this.rules.block.list.exec(a);if(s){let i=s[1].trim();const l=i.length>1,c={type:"list",raw:"",ordered:l,start:l?+i.slice(0,-1):"",loose:!1,items:[]};i=l?`\\d{1,9}\\${i.slice(-1)}`:`\\${i}`,this.options.pedantic&&(i=l?i:"[*+-]");const d=this.rules.other.listItemRegex(i);let h=!1;for(;a;){let f=!1,m="",y="";if(!(s=d.exec(a))||this.rules.block.hr.test(a))break;m=s[0],a=a.substring(m.length);let v=s[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,j=>" ".repeat(3*j.length)),_=a.split(`
`,1)[0],A=!v.trim(),M=0;if(this.options.pedantic?(M=2,y=v.trimStart()):A?M=s[1].length+1:(M=s[2].search(this.rules.other.nonSpaceChar),M=M>4?1:M,y=v.slice(M),M+=s[1].length),A&&this.rules.other.blankLine.test(_)&&(m+=_+`
`,a=a.substring(_.length+1),f=!0),!f){const j=this.rules.other.nextBulletRegex(M),F=this.rules.other.hrRegex(M),se=this.rules.other.fencesBeginRegex(M),J=this.rules.other.headingBeginRegex(M),T=this.rules.other.htmlBeginRegex(M);for(;a;){const pe=a.split(`
`,1)[0];let ve;if(_=pe,this.options.pedantic?(_=_.replace(this.rules.other.listReplaceNesting,"  "),ve=_):ve=_.replace(this.rules.other.tabCharGlobal,"    "),se.test(_)||J.test(_)||T.test(_)||j.test(_)||F.test(_))break;if(ve.search(this.rules.other.nonSpaceChar)>=M||!_.trim())y+=`
`+ve.slice(M);else{if(A||v.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||se.test(v)||J.test(v)||F.test(v))break;y+=`
`+_}!A&&!_.trim()&&(A=!0),m+=pe+`
`,a=a.substring(pe.length+1),v=ve.slice(M)}}c.loose||(h?c.loose=!0:this.rules.other.doubleBlankLine.test(m)&&(h=!0));let U=null,E;this.options.gfm&&(U=this.rules.other.listIsTask.exec(y),U&&(E=U[0]!=="[ ] ",y=y.replace(this.rules.other.listReplaceTask,""))),c.items.push({type:"list_item",raw:m,task:!!U,checked:E,loose:!1,text:y,tokens:[]}),c.raw+=m}const g=c.items.at(-1);if(g)g.raw=g.raw.trimEnd(),g.text=g.text.trimEnd();else return;c.raw=c.raw.trimEnd();for(let f=0;f<c.items.length;f++)if(this.lexer.state.top=!1,c.items[f].tokens=this.lexer.blockTokens(c.items[f].text,[]),!c.loose){const m=c.items[f].tokens.filter(v=>v.type==="space"),y=m.length>0&&m.some(v=>this.rules.other.anyLine.test(v.raw));c.loose=y}if(c.loose)for(let f=0;f<c.items.length;f++)c.items[f].loose=!0;return c}}html(a){const s=this.rules.block.html.exec(a);if(s)return{type:"html",block:!0,raw:s[0],pre:s[1]==="pre"||s[1]==="script"||s[1]==="style",text:s[0]}}def(a){const s=this.rules.block.def.exec(a);if(s){const i=s[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),l=s[2]?s[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",c=s[3]?s[3].substring(1,s[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):s[3];return{type:"def",tag:i,raw:s[0],href:l,title:c}}}table(a){var h;const s=this.rules.block.table.exec(a);if(!s||!this.rules.other.tableDelimiter.test(s[2]))return;const i=R_(s[1]),l=s[2].replace(this.rules.other.tableAlignChars,"").split("|"),c=(h=s[3])!=null&&h.trim()?s[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],d={type:"table",raw:s[0],header:[],align:[],rows:[]};if(i.length===l.length){for(const g of l)this.rules.other.tableAlignRight.test(g)?d.align.push("right"):this.rules.other.tableAlignCenter.test(g)?d.align.push("center"):this.rules.other.tableAlignLeft.test(g)?d.align.push("left"):d.align.push(null);for(let g=0;g<i.length;g++)d.header.push({text:i[g],tokens:this.lexer.inline(i[g]),header:!0,align:d.align[g]});for(const g of c)d.rows.push(R_(g,d.header.length).map((f,m)=>({text:f,tokens:this.lexer.inline(f),header:!1,align:d.align[m]})));return d}}lheading(a){const s=this.rules.block.lheading.exec(a);if(s)return{type:"heading",raw:s[0],depth:s[2].charAt(0)==="="?1:2,text:s[1],tokens:this.lexer.inline(s[1])}}paragraph(a){const s=this.rules.block.paragraph.exec(a);if(s){const i=s[1].charAt(s[1].length-1)===`
`?s[1].slice(0,-1):s[1];return{type:"paragraph",raw:s[0],text:i,tokens:this.lexer.inline(i)}}}text(a){const s=this.rules.block.text.exec(a);if(s)return{type:"text",raw:s[0],text:s[0],tokens:this.lexer.inline(s[0])}}escape(a){const s=this.rules.inline.escape.exec(a);if(s)return{type:"escape",raw:s[0],text:s[1]}}tag(a){const s=this.rules.inline.tag.exec(a);if(s)return!this.lexer.state.inLink&&this.rules.other.startATag.test(s[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(s[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(s[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(s[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:s[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:s[0]}}link(a){const s=this.rules.inline.link.exec(a);if(s){const i=s[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(i)){if(!this.rules.other.endAngleBracket.test(i))return;const d=Co(i.slice(0,-1),"\\");if((i.length-d.length)%2===0)return}else{const d=p6(s[2],"()");if(d>-1){const g=(s[0].indexOf("!")===0?5:4)+s[1].length+d;s[2]=s[2].substring(0,d),s[0]=s[0].substring(0,g).trim(),s[3]=""}}let l=s[2],c="";if(this.options.pedantic){const d=this.rules.other.pedanticHrefTitle.exec(l);d&&(l=d[1],c=d[3])}else c=s[3]?s[3].slice(1,-1):"";return l=l.trim(),this.rules.other.startAngleBracket.test(l)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(i)?l=l.slice(1):l=l.slice(1,-1)),I_(s,{href:l&&l.replace(this.rules.inline.anyPunctuation,"$1"),title:c&&c.replace(this.rules.inline.anyPunctuation,"$1")},s[0],this.lexer,this.rules)}}reflink(a,s){let i;if((i=this.rules.inline.reflink.exec(a))||(i=this.rules.inline.nolink.exec(a))){const l=(i[2]||i[1]).replace(this.rules.other.multipleSpaceGlobal," "),c=s[l.toLowerCase()];if(!c){const d=i[0].charAt(0);return{type:"text",raw:d,text:d}}return I_(i,c,i[0],this.lexer,this.rules)}}emStrong(a,s,i=""){let l=this.rules.inline.emStrongLDelim.exec(a);if(!l||l[3]&&i.match(this.rules.other.unicodeAlphaNumeric))return;if(!(l[1]||l[2]||"")||!i||this.rules.inline.punctuation.exec(i)){const d=[...l[0]].length-1;let h,g,f=d,m=0;const y=l[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(y.lastIndex=0,s=s.slice(-1*a.length+d);(l=y.exec(s))!=null;){if(h=l[1]||l[2]||l[3]||l[4]||l[5]||l[6],!h)continue;if(g=[...h].length,l[3]||l[4]){f+=g;continue}else if((l[5]||l[6])&&d%3&&!((d+g)%3)){m+=g;continue}if(f-=g,f>0)continue;g=Math.min(g,g+f+m);const v=[...l[0]][0].length,_=a.slice(0,d+l.index+v+g);if(Math.min(d,g)%2){const M=_.slice(1,-1);return{type:"em",raw:_,text:M,tokens:this.lexer.inlineTokens(M)}}const A=_.slice(2,-2);return{type:"strong",raw:_,text:A,tokens:this.lexer.inlineTokens(A)}}}}codespan(a){const s=this.rules.inline.code.exec(a);if(s){let i=s[2].replace(this.rules.other.newLineCharGlobal," ");const l=this.rules.other.nonSpaceChar.test(i),c=this.rules.other.startingSpaceChar.test(i)&&this.rules.other.endingSpaceChar.test(i);return l&&c&&(i=i.substring(1,i.length-1)),{type:"codespan",raw:s[0],text:i}}}br(a){const s=this.rules.inline.br.exec(a);if(s)return{type:"br",raw:s[0]}}del(a){const s=this.rules.inline.del.exec(a);if(s)return{type:"del",raw:s[0],text:s[2],tokens:this.lexer.inlineTokens(s[2])}}autolink(a){const s=this.rules.inline.autolink.exec(a);if(s){let i,l;return s[2]==="@"?(i=s[1],l="mailto:"+i):(i=s[1],l=i),{type:"link",raw:s[0],text:i,href:l,tokens:[{type:"text",raw:i,text:i}]}}}url(a){var i;let s;if(s=this.rules.inline.url.exec(a)){let l,c;if(s[2]==="@")l=s[0],c="mailto:"+l;else{let d;do d=s[0],s[0]=((i=this.rules.inline._backpedal.exec(s[0]))==null?void 0:i[0])??"";while(d!==s[0]);l=s[0],s[1]==="www."?c="http://"+s[0]:c=s[0]}return{type:"link",raw:s[0],text:l,href:c,tokens:[{type:"text",raw:l,text:l}]}}}inlineText(a){const s=this.rules.inline.text.exec(a);if(s){const i=this.lexer.state.inRawBlock;return{type:"text",raw:s[0],text:s[0],escaped:i}}}}class Rn{constructor(a){lt(this,"tokens");lt(this,"options");lt(this,"state");lt(this,"tokenizer");lt(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=a||La,this.options.tokenizer=this.options.tokenizer||new bl,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const s={other:$t,block:al.normal,inline:Do.normal};this.options.pedantic?(s.block=al.pedantic,s.inline=Do.pedantic):this.options.gfm&&(s.block=al.gfm,this.options.breaks?s.inline=Do.breaks:s.inline=Do.gfm),this.tokenizer.rules=s}static get rules(){return{block:al,inline:Do}}static lex(a,s){return new Rn(s).lex(a)}static lexInline(a,s){return new Rn(s).inlineTokens(a)}lex(a){a=a.replace($t.carriageReturn,`
`),this.blockTokens(a,this.tokens);for(let s=0;s<this.inlineQueue.length;s++){const i=this.inlineQueue[s];this.inlineTokens(i.src,i.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(a,s=[],i=!1){var l,c,d;for(this.options.pedantic&&(a=a.replace($t.tabCharGlobal,"    ").replace($t.spaceLine,""));a;){let h;if((c=(l=this.options.extensions)==null?void 0:l.block)!=null&&c.some(f=>(h=f.call({lexer:this},a,s))?(a=a.substring(h.raw.length),s.push(h),!0):!1))continue;if(h=this.tokenizer.space(a)){a=a.substring(h.raw.length);const f=s.at(-1);h.raw.length===1&&f!==void 0?f.raw+=`
`:s.push(h);continue}if(h=this.tokenizer.code(a)){a=a.substring(h.raw.length);const f=s.at(-1);(f==null?void 0:f.type)==="paragraph"||(f==null?void 0:f.type)==="text"?(f.raw+=`
`+h.raw,f.text+=`
`+h.text,this.inlineQueue.at(-1).src=f.text):s.push(h);continue}if(h=this.tokenizer.fences(a)){a=a.substring(h.raw.length),s.push(h);continue}if(h=this.tokenizer.heading(a)){a=a.substring(h.raw.length),s.push(h);continue}if(h=this.tokenizer.hr(a)){a=a.substring(h.raw.length),s.push(h);continue}if(h=this.tokenizer.blockquote(a)){a=a.substring(h.raw.length),s.push(h);continue}if(h=this.tokenizer.list(a)){a=a.substring(h.raw.length),s.push(h);continue}if(h=this.tokenizer.html(a)){a=a.substring(h.raw.length),s.push(h);continue}if(h=this.tokenizer.def(a)){a=a.substring(h.raw.length);const f=s.at(-1);(f==null?void 0:f.type)==="paragraph"||(f==null?void 0:f.type)==="text"?(f.raw+=`
`+h.raw,f.text+=`
`+h.raw,this.inlineQueue.at(-1).src=f.text):this.tokens.links[h.tag]||(this.tokens.links[h.tag]={href:h.href,title:h.title});continue}if(h=this.tokenizer.table(a)){a=a.substring(h.raw.length),s.push(h);continue}if(h=this.tokenizer.lheading(a)){a=a.substring(h.raw.length),s.push(h);continue}let g=a;if((d=this.options.extensions)!=null&&d.startBlock){let f=1/0;const m=a.slice(1);let y;this.options.extensions.startBlock.forEach(v=>{y=v.call({lexer:this},m),typeof y=="number"&&y>=0&&(f=Math.min(f,y))}),f<1/0&&f>=0&&(g=a.substring(0,f+1))}if(this.state.top&&(h=this.tokenizer.paragraph(g))){const f=s.at(-1);i&&(f==null?void 0:f.type)==="paragraph"?(f.raw+=`
`+h.raw,f.text+=`
`+h.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=f.text):s.push(h),i=g.length!==a.length,a=a.substring(h.raw.length);continue}if(h=this.tokenizer.text(a)){a=a.substring(h.raw.length);const f=s.at(-1);(f==null?void 0:f.type)==="text"?(f.raw+=`
`+h.raw,f.text+=`
`+h.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=f.text):s.push(h);continue}if(a){const f="Infinite loop on byte: "+a.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return this.state.top=!0,s}inline(a,s=[]){return this.inlineQueue.push({src:a,tokens:s}),s}inlineTokens(a,s=[]){var h,g,f;let i=a,l=null;if(this.tokens.links){const m=Object.keys(this.tokens.links);if(m.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(i))!=null;)m.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(i=i.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.blockSkip.exec(i))!=null;)i=i.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(l=this.tokenizer.rules.inline.anyPunctuation.exec(i))!=null;)i=i.slice(0,l.index)+"++"+i.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let c=!1,d="";for(;a;){c||(d=""),c=!1;let m;if((g=(h=this.options.extensions)==null?void 0:h.inline)!=null&&g.some(v=>(m=v.call({lexer:this},a,s))?(a=a.substring(m.raw.length),s.push(m),!0):!1))continue;if(m=this.tokenizer.escape(a)){a=a.substring(m.raw.length),s.push(m);continue}if(m=this.tokenizer.tag(a)){a=a.substring(m.raw.length),s.push(m);continue}if(m=this.tokenizer.link(a)){a=a.substring(m.raw.length),s.push(m);continue}if(m=this.tokenizer.reflink(a,this.tokens.links)){a=a.substring(m.raw.length);const v=s.at(-1);m.type==="text"&&(v==null?void 0:v.type)==="text"?(v.raw+=m.raw,v.text+=m.text):s.push(m);continue}if(m=this.tokenizer.emStrong(a,i,d)){a=a.substring(m.raw.length),s.push(m);continue}if(m=this.tokenizer.codespan(a)){a=a.substring(m.raw.length),s.push(m);continue}if(m=this.tokenizer.br(a)){a=a.substring(m.raw.length),s.push(m);continue}if(m=this.tokenizer.del(a)){a=a.substring(m.raw.length),s.push(m);continue}if(m=this.tokenizer.autolink(a)){a=a.substring(m.raw.length),s.push(m);continue}if(!this.state.inLink&&(m=this.tokenizer.url(a))){a=a.substring(m.raw.length),s.push(m);continue}let y=a;if((f=this.options.extensions)!=null&&f.startInline){let v=1/0;const _=a.slice(1);let A;this.options.extensions.startInline.forEach(M=>{A=M.call({lexer:this},_),typeof A=="number"&&A>=0&&(v=Math.min(v,A))}),v<1/0&&v>=0&&(y=a.substring(0,v+1))}if(m=this.tokenizer.inlineText(y)){a=a.substring(m.raw.length),m.raw.slice(-1)!=="_"&&(d=m.raw.slice(-1)),c=!0;const v=s.at(-1);(v==null?void 0:v.type)==="text"?(v.raw+=m.raw,v.text+=m.text):s.push(m);continue}if(a){const v="Infinite loop on byte: "+a.charCodeAt(0);if(this.options.silent){console.error(v);break}else throw new Error(v)}}return s}}class yl{constructor(a){lt(this,"options");lt(this,"parser");this.options=a||La}space(a){return""}code({text:a,lang:s,escaped:i}){var d;const l=(d=(s||"").match($t.notSpaceStart))==null?void 0:d[0],c=a.replace($t.endingNewline,"")+`
`;return l?'<pre><code class="language-'+or(l)+'">'+(i?c:or(c,!0))+`</code></pre>
`:"<pre><code>"+(i?c:or(c,!0))+`</code></pre>
`}blockquote({tokens:a}){return`<blockquote>
${this.parser.parse(a)}</blockquote>
`}html({text:a}){return a}heading({tokens:a,depth:s}){return`<h${s}>${this.parser.parseInline(a)}</h${s}>
`}hr(a){return`<hr>
`}list(a){const s=a.ordered,i=a.start;let l="";for(let h=0;h<a.items.length;h++){const g=a.items[h];l+=this.listitem(g)}const c=s?"ol":"ul",d=s&&i!==1?' start="'+i+'"':"";return"<"+c+d+`>
`+l+"</"+c+`>
`}listitem(a){var i;let s="";if(a.task){const l=this.checkbox({checked:!!a.checked});a.loose?((i=a.tokens[0])==null?void 0:i.type)==="paragraph"?(a.tokens[0].text=l+" "+a.tokens[0].text,a.tokens[0].tokens&&a.tokens[0].tokens.length>0&&a.tokens[0].tokens[0].type==="text"&&(a.tokens[0].tokens[0].text=l+" "+or(a.tokens[0].tokens[0].text),a.tokens[0].tokens[0].escaped=!0)):a.tokens.unshift({type:"text",raw:l+" ",text:l+" ",escaped:!0}):s+=l+" "}return s+=this.parser.parse(a.tokens,!!a.loose),`<li>${s}</li>
`}checkbox({checked:a}){return"<input "+(a?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:a}){return`<p>${this.parser.parseInline(a)}</p>
`}table(a){let s="",i="";for(let c=0;c<a.header.length;c++)i+=this.tablecell(a.header[c]);s+=this.tablerow({text:i});let l="";for(let c=0;c<a.rows.length;c++){const d=a.rows[c];i="";for(let h=0;h<d.length;h++)i+=this.tablecell(d[h]);l+=this.tablerow({text:i})}return l&&(l=`<tbody>${l}</tbody>`),`<table>
<thead>
`+s+`</thead>
`+l+`</table>
`}tablerow({text:a}){return`<tr>
${a}</tr>
`}tablecell(a){const s=this.parser.parseInline(a.tokens),i=a.header?"th":"td";return(a.align?`<${i} align="${a.align}">`:`<${i}>`)+s+`</${i}>
`}strong({tokens:a}){return`<strong>${this.parser.parseInline(a)}</strong>`}em({tokens:a}){return`<em>${this.parser.parseInline(a)}</em>`}codespan({text:a}){return`<code>${or(a,!0)}</code>`}br(a){return"<br>"}del({tokens:a}){return`<del>${this.parser.parseInline(a)}</del>`}link({href:a,title:s,tokens:i}){const l=this.parser.parseInline(i),c=z_(a);if(c===null)return l;a=c;let d='<a href="'+a+'"';return s&&(d+=' title="'+or(s)+'"'),d+=">"+l+"</a>",d}image({href:a,title:s,text:i}){const l=z_(a);if(l===null)return or(i);a=l;let c=`<img src="${a}" alt="${i}"`;return s&&(c+=` title="${or(s)}"`),c+=">",c}text(a){return"tokens"in a&&a.tokens?this.parser.parseInline(a.tokens):"escaped"in a&&a.escaped?a.text:or(a.text)}}class I1{strong({text:a}){return a}em({text:a}){return a}codespan({text:a}){return a}del({text:a}){return a}html({text:a}){return a}text({text:a}){return a}link({text:a}){return""+a}image({text:a}){return""+a}br(){return""}}class In{constructor(a){lt(this,"options");lt(this,"renderer");lt(this,"textRenderer");this.options=a||La,this.options.renderer=this.options.renderer||new yl,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new I1}static parse(a,s){return new In(s).parse(a)}static parseInline(a,s){return new In(s).parseInline(a)}parse(a,s=!0){var l,c;let i="";for(let d=0;d<a.length;d++){const h=a[d];if((c=(l=this.options.extensions)==null?void 0:l.renderers)!=null&&c[h.type]){const f=h,m=this.options.extensions.renderers[f.type].call({parser:this},f);if(m!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(f.type)){i+=m||"";continue}}const g=h;switch(g.type){case"space":{i+=this.renderer.space(g);continue}case"hr":{i+=this.renderer.hr(g);continue}case"heading":{i+=this.renderer.heading(g);continue}case"code":{i+=this.renderer.code(g);continue}case"table":{i+=this.renderer.table(g);continue}case"blockquote":{i+=this.renderer.blockquote(g);continue}case"list":{i+=this.renderer.list(g);continue}case"html":{i+=this.renderer.html(g);continue}case"paragraph":{i+=this.renderer.paragraph(g);continue}case"text":{let f=g,m=this.renderer.text(f);for(;d+1<a.length&&a[d+1].type==="text";)f=a[++d],m+=`
`+this.renderer.text(f);s?i+=this.renderer.paragraph({type:"paragraph",raw:m,text:m,tokens:[{type:"text",raw:m,text:m,escaped:!0}]}):i+=m;continue}default:{const f='Token with "'+g.type+'" type was not found.';if(this.options.silent)return console.error(f),"";throw new Error(f)}}}return i}parseInline(a,s=this.renderer){var l,c;let i="";for(let d=0;d<a.length;d++){const h=a[d];if((c=(l=this.options.extensions)==null?void 0:l.renderers)!=null&&c[h.type]){const f=this.options.extensions.renderers[h.type].call({parser:this},h);if(f!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(h.type)){i+=f||"";continue}}const g=h;switch(g.type){case"escape":{i+=s.text(g);break}case"html":{i+=s.html(g);break}case"link":{i+=s.link(g);break}case"image":{i+=s.image(g);break}case"strong":{i+=s.strong(g);break}case"em":{i+=s.em(g);break}case"codespan":{i+=s.codespan(g);break}case"br":{i+=s.br(g);break}case"del":{i+=s.del(g);break}case"text":{i+=s.text(g);break}default:{const f='Token with "'+g.type+'" type was not found.';if(this.options.silent)return console.error(f),"";throw new Error(f)}}}return i}}class Po{constructor(a){lt(this,"options");lt(this,"block");this.options=a||La}preprocess(a){return a}postprocess(a){return a}processAllTokens(a){return a}provideLexer(){return this.block?Rn.lex:Rn.lexInline}provideParser(){return this.block?In.parse:In.parseInline}}lt(Po,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));class g6{constructor(...a){lt(this,"defaults",C1());lt(this,"options",this.setOptions);lt(this,"parse",this.parseMarkdown(!0));lt(this,"parseInline",this.parseMarkdown(!1));lt(this,"Parser",In);lt(this,"Renderer",yl);lt(this,"TextRenderer",I1);lt(this,"Lexer",Rn);lt(this,"Tokenizer",bl);lt(this,"Hooks",Po);this.use(...a)}walkTokens(a,s){var l,c;let i=[];for(const d of a)switch(i=i.concat(s.call(this,d)),d.type){case"table":{const h=d;for(const g of h.header)i=i.concat(this.walkTokens(g.tokens,s));for(const g of h.rows)for(const f of g)i=i.concat(this.walkTokens(f.tokens,s));break}case"list":{const h=d;i=i.concat(this.walkTokens(h.items,s));break}default:{const h=d;(c=(l=this.defaults.extensions)==null?void 0:l.childTokens)!=null&&c[h.type]?this.defaults.extensions.childTokens[h.type].forEach(g=>{const f=h[g].flat(1/0);i=i.concat(this.walkTokens(f,s))}):h.tokens&&(i=i.concat(this.walkTokens(h.tokens,s)))}}return i}use(...a){const s=this.defaults.extensions||{renderers:{},childTokens:{}};return a.forEach(i=>{const l={...i};if(l.async=this.defaults.async||l.async||!1,i.extensions&&(i.extensions.forEach(c=>{if(!c.name)throw new Error("extension name required");if("renderer"in c){const d=s.renderers[c.name];d?s.renderers[c.name]=function(...h){let g=c.renderer.apply(this,h);return g===!1&&(g=d.apply(this,h)),g}:s.renderers[c.name]=c.renderer}if("tokenizer"in c){if(!c.level||c.level!=="block"&&c.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const d=s[c.level];d?d.unshift(c.tokenizer):s[c.level]=[c.tokenizer],c.start&&(c.level==="block"?s.startBlock?s.startBlock.push(c.start):s.startBlock=[c.start]:c.level==="inline"&&(s.startInline?s.startInline.push(c.start):s.startInline=[c.start]))}"childTokens"in c&&c.childTokens&&(s.childTokens[c.name]=c.childTokens)}),l.extensions=s),i.renderer){const c=this.defaults.renderer||new yl(this.defaults);for(const d in i.renderer){if(!(d in c))throw new Error(`renderer '${d}' does not exist`);if(["options","parser"].includes(d))continue;const h=d,g=i.renderer[h],f=c[h];c[h]=(...m)=>{let y=g.apply(c,m);return y===!1&&(y=f.apply(c,m)),y||""}}l.renderer=c}if(i.tokenizer){const c=this.defaults.tokenizer||new bl(this.defaults);for(const d in i.tokenizer){if(!(d in c))throw new Error(`tokenizer '${d}' does not exist`);if(["options","rules","lexer"].includes(d))continue;const h=d,g=i.tokenizer[h],f=c[h];c[h]=(...m)=>{let y=g.apply(c,m);return y===!1&&(y=f.apply(c,m)),y}}l.tokenizer=c}if(i.hooks){const c=this.defaults.hooks||new Po;for(const d in i.hooks){if(!(d in c))throw new Error(`hook '${d}' does not exist`);if(["options","block"].includes(d))continue;const h=d,g=i.hooks[h],f=c[h];Po.passThroughHooks.has(d)?c[h]=m=>{if(this.defaults.async)return Promise.resolve(g.call(c,m)).then(v=>f.call(c,v));const y=g.call(c,m);return f.call(c,y)}:c[h]=(...m)=>{let y=g.apply(c,m);return y===!1&&(y=f.apply(c,m)),y}}l.hooks=c}if(i.walkTokens){const c=this.defaults.walkTokens,d=i.walkTokens;l.walkTokens=function(h){let g=[];return g.push(d.call(this,h)),c&&(g=g.concat(c.call(this,h))),g}}this.defaults={...this.defaults,...l}}),this}setOptions(a){return this.defaults={...this.defaults,...a},this}lexer(a,s){return Rn.lex(a,s??this.defaults)}parser(a,s){return In.parse(a,s??this.defaults)}parseMarkdown(a){return(i,l)=>{const c={...l},d={...this.defaults,...c},h=this.onError(!!d.silent,!!d.async);if(this.defaults.async===!0&&c.async===!1)return h(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof i>"u"||i===null)return h(new Error("marked(): input parameter is undefined or null"));if(typeof i!="string")return h(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected"));d.hooks&&(d.hooks.options=d,d.hooks.block=a);const g=d.hooks?d.hooks.provideLexer():a?Rn.lex:Rn.lexInline,f=d.hooks?d.hooks.provideParser():a?In.parse:In.parseInline;if(d.async)return Promise.resolve(d.hooks?d.hooks.preprocess(i):i).then(m=>g(m,d)).then(m=>d.hooks?d.hooks.processAllTokens(m):m).then(m=>d.walkTokens?Promise.all(this.walkTokens(m,d.walkTokens)).then(()=>m):m).then(m=>f(m,d)).then(m=>d.hooks?d.hooks.postprocess(m):m).catch(h);try{d.hooks&&(i=d.hooks.preprocess(i));let m=g(i,d);d.hooks&&(m=d.hooks.processAllTokens(m)),d.walkTokens&&this.walkTokens(m,d.walkTokens);let y=f(m,d);return d.hooks&&(y=d.hooks.postprocess(y)),y}catch(m){return h(m)}}}onError(a,s){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,a){const l="<p>An error occurred:</p><pre>"+or(i.message+"",!0)+"</pre>";return s?Promise.resolve(l):l}if(s)return Promise.reject(i);throw i}}}const Ea=new g6;function rt(n,a){return Ea.parse(n,a)}rt.options=rt.setOptions=function(n){return Ea.setOptions(n),rt.defaults=Ea.defaults,G3(rt.defaults),rt};rt.getDefaults=C1;rt.defaults=La;rt.use=function(...n){return Ea.use(...n),rt.defaults=Ea.defaults,G3(rt.defaults),rt};rt.walkTokens=function(n,a){return Ea.walkTokens(n,a)};rt.parseInline=Ea.parseInline;rt.Parser=In;rt.parser=In.parse;rt.Renderer=yl;rt.TextRenderer=I1;rt.Lexer=Rn;rt.lexer=Rn.lex;rt.Tokenizer=bl;rt.Hooks=Po;rt.parse=rt;rt.options;rt.setOptions;rt.use;rt.walkTokens;rt.parseInline;In.parse;Rn.lex;function m6({posts:n}){const[a,s]=R.useState(null),i=n.flatMap(h=>JSON.parse(h.tags)),l=[...new Set(i)].sort(),c=a?n.filter(h=>JSON.parse(h.tags).includes(a)):n,d={color:"var(--button-font-color-hover)",border:"1px solid var(--button-font-color-hover)"};return D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"filter",children:[D.jsx("button",{onClick:()=>s(null),style:a===null?d:{},children:"ALL POSTS"}),l.map(h=>D.jsx("button",{onClick:()=>s(h),style:a===h?d:{},children:h},h))]}),D.jsx("div",{id:"blog-list",children:c.map(h=>{const f=rt(h.content).replace(/<[^>]*>/g,"").split(" ").slice(0,30).join(" ")+" . . . ",y=h.photo.startsWith("http")?h.photo:new URL(Object.assign({"../assets/blog/2021-09-26--00.png":nh,"../assets/blog/2021-09-26--01.png":rh,"../assets/blog/2021-09-26--02.png":ah,"../assets/blog/2021-09-26--03.png":sh,"../assets/blog/2021-09-26--04.png":oh,"../assets/blog/2021-09-26--05.png":ih,"../assets/blog/2021-09-26--06.png":lh,"../assets/blog/2021-09-26--07.png":uh,"../assets/blog/2021-09-26--08.png":ch,"../assets/blog/2021-09-26--09.png":dh,"../assets/blog/2021-09-26--10.png":hh,"../assets/blog/2021-09-26--11.png":ph,"../assets/blog/2021-09-26--12.png":fh,"../assets/blog/2021-09-26--13.png":gh,"../assets/blog/2021-09-26--14.png":mh,"../assets/blog/2021-09-26--15.png":bh,"../assets/blog/2021-09-26--16.png":yh,"../assets/blog/2021-10-03--00.png":vh,"../assets/blog/2021-10-03--01.png":wh,"../assets/blog/2021-10-03--02.png":_h,"../assets/blog/2021-10-03--03.png":xh,"../assets/blog/2021-10-03--04.png":Sh,"../assets/blog/2021-10-03--05.png":kh,"../assets/blog/2021-10-03--06.png":Th,"../assets/blog/2021-10-03--07.png":Dh,"../assets/blog/2021-10-03--08.png":Ch,"../assets/blog/2021-10-03--09.png":Ah,"../assets/blog/2021-10-03--10.png":Eh,"../assets/blog/2021-10-03--11.png":Oh,"../assets/blog/2021-10-03--12.png":Mh,"../assets/blog/2021-10-03--13.png":Lh,"../assets/blog/2021-10-03--14.png":zh,"../assets/blog/2021-10-03--15.png":Rh,"../assets/blog/2021-10-03--16.png":Ih,"../assets/blog/2021-10-03--17.png":Ph,"../assets/blog/2021-10-03--18.png":Bh,"../assets/blog/2021-10-03--19.png":Nh,"../assets/blog/2021-10-03--20.png":Uh,"../assets/blog/2021-10-03--21.png":jh,"../assets/blog/2021-10-03--22.png":Fh,"../assets/blog/2021-10-03--23.png":Hh,"../assets/blog/2021-10-03--24.png":qh,"../assets/blog/2021-10-03--25.png":Vh,"../assets/blog/2021-10-03--26.png":Gh,"../assets/blog/2021-10-03--27.png":Yh,"../assets/blog/2021-10-03--28.png":Qh,"../assets/blog/2021-10-03--29.png":Xh,"../assets/blog/2021-10-10--00.png":Wh,"../assets/blog/2021-10-10--01.png":Zh,"../assets/blog/2021-10-10--02.png":Kh,"../assets/blog/2021-10-10--03.png":Jh,"../assets/blog/2021-10-10--04.png":$h,"../assets/blog/2021-10-10--05.png":ep,"../assets/blog/2021-10-10--06.png":tp,"../assets/blog/2021-10-10--07.png":np,"../assets/blog/2021-10-10--08.png":rp,"../assets/blog/2021-10-10--09.png":ap,"../assets/blog/2021-10-10--10.png":sp,"../assets/blog/2021-10-10--11.png":op,"../assets/blog/2021-10-10--12.png":ip,"../assets/blog/2021-10-10--13.png":lp,"../assets/blog/2021-10-10--14.png":up,"../assets/blog/2021-10-10--15.png":cp,"../assets/blog/2021-10-10--16.png":dp,"../assets/blog/2021-10-10--17.png":hp,"../assets/blog/2021-10-10--18.png":pp,"../assets/blog/2021-10-10--19.png":fp,"../assets/blog/2021-10-10--20.png":gp,"../assets/blog/2021-10-10--21.png":mp,"../assets/blog/2021-10-10--22.png":bp,"../assets/blog/2021-10-10--22a.png":yp,"../assets/blog/2021-10-10--23.png":vp,"../assets/blog/2021-10-10--23a.png":wp,"../assets/blog/2021-10-10--24.png":_p,"../assets/blog/2021-10-10--24a.png":xp,"../assets/blog/2021-10-17--00.png":Sp,"../assets/blog/2021-10-17--01.png":kp,"../assets/blog/2021-10-17--02.png":Tp,"../assets/blog/2021-10-17--03.png":Dp,"../assets/blog/2021-10-17--04.png":Cp,"../assets/blog/2021-10-17--05.png":Ap,"../assets/blog/2021-10-17--06.png":Ep,"../assets/blog/2021-10-17--07.png":Op,"../assets/blog/2021-10-17--08.png":Mp,"../assets/blog/2021-10-24--00.png":Lp,"../assets/blog/2021-10-24--01.png":zp,"../assets/blog/2021-10-24--02.png":Rp,"../assets/blog/2021-10-24--03.png":Ip,"../assets/blog/2021-10-24--04.png":Pp,"../assets/blog/2021-10-24--05.png":Bp,"../assets/blog/2021-10-24--06.png":Np,"../assets/blog/2021-10-24--07.png":Up,"../assets/blog/2021-10-24--08.png":jp,"../assets/blog/2021-10-24--09.png":Fp,"../assets/blog/2021-10-24--10.png":Hp,"../assets/blog/2021-10-24--11.png":qp,"../assets/blog/2021-10-24--12.png":Vp,"../assets/blog/2021-10-24--13.png":Gp,"../assets/blog/2021-10-24--14.png":Yp,"../assets/blog/2021-10-24--15.png":Qp,"../assets/blog/2021-10-24--16.png":Xp,"../assets/blog/2021-10-24--17.png":Wp,"../assets/blog/2021-10-31--00.png":Zp,"../assets/blog/2021-10-31--01.png":Kp,"../assets/blog/2021-10-31--02.png":Jp,"../assets/blog/2021-10-31--03.png":$p,"../assets/blog/2021-10-31--04.png":ef,"../assets/blog/2021-12-18--00.png":tf,"../assets/blog/2021-12-18--01.png":nf,"../assets/blog/2021-12-18--02.png":rf,"../assets/blog/2021-12-18--03.png":af,"../assets/blog/2021-12-18--04.png":sf,"../assets/blog/2021-12-18--05.png":of,"../assets/blog/2021-12-18--06.png":lf,"../assets/blog/2021-12-18--07.png":uf,"../assets/blog/2021-12-18--08.png":cf,"../assets/blog/2021-12-18--08a.png":df,"../assets/blog/2021-12-18--09.png":hf,"../assets/blog/2021-12-18--10.png":pf,"../assets/blog/2022-01-12--00.png":ff,"../assets/blog/2022-01-12--01.png":gf,"../assets/blog/2022-01-12--01a.png":mf,"../assets/blog/2022-01-12--02.png":bf,"../assets/blog/2022-01-12--03.png":yf,"../assets/blog/2022-01-12--04.png":vf,"../assets/blog/2022-01-12--05.png":wf,"../assets/blog/2022-01-12--06.png":_f,"../assets/blog/2022-01-12--07.png":xf,"../assets/blog/2022-01-12--08.png":Sf,"../assets/blog/2022-01-12--09.png":kf,"../assets/blog/2022-01-12--10.png":Tf,"../assets/blog/2022-02-27--00.png":Df,"../assets/blog/2022-02-27--01.png":Cf,"../assets/blog/2022-02-27--02.png":Af,"../assets/blog/2022-02-27--03.png":Ef,"../assets/blog/2022-02-27--04.png":Of,"../assets/blog/2022-02-27--05.png":Mf,"../assets/blog/2022-02-27--06.png":Lf,"../assets/blog/2022-02-27--07.png":zf,"../assets/blog/2022-02-27--08.png":Rf,"../assets/blog/2022-04-17--00.png":If,"../assets/blog/2022-04-17--01.png":Pf,"../assets/blog/2022-04-17--02.png":Bf,"../assets/blog/2022-04-17--03.png":Nf,"../assets/blog/2022-04-17--04.png":Uf,"../assets/blog/2022-04-17--05.png":jf,"../assets/blog/2022-04-17--06.png":Ff,"../assets/blog/2022-04-17--07.png":Hf,"../assets/blog/2022-04-17--08.png":qf,"../assets/blog/2022-04-17--09.png":Vf,"../assets/blog/2022-04-17--10.png":Gf,"../assets/blog/2022-04-17--11.png":Yf,"../assets/blog/2022-04-17--12.png":Qf,"../assets/blog/2022-04-17--13.png":Xf,"../assets/blog/2022-04-17--14.png":Wf,"../assets/blog/2022-04-17--15.png":Zf,"../assets/blog/2022-04-17--16.png":Kf,"../assets/blog/2022-04-17--17.png":Jf,"../assets/blog/2022-04-17--18.png":$f,"../assets/blog/2022-04-17--19.png":eg,"../assets/blog/2022-04-17--20.png":tg,"../assets/blog/2022-04-17--21.png":ng,"../assets/blog/2022-04-17--22.png":rg,"../assets/blog/2022-04-17--23.png":ag,"../assets/blog/2022-04-17--24.png":sg,"../assets/blog/2022-04-17--25.png":og,"../assets/blog/2022-04-17--26.png":ig,"../assets/blog/2022-04-17--27.png":lg,"../assets/blog/2022-04-17--28.png":ug,"../assets/blog/2022-04-27--00.png":cg,"../assets/blog/2022-04-27--01.png":dg,"../assets/blog/2022-04-27--02.png":hg,"../assets/blog/2022-04-27--03.png":pg,"../assets/blog/2022-04-27--04.png":fg,"../assets/blog/2022-04-27--05.png":gg,"../assets/blog/2022-04-27--06.png":mg,"../assets/blog/2022-04-27--07.png":bg,"../assets/blog/2022-04-27--08.png":yg,"../assets/blog/2022-04-27--09.png":vg,"../assets/blog/2022-04-27--10.png":wg,"../assets/blog/2022-06-22--00.png":_g,"../assets/blog/2022-06-22--01.png":xg,"../assets/blog/2022-06-22--01a.png":Sg,"../assets/blog/2022-06-22--02.png":kg,"../assets/blog/2022-06-22--03.png":Tg,"../assets/blog/2022-06-22--04.png":Dg,"../assets/blog/2022-06-22--05.png":Cg,"../assets/blog/2022-06-22--06.png":Ag,"../assets/blog/2022-07-31--00.png":Eg,"../assets/blog/2022-07-31--01.png":Og,"../assets/blog/2022-07-31--02.png":Mg,"../assets/blog/2022-07-31--03.png":Lg,"../assets/blog/2022-07-31--04.png":zg,"../assets/blog/2022-08-27--00.png":Rg,"../assets/blog/2022-08-27--01.png":Ig,"../assets/blog/2022-08-27--01a.png":Pg,"../assets/blog/2022-08-27--02.png":Bg,"../assets/blog/2022-08-27--03.png":Ng,"../assets/blog/2022-08-27--04.png":Ug,"../assets/blog/2022-08-27--05.png":jg,"../assets/blog/2022-08-27--06.png":Fg,"../assets/blog/2022-08-27--07.png":Hg,"../assets/blog/2022-08-27--08.png":qg,"../assets/blog/2022-08-27--09.png":Vg,"../assets/blog/2022-08-27--10.png":Gg,"../assets/blog/2022-08-27--11.png":Yg,"../assets/blog/2022-08-27--12.png":Qg,"../assets/blog/2022-08-27--13.png":Xg,"../assets/blog/2022-08-27--14.png":Wg,"../assets/blog/2022-08-27--15.png":Zg,"../assets/blog/2022-08-27--16.png":Kg,"../assets/blog/2022-08-27--17.png":Jg,"../assets/blog/2022-08-27--18.png":$g,"../assets/blog/2022-09-19--00.png":e0,"../assets/blog/2022-09-19--01.png":t0,"../assets/blog/2022-09-19--02.png":n0,"../assets/blog/2022-09-19--03.png":r0,"../assets/blog/2022-09-19--04.png":a0,"../assets/blog/2022-09-19--05.png":s0,"../assets/blog/2022-09-19--06.png":o0,"../assets/blog/2022-09-19--07.png":i0,"../assets/blog/2022-09-19--08.png":l0,"../assets/blog/2022-09-19--09.png":u0,"../assets/blog/2022-09-19--10.png":c0,"../assets/blog/2022-09-19--11.png":d0,"../assets/blog/2022-09-19--12.png":h0,"../assets/blog/2022-09-19--13.png":p0,"../assets/blog/2022-09-19--14.png":f0,"../assets/blog/2022-09-19--15.png":g0,"../assets/blog/2022-09-19--16.png":m0,"../assets/blog/2022-10-29--00.png":b0,"../assets/blog/2022-10-29--01.png":y0,"../assets/blog/2022-10-29--02.png":v0,"../assets/blog/2022-10-29--03.png":w0,"../assets/blog/2022-10-29--04.png":_0,"../assets/blog/2022-10-29--05.png":x0,"../assets/blog/2022-10-29--06.png":S0,"../assets/blog/2022-10-29--07.png":k0,"../assets/blog/2022-10-29--08.png":T0,"../assets/blog/2022-10-29--09.png":D0,"../assets/blog/2022-10-29--10.png":C0,"../assets/blog/2022-10-29--11.png":A0,"../assets/blog/2022-10-29--12.png":E0,"../assets/blog/2022-10-29--13.png":O0,"../assets/blog/2022-10-29--14.png":M0,"../assets/blog/2022-10-29--15.png":L0,"../assets/blog/2022-10-29--16.png":z0,"../assets/blog/2022-10-29--17.png":R0,"../assets/blog/2022-10-29--18.png":I0,"../assets/blog/2022-10-29--19.png":P0,"../assets/blog/2022-10-29--20.png":B0,"../assets/blog/2022-10-29--21.png":N0,"../assets/blog/2022-10-29--22.png":U0,"../assets/blog/2022-10-29--23.png":j0,"../assets/blog/2022-10-29--24.png":F0,"../assets/blog/2022-10-29--25.png":H0,"../assets/blog/2022-10-29--26.png":q0,"../assets/blog/2022-10-29--27.png":V0,"../assets/blog/2022-10-29--28.png":G0,"../assets/blog/2022-10-29--29.png":Y0,"../assets/blog/2022-10-29--30.png":Q0,"../assets/blog/2022-10-29--31.png":X0,"../assets/blog/2022-10-29--32.png":W0,"../assets/blog/2022-10-29--33.png":Z0,"../assets/blog/2022-11-26--00.png":K0,"../assets/blog/2022-11-26--01.png":J0,"../assets/blog/2022-11-26--02.png":$0,"../assets/blog/2022-11-26--03.png":e2,"../assets/blog/2022-11-26--04.png":t2,"../assets/blog/2022-11-26--05.png":n2,"../assets/blog/2022-11-26--06.png":r2,"../assets/blog/2022-11-26--07.png":a2,"../assets/blog/2022-11-26--08.png":s2,"../assets/blog/2022-11-26--09.png":o2,"../assets/blog/2022-11-26--10.png":i2,"../assets/blog/2022-11-26--11.png":l2,"../assets/blog/2022-11-26--12.png":u2,"../assets/blog/2022-11-26--13.png":c2,"../assets/blog/2022-11-26--14.png":d2,"../assets/blog/2022-11-26--15.png":h2,"../assets/blog/2022-11-26--16.png":p2,"../assets/blog/2022-11-26--17.png":f2,"../assets/blog/2022-11-26--18.png":g2,"../assets/blog/2022-11-26--19.png":m2,"../assets/blog/2022-11-26--20.png":b2,"../assets/blog/2022-11-26--21.png":y2,"../assets/blog/2022-11-26--22.png":v2,"../assets/blog/2022-11-26--23.png":w2,"../assets/blog/2022-11-26--24.png":_2,"../assets/blog/2022-11-26--25.png":x2,"../assets/blog/2022-11-26--26.png":S2,"../assets/blog/2022-11-26--27.png":k2,"../assets/blog/2022-11-26--28.png":T2,"../assets/blog/2022-11-26--29.png":D2,"../assets/blog/2022-11-26--30.png":C2,"../assets/blog/2023-03-11--00.png":A2,"../assets/blog/2023-03-11--01.png":E2,"../assets/blog/2023-03-11--02.png":O2,"../assets/blog/2023-03-11--03.png":M2,"../assets/blog/2023-03-11--04.png":L2,"../assets/blog/2023-03-11--05.png":z2,"../assets/blog/2023-03-11--06.png":R2,"../assets/blog/2023-03-11--07.png":I2,"../assets/blog/2023-03-11--08.png":P2,"../assets/blog/2023-03-11--09.png":B2,"../assets/blog/2023-03-11--10.png":N2,"../assets/blog/2023-03-11--11.png":U2,"../assets/blog/2023-03-11--12.png":j2,"../assets/blog/2023-03-11--13.png":F2,"../assets/blog/2023-03-11--14.png":H2,"../assets/blog/2023-03-11--15.png":q2,"../assets/blog/2023-03-11--16.png":V2,"../assets/blog/2023-03-11--17.png":G2,"../assets/blog/2023-03-11--18.png":Y2,"../assets/blog/2023-03-11--19.png":Q2,"../assets/blog/2023-03-11--20.png":X2,"../assets/blog/2023-03-11--21.png":W2,"../assets/blog/2023-10-07--00.png":Z2,"../assets/blog/2023-10-07--01.png":K2,"../assets/blog/2023-10-07--02.png":J2,"../assets/blog/2023-10-07--03.png":$2,"../assets/blog/2023-10-07--04.png":em,"../assets/blog/2023-10-07--05.png":tm,"../assets/blog/2023-10-07--06.png":nm,"../assets/blog/2023-10-07--07.png":rm,"../assets/blog/2023-10-07--08.png":am,"../assets/blog/2023-10-07--09.png":sm,"../assets/blog/2023-10-07--10.png":om,"../assets/blog/2023-10-07--11.png":im,"../assets/blog/2023-10-07--12.png":lm,"../assets/blog/2023-10-07--13.png":um,"../assets/blog/2023-10-07--14.png":cm,"../assets/blog/2023-10-07--15.png":dm,"../assets/blog/2023-10-07--16.png":hm,"../assets/blog/2024-03-28--00.png":pm,"../assets/blog/2024-03-28--01.png":fm,"../assets/blog/2024-03-28--02.png":gm,"../assets/blog/2024-03-28--03.png":mm,"../assets/blog/2024-03-28--04.png":bm,"../assets/blog/2024-03-28--05.png":ym,"../assets/blog/2024-03-28--06.png":vm,"../assets/blog/2024-03-28--07.png":wm,"../assets/blog/2024-03-28--08.png":_m,"../assets/blog/2024-03-28--09.png":xm,"../assets/blog/2024-03-28--10.png":Sm,"../assets/blog/2024-03-28--11.png":km,"../assets/blog/2024-03-28--12.png":Tm,"../assets/blog/2024-03-28--13.png":Dm,"../assets/blog/2024-10-07--00.png":Cm,"../assets/blog/2024-10-07--01.png":Am,"../assets/blog/2024-10-07--02.png":Em,"../assets/blog/2024-10-07--03.png":Om,"../assets/blog/2024-10-07--04.png":Mm,"../assets/blog/2024-10-07--05.png":Lm,"../assets/blog/2024-10-07--06.png":zm,"../assets/blog/2024-10-07--07.png":Rm,"../assets/blog/2024-10-07--08.png":Im,"../assets/blog/2024-10-07--09.png":Pm,"../assets/blog/2024-10-07--10.png":Bm,"../assets/blog/2024-10-07--11.png":Nm,"../assets/blog/2024-10-07--12.png":Um,"../assets/blog/2024-10-07--13.png":jm,"../assets/blog/2024-10-07--14.png":Fm,"../assets/blog/2024-10-07--15.png":Hm,"../assets/blog/2024-10-07--16.png":qm,"../assets/blog/2024-10-07--17.png":Vm,"../assets/blog/2024-10-07--18.png":Gm,"../assets/blog/2024-10-07--19.png":Ym,"../assets/blog/2024-10-07--20.png":Qm,"../assets/blog/2024-10-07--21.png":Xm,"../assets/blog/2024-10-07--22.png":Wm,"../assets/blog/2024-10-07--23.png":Zm,"../assets/blog/2024-10-07--24.png":Km,"../assets/blog/2024-10-07--25.png":Jm,"../assets/blog/2024-10-07--26.png":$m,"../assets/blog/2024-10-07--27.png":e1,"../assets/blog/2024-10-07--28.png":t1,"../assets/blog/2024-10-07--29.png":n1,"../assets/blog/2024-10-07--30.png":r1,"../assets/blog/2024-10-07--31.png":a1,"../assets/blog/2024-10-07--32.png":s1,"../assets/blog/2024-10-07--33.png":o1,"../assets/blog/2024-10-07--34.png":i1,"../assets/blog/2024-10-07--35.png":l1,"../assets/blog/2024-10-07--36.png":u1,"../assets/blog/Date_times_to_convert.xlsx":c1,"../assets/blog/Time_zone_offsets_and_DST_observations.xlsx":d1})[`../assets/blog/${h.photo.split("/").pop().trim()}`],import.meta.url).href;return D.jsx(Lr,{to:"/blog/"+h.name,children:D.jsxs(xs,{children:[D.jsx("h4",{children:h.title}),D.jsx("h5",{children:h.date}),D.jsx("img",{src:y,loading:"lazy",alt:h.title}),D.jsx("p",{children:f})]})},h.name)})})]})}function b6(){return D.jsxs(D.Fragment,{children:[D.jsx("center",{children:D.jsx("h1",{children:"BLOG"})}),D.jsx(m6,{posts:Rd})]})}function y6(){const{name:n}=Ho(),a=Rd.find(g=>g.name===n);if(!a)throw new Error("Post not found");const{title:s,date:i,content:l}=a,c=g=>{try{if(g.startsWith("http"))return g;const f=g.split("/").pop().trim(),m=g.includes("/blog/")||g.startsWith("blog/"),y=g.includes("/portfolio/")||g.startsWith("portfolio/");let v=m?"blog":y?"portfolio":"";return v?new URL(Object.assign({"../assets/blog/2021-09-26--00.png":nh,"../assets/blog/2021-09-26--01.png":rh,"../assets/blog/2021-09-26--02.png":ah,"../assets/blog/2021-09-26--03.png":sh,"../assets/blog/2021-09-26--04.png":oh,"../assets/blog/2021-09-26--05.png":ih,"../assets/blog/2021-09-26--06.png":lh,"../assets/blog/2021-09-26--07.png":uh,"../assets/blog/2021-09-26--08.png":ch,"../assets/blog/2021-09-26--09.png":dh,"../assets/blog/2021-09-26--10.png":hh,"../assets/blog/2021-09-26--11.png":ph,"../assets/blog/2021-09-26--12.png":fh,"../assets/blog/2021-09-26--13.png":gh,"../assets/blog/2021-09-26--14.png":mh,"../assets/blog/2021-09-26--15.png":bh,"../assets/blog/2021-09-26--16.png":yh,"../assets/blog/2021-10-03--00.png":vh,"../assets/blog/2021-10-03--01.png":wh,"../assets/blog/2021-10-03--02.png":_h,"../assets/blog/2021-10-03--03.png":xh,"../assets/blog/2021-10-03--04.png":Sh,"../assets/blog/2021-10-03--05.png":kh,"../assets/blog/2021-10-03--06.png":Th,"../assets/blog/2021-10-03--07.png":Dh,"../assets/blog/2021-10-03--08.png":Ch,"../assets/blog/2021-10-03--09.png":Ah,"../assets/blog/2021-10-03--10.png":Eh,"../assets/blog/2021-10-03--11.png":Oh,"../assets/blog/2021-10-03--12.png":Mh,"../assets/blog/2021-10-03--13.png":Lh,"../assets/blog/2021-10-03--14.png":zh,"../assets/blog/2021-10-03--15.png":Rh,"../assets/blog/2021-10-03--16.png":Ih,"../assets/blog/2021-10-03--17.png":Ph,"../assets/blog/2021-10-03--18.png":Bh,"../assets/blog/2021-10-03--19.png":Nh,"../assets/blog/2021-10-03--20.png":Uh,"../assets/blog/2021-10-03--21.png":jh,"../assets/blog/2021-10-03--22.png":Fh,"../assets/blog/2021-10-03--23.png":Hh,"../assets/blog/2021-10-03--24.png":qh,"../assets/blog/2021-10-03--25.png":Vh,"../assets/blog/2021-10-03--26.png":Gh,"../assets/blog/2021-10-03--27.png":Yh,"../assets/blog/2021-10-03--28.png":Qh,"../assets/blog/2021-10-03--29.png":Xh,"../assets/blog/2021-10-10--00.png":Wh,"../assets/blog/2021-10-10--01.png":Zh,"../assets/blog/2021-10-10--02.png":Kh,"../assets/blog/2021-10-10--03.png":Jh,"../assets/blog/2021-10-10--04.png":$h,"../assets/blog/2021-10-10--05.png":ep,"../assets/blog/2021-10-10--06.png":tp,"../assets/blog/2021-10-10--07.png":np,"../assets/blog/2021-10-10--08.png":rp,"../assets/blog/2021-10-10--09.png":ap,"../assets/blog/2021-10-10--10.png":sp,"../assets/blog/2021-10-10--11.png":op,"../assets/blog/2021-10-10--12.png":ip,"../assets/blog/2021-10-10--13.png":lp,"../assets/blog/2021-10-10--14.png":up,"../assets/blog/2021-10-10--15.png":cp,"../assets/blog/2021-10-10--16.png":dp,"../assets/blog/2021-10-10--17.png":hp,"../assets/blog/2021-10-10--18.png":pp,"../assets/blog/2021-10-10--19.png":fp,"../assets/blog/2021-10-10--20.png":gp,"../assets/blog/2021-10-10--21.png":mp,"../assets/blog/2021-10-10--22.png":bp,"../assets/blog/2021-10-10--22a.png":yp,"../assets/blog/2021-10-10--23.png":vp,"../assets/blog/2021-10-10--23a.png":wp,"../assets/blog/2021-10-10--24.png":_p,"../assets/blog/2021-10-10--24a.png":xp,"../assets/blog/2021-10-17--00.png":Sp,"../assets/blog/2021-10-17--01.png":kp,"../assets/blog/2021-10-17--02.png":Tp,"../assets/blog/2021-10-17--03.png":Dp,"../assets/blog/2021-10-17--04.png":Cp,"../assets/blog/2021-10-17--05.png":Ap,"../assets/blog/2021-10-17--06.png":Ep,"../assets/blog/2021-10-17--07.png":Op,"../assets/blog/2021-10-17--08.png":Mp,"../assets/blog/2021-10-24--00.png":Lp,"../assets/blog/2021-10-24--01.png":zp,"../assets/blog/2021-10-24--02.png":Rp,"../assets/blog/2021-10-24--03.png":Ip,"../assets/blog/2021-10-24--04.png":Pp,"../assets/blog/2021-10-24--05.png":Bp,"../assets/blog/2021-10-24--06.png":Np,"../assets/blog/2021-10-24--07.png":Up,"../assets/blog/2021-10-24--08.png":jp,"../assets/blog/2021-10-24--09.png":Fp,"../assets/blog/2021-10-24--10.png":Hp,"../assets/blog/2021-10-24--11.png":qp,"../assets/blog/2021-10-24--12.png":Vp,"../assets/blog/2021-10-24--13.png":Gp,"../assets/blog/2021-10-24--14.png":Yp,"../assets/blog/2021-10-24--15.png":Qp,"../assets/blog/2021-10-24--16.png":Xp,"../assets/blog/2021-10-24--17.png":Wp,"../assets/blog/2021-10-31--00.png":Zp,"../assets/blog/2021-10-31--01.png":Kp,"../assets/blog/2021-10-31--02.png":Jp,"../assets/blog/2021-10-31--03.png":$p,"../assets/blog/2021-10-31--04.png":ef,"../assets/blog/2021-12-18--00.png":tf,"../assets/blog/2021-12-18--01.png":nf,"../assets/blog/2021-12-18--02.png":rf,"../assets/blog/2021-12-18--03.png":af,"../assets/blog/2021-12-18--04.png":sf,"../assets/blog/2021-12-18--05.png":of,"../assets/blog/2021-12-18--06.png":lf,"../assets/blog/2021-12-18--07.png":uf,"../assets/blog/2021-12-18--08.png":cf,"../assets/blog/2021-12-18--08a.png":df,"../assets/blog/2021-12-18--09.png":hf,"../assets/blog/2021-12-18--10.png":pf,"../assets/blog/2022-01-12--00.png":ff,"../assets/blog/2022-01-12--01.png":gf,"../assets/blog/2022-01-12--01a.png":mf,"../assets/blog/2022-01-12--02.png":bf,"../assets/blog/2022-01-12--03.png":yf,"../assets/blog/2022-01-12--04.png":vf,"../assets/blog/2022-01-12--05.png":wf,"../assets/blog/2022-01-12--06.png":_f,"../assets/blog/2022-01-12--07.png":xf,"../assets/blog/2022-01-12--08.png":Sf,"../assets/blog/2022-01-12--09.png":kf,"../assets/blog/2022-01-12--10.png":Tf,"../assets/blog/2022-02-27--00.png":Df,"../assets/blog/2022-02-27--01.png":Cf,"../assets/blog/2022-02-27--02.png":Af,"../assets/blog/2022-02-27--03.png":Ef,"../assets/blog/2022-02-27--04.png":Of,"../assets/blog/2022-02-27--05.png":Mf,"../assets/blog/2022-02-27--06.png":Lf,"../assets/blog/2022-02-27--07.png":zf,"../assets/blog/2022-02-27--08.png":Rf,"../assets/blog/2022-04-17--00.png":If,"../assets/blog/2022-04-17--01.png":Pf,"../assets/blog/2022-04-17--02.png":Bf,"../assets/blog/2022-04-17--03.png":Nf,"../assets/blog/2022-04-17--04.png":Uf,"../assets/blog/2022-04-17--05.png":jf,"../assets/blog/2022-04-17--06.png":Ff,"../assets/blog/2022-04-17--07.png":Hf,"../assets/blog/2022-04-17--08.png":qf,"../assets/blog/2022-04-17--09.png":Vf,"../assets/blog/2022-04-17--10.png":Gf,"../assets/blog/2022-04-17--11.png":Yf,"../assets/blog/2022-04-17--12.png":Qf,"../assets/blog/2022-04-17--13.png":Xf,"../assets/blog/2022-04-17--14.png":Wf,"../assets/blog/2022-04-17--15.png":Zf,"../assets/blog/2022-04-17--16.png":Kf,"../assets/blog/2022-04-17--17.png":Jf,"../assets/blog/2022-04-17--18.png":$f,"../assets/blog/2022-04-17--19.png":eg,"../assets/blog/2022-04-17--20.png":tg,"../assets/blog/2022-04-17--21.png":ng,"../assets/blog/2022-04-17--22.png":rg,"../assets/blog/2022-04-17--23.png":ag,"../assets/blog/2022-04-17--24.png":sg,"../assets/blog/2022-04-17--25.png":og,"../assets/blog/2022-04-17--26.png":ig,"../assets/blog/2022-04-17--27.png":lg,"../assets/blog/2022-04-17--28.png":ug,"../assets/blog/2022-04-27--00.png":cg,"../assets/blog/2022-04-27--01.png":dg,"../assets/blog/2022-04-27--02.png":hg,"../assets/blog/2022-04-27--03.png":pg,"../assets/blog/2022-04-27--04.png":fg,"../assets/blog/2022-04-27--05.png":gg,"../assets/blog/2022-04-27--06.png":mg,"../assets/blog/2022-04-27--07.png":bg,"../assets/blog/2022-04-27--08.png":yg,"../assets/blog/2022-04-27--09.png":vg,"../assets/blog/2022-04-27--10.png":wg,"../assets/blog/2022-06-22--00.png":_g,"../assets/blog/2022-06-22--01.png":xg,"../assets/blog/2022-06-22--01a.png":Sg,"../assets/blog/2022-06-22--02.png":kg,"../assets/blog/2022-06-22--03.png":Tg,"../assets/blog/2022-06-22--04.png":Dg,"../assets/blog/2022-06-22--05.png":Cg,"../assets/blog/2022-06-22--06.png":Ag,"../assets/blog/2022-07-31--00.png":Eg,"../assets/blog/2022-07-31--01.png":Og,"../assets/blog/2022-07-31--02.png":Mg,"../assets/blog/2022-07-31--03.png":Lg,"../assets/blog/2022-07-31--04.png":zg,"../assets/blog/2022-08-27--00.png":Rg,"../assets/blog/2022-08-27--01.png":Ig,"../assets/blog/2022-08-27--01a.png":Pg,"../assets/blog/2022-08-27--02.png":Bg,"../assets/blog/2022-08-27--03.png":Ng,"../assets/blog/2022-08-27--04.png":Ug,"../assets/blog/2022-08-27--05.png":jg,"../assets/blog/2022-08-27--06.png":Fg,"../assets/blog/2022-08-27--07.png":Hg,"../assets/blog/2022-08-27--08.png":qg,"../assets/blog/2022-08-27--09.png":Vg,"../assets/blog/2022-08-27--10.png":Gg,"../assets/blog/2022-08-27--11.png":Yg,"../assets/blog/2022-08-27--12.png":Qg,"../assets/blog/2022-08-27--13.png":Xg,"../assets/blog/2022-08-27--14.png":Wg,"../assets/blog/2022-08-27--15.png":Zg,"../assets/blog/2022-08-27--16.png":Kg,"../assets/blog/2022-08-27--17.png":Jg,"../assets/blog/2022-08-27--18.png":$g,"../assets/blog/2022-09-19--00.png":e0,"../assets/blog/2022-09-19--01.png":t0,"../assets/blog/2022-09-19--02.png":n0,"../assets/blog/2022-09-19--03.png":r0,"../assets/blog/2022-09-19--04.png":a0,"../assets/blog/2022-09-19--05.png":s0,"../assets/blog/2022-09-19--06.png":o0,"../assets/blog/2022-09-19--07.png":i0,"../assets/blog/2022-09-19--08.png":l0,"../assets/blog/2022-09-19--09.png":u0,"../assets/blog/2022-09-19--10.png":c0,"../assets/blog/2022-09-19--11.png":d0,"../assets/blog/2022-09-19--12.png":h0,"../assets/blog/2022-09-19--13.png":p0,"../assets/blog/2022-09-19--14.png":f0,"../assets/blog/2022-09-19--15.png":g0,"../assets/blog/2022-09-19--16.png":m0,"../assets/blog/2022-10-29--00.png":b0,"../assets/blog/2022-10-29--01.png":y0,"../assets/blog/2022-10-29--02.png":v0,"../assets/blog/2022-10-29--03.png":w0,"../assets/blog/2022-10-29--04.png":_0,"../assets/blog/2022-10-29--05.png":x0,"../assets/blog/2022-10-29--06.png":S0,"../assets/blog/2022-10-29--07.png":k0,"../assets/blog/2022-10-29--08.png":T0,"../assets/blog/2022-10-29--09.png":D0,"../assets/blog/2022-10-29--10.png":C0,"../assets/blog/2022-10-29--11.png":A0,"../assets/blog/2022-10-29--12.png":E0,"../assets/blog/2022-10-29--13.png":O0,"../assets/blog/2022-10-29--14.png":M0,"../assets/blog/2022-10-29--15.png":L0,"../assets/blog/2022-10-29--16.png":z0,"../assets/blog/2022-10-29--17.png":R0,"../assets/blog/2022-10-29--18.png":I0,"../assets/blog/2022-10-29--19.png":P0,"../assets/blog/2022-10-29--20.png":B0,"../assets/blog/2022-10-29--21.png":N0,"../assets/blog/2022-10-29--22.png":U0,"../assets/blog/2022-10-29--23.png":j0,"../assets/blog/2022-10-29--24.png":F0,"../assets/blog/2022-10-29--25.png":H0,"../assets/blog/2022-10-29--26.png":q0,"../assets/blog/2022-10-29--27.png":V0,"../assets/blog/2022-10-29--28.png":G0,"../assets/blog/2022-10-29--29.png":Y0,"../assets/blog/2022-10-29--30.png":Q0,"../assets/blog/2022-10-29--31.png":X0,"../assets/blog/2022-10-29--32.png":W0,"../assets/blog/2022-10-29--33.png":Z0,"../assets/blog/2022-11-26--00.png":K0,"../assets/blog/2022-11-26--01.png":J0,"../assets/blog/2022-11-26--02.png":$0,"../assets/blog/2022-11-26--03.png":e2,"../assets/blog/2022-11-26--04.png":t2,"../assets/blog/2022-11-26--05.png":n2,"../assets/blog/2022-11-26--06.png":r2,"../assets/blog/2022-11-26--07.png":a2,"../assets/blog/2022-11-26--08.png":s2,"../assets/blog/2022-11-26--09.png":o2,"../assets/blog/2022-11-26--10.png":i2,"../assets/blog/2022-11-26--11.png":l2,"../assets/blog/2022-11-26--12.png":u2,"../assets/blog/2022-11-26--13.png":c2,"../assets/blog/2022-11-26--14.png":d2,"../assets/blog/2022-11-26--15.png":h2,"../assets/blog/2022-11-26--16.png":p2,"../assets/blog/2022-11-26--17.png":f2,"../assets/blog/2022-11-26--18.png":g2,"../assets/blog/2022-11-26--19.png":m2,"../assets/blog/2022-11-26--20.png":b2,"../assets/blog/2022-11-26--21.png":y2,"../assets/blog/2022-11-26--22.png":v2,"../assets/blog/2022-11-26--23.png":w2,"../assets/blog/2022-11-26--24.png":_2,"../assets/blog/2022-11-26--25.png":x2,"../assets/blog/2022-11-26--26.png":S2,"../assets/blog/2022-11-26--27.png":k2,"../assets/blog/2022-11-26--28.png":T2,"../assets/blog/2022-11-26--29.png":D2,"../assets/blog/2022-11-26--30.png":C2,"../assets/blog/2023-03-11--00.png":A2,"../assets/blog/2023-03-11--01.png":E2,"../assets/blog/2023-03-11--02.png":O2,"../assets/blog/2023-03-11--03.png":M2,"../assets/blog/2023-03-11--04.png":L2,"../assets/blog/2023-03-11--05.png":z2,"../assets/blog/2023-03-11--06.png":R2,"../assets/blog/2023-03-11--07.png":I2,"../assets/blog/2023-03-11--08.png":P2,"../assets/blog/2023-03-11--09.png":B2,"../assets/blog/2023-03-11--10.png":N2,"../assets/blog/2023-03-11--11.png":U2,"../assets/blog/2023-03-11--12.png":j2,"../assets/blog/2023-03-11--13.png":F2,"../assets/blog/2023-03-11--14.png":H2,"../assets/blog/2023-03-11--15.png":q2,"../assets/blog/2023-03-11--16.png":V2,"../assets/blog/2023-03-11--17.png":G2,"../assets/blog/2023-03-11--18.png":Y2,"../assets/blog/2023-03-11--19.png":Q2,"../assets/blog/2023-03-11--20.png":X2,"../assets/blog/2023-03-11--21.png":W2,"../assets/blog/2023-10-07--00.png":Z2,"../assets/blog/2023-10-07--01.png":K2,"../assets/blog/2023-10-07--02.png":J2,"../assets/blog/2023-10-07--03.png":$2,"../assets/blog/2023-10-07--04.png":em,"../assets/blog/2023-10-07--05.png":tm,"../assets/blog/2023-10-07--06.png":nm,"../assets/blog/2023-10-07--07.png":rm,"../assets/blog/2023-10-07--08.png":am,"../assets/blog/2023-10-07--09.png":sm,"../assets/blog/2023-10-07--10.png":om,"../assets/blog/2023-10-07--11.png":im,"../assets/blog/2023-10-07--12.png":lm,"../assets/blog/2023-10-07--13.png":um,"../assets/blog/2023-10-07--14.png":cm,"../assets/blog/2023-10-07--15.png":dm,"../assets/blog/2023-10-07--16.png":hm,"../assets/blog/2024-03-28--00.png":pm,"../assets/blog/2024-03-28--01.png":fm,"../assets/blog/2024-03-28--02.png":gm,"../assets/blog/2024-03-28--03.png":mm,"../assets/blog/2024-03-28--04.png":bm,"../assets/blog/2024-03-28--05.png":ym,"../assets/blog/2024-03-28--06.png":vm,"../assets/blog/2024-03-28--07.png":wm,"../assets/blog/2024-03-28--08.png":_m,"../assets/blog/2024-03-28--09.png":xm,"../assets/blog/2024-03-28--10.png":Sm,"../assets/blog/2024-03-28--11.png":km,"../assets/blog/2024-03-28--12.png":Tm,"../assets/blog/2024-03-28--13.png":Dm,"../assets/blog/2024-10-07--00.png":Cm,"../assets/blog/2024-10-07--01.png":Am,"../assets/blog/2024-10-07--02.png":Em,"../assets/blog/2024-10-07--03.png":Om,"../assets/blog/2024-10-07--04.png":Mm,"../assets/blog/2024-10-07--05.png":Lm,"../assets/blog/2024-10-07--06.png":zm,"../assets/blog/2024-10-07--07.png":Rm,"../assets/blog/2024-10-07--08.png":Im,"../assets/blog/2024-10-07--09.png":Pm,"../assets/blog/2024-10-07--10.png":Bm,"../assets/blog/2024-10-07--11.png":Nm,"../assets/blog/2024-10-07--12.png":Um,"../assets/blog/2024-10-07--13.png":jm,"../assets/blog/2024-10-07--14.png":Fm,"../assets/blog/2024-10-07--15.png":Hm,"../assets/blog/2024-10-07--16.png":qm,"../assets/blog/2024-10-07--17.png":Vm,"../assets/blog/2024-10-07--18.png":Gm,"../assets/blog/2024-10-07--19.png":Ym,"../assets/blog/2024-10-07--20.png":Qm,"../assets/blog/2024-10-07--21.png":Xm,"../assets/blog/2024-10-07--22.png":Wm,"../assets/blog/2024-10-07--23.png":Zm,"../assets/blog/2024-10-07--24.png":Km,"../assets/blog/2024-10-07--25.png":Jm,"../assets/blog/2024-10-07--26.png":$m,"../assets/blog/2024-10-07--27.png":e1,"../assets/blog/2024-10-07--28.png":t1,"../assets/blog/2024-10-07--29.png":n1,"../assets/blog/2024-10-07--30.png":r1,"../assets/blog/2024-10-07--31.png":a1,"../assets/blog/2024-10-07--32.png":s1,"../assets/blog/2024-10-07--33.png":o1,"../assets/blog/2024-10-07--34.png":i1,"../assets/blog/2024-10-07--35.png":l1,"../assets/blog/2024-10-07--36.png":u1,"../assets/blog/Date_times_to_convert.xlsx":c1,"../assets/blog/Time_zone_offsets_and_DST_observations.xlsx":d1,"../assets/portfolio/img-2021-10-power-bi-quarterly-singapore-rental-prices-by-currency-original.png":Id,"../assets/portfolio/img-2021-10-power-bi-quarterly-singapore-rental-prices-by-currency.gif":Pd,"../assets/portfolio/img-2021-10-power-bi-quarterly-singapore-rental-prices-by-currency.png":Bd,"../assets/portfolio/img-2021-11-power-bi-follow-the-sun-customer-support-original-trimmed.png":Nd,"../assets/portfolio/img-2021-11-power-bi-follow-the-sun-customer-support-original.png":Ud,"../assets/portfolio/img-2021-11-power-bi-follow-the-sun-customer-support-previous.png":jd,"../assets/portfolio/img-2021-11-power-bi-follow-the-sun-customer-support.gif":Fd,"../assets/portfolio/img-2021-11-power-bi-follow-the-sun-customer-support.png":Hd,"../assets/portfolio/img-2022-01-sql-server-integration-services-international-marketplace-trimmed.png":qd,"../assets/portfolio/img-2022-01-sql-server-integration-services-international-marketplace.png":Vd,"../assets/portfolio/img-2022-04-power-bi-international-marketplace-python-deneb-original.png":Gd,"../assets/portfolio/img-2022-04-power-bi-international-marketplace-python-deneb-previous.png":Yd,"../assets/portfolio/img-2022-04-power-bi-international-marketplace-python-deneb.gif":Qd,"../assets/portfolio/img-2022-04-power-bi-international-marketplace-python-deneb.png":Xd,"../assets/portfolio/img-2022-06-excel-customer-support-agent-performance-original.png":Wd,"../assets/portfolio/img-2022-06-excel-customer-support-agent-performance.gif":Zd,"../assets/portfolio/img-2022-06-excel-customer-support-agent-performance.png":Kd,"../assets/portfolio/img-2022-08-satellite-launch-overview.gif":Jd,"../assets/portfolio/img-2022-10-excel-international-marketplace-profit-forecast-original.png":$d,"../assets/portfolio/img-2022-10-excel-international-marketplace-profit-forecast.gif":eh,"../assets/portfolio/img-2022-11-power-bi-appsource-deneb-maps.gif":th,"../assets/readings/12-rules-for-life-by-jordan-b-peterson.png":_l,"../assets/readings/elon-musk-by-walter-isaacson.png":xl,"../assets/readings/mastery-by-robert-greene.png":Sl,"../assets/readings/the-concise-33-strategies-of-war-by-robert-greene.png":kl})[`../assets/${v}/${f}`],import.meta.url).href:""}catch(f){return console.error(`Error loading image: ${g}`,f),""}},h=(g=>g.replace(/!\[([^\]]*)\]\(([^)]+)\)/g,(f,m,y)=>{try{const v=c(y);return`![${m}](${v})`}catch(v){return console.error(`Image not found: ${y}`,v),`![${m}](#)`}}))(l);return D.jsxs("content",{children:[D.jsx("h1",{children:s||"This post does not have a title"}),D.jsx("h3",{children:i||"This post does not have a date"}),D.jsx(D1,{children:h||"This post does not have content"})]})}function v6({readings:n}){const[a,s]=R.useState(null);if(!n)return D.jsx("div",{children:"No readings available"});const i=n.flatMap(h=>JSON.parse(h.tags)),l=[...new Set(i)].sort(),c=a?n.filter(h=>JSON.parse(h.tags).includes(a)):n,d={color:"var(--button-font-color-hover)",border:"1px solid var(--button-font-color-hover)"};return D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"filter",children:[D.jsx("button",{onClick:()=>s(null),style:a===null?d:{},children:"ALL BOOKS"}),l.map(h=>D.jsx("button",{onClick:()=>s(h),style:a===h?d:{},children:h},h))]}),D.jsx("div",{id:"readings-list",children:c.map(h=>{const f=h.photo.startsWith("http")?h.photo:new URL(Object.assign({"../assets/readings/12-rules-for-life-by-jordan-b-peterson.png":_l,"../assets/readings/elon-musk-by-walter-isaacson.png":xl,"../assets/readings/mastery-by-robert-greene.png":Sl,"../assets/readings/the-concise-33-strategies-of-war-by-robert-greene.png":kl})[`../assets/readings/${h.photo.split("/").pop().trim()}`],import.meta.url).href;return D.jsx(Lr,{to:"/readings/"+h.name,children:D.jsxs(xs,{children:[D.jsxs("h4",{children:[h.title," by ",h.author]}),D.jsx("h5",{children:h.date}),D.jsx("img",{src:f,loading:"lazy",alt:h.title}),D.jsx("p",{children:h.desc})]})},h.name)})})]})}const nx=JSON.parse(`[{"id":1753884000,"title":"The Concise 33 Strategies of War\\r","name":"the-concise-33-strategies-of-war","author":"Robert Greene\\r","publisher":"Profie Books\\r","publisherURL":"https://profilebooks.com/work/the-concise-33-strategies-of-war\\r","photo":"../assets/readings/the-concise-33-strategies-of-war-by-robert-greene.png\\r","category":"personal development\\r","date":"31 July 2025\\r","desc":"A summary of practical war strategies the author has derived from historical, military, and philsophical lessons with frequent quotations from important figures.\\r","tags":"[\\"Personal development\\", \\"Strategy\\", \\"Military\\"]\\r","content":"![The Concise 33 Strategies of War by Robert Greene](/src/assets/readings/the-concise-33-strategies-of-war-by-robert-greene.png)\\r\\n\\r\\n\\r\\nThis book succinctly outlines 33 strategies of war derived from global military history and organised into five warfare approaches, progressing from areas of greatest control, namely yourself, to your team, and finally towards the enemy.\\r\\n\\r\\n## 1. Self-directed\\r\\n\\r\\nSet as the first warfare approach because everything begins from within. You must clearly define your enemies are and force yourself into conflicts without losing your cool. The purpose of this is to cultivate an adaptable mindset that fights with everything you have and prevents you from falling into predictable strategic patterns (p.6-7, 10-13, 15-17, 21-24).\\r\\n\\r\\n## 2. Team\\r\\n\\r\\nNext is to establish the team around you. The author discusses weeding out internal team weaknesses, including self-interested political people, the illogical groupthink from shared leadership, and those who go against the team's morale (p.40-44). This can be accomplished by keeping a tight hold of your command whilst remaining visibly fair (p.29-32). As your team gets larger, you can segregate it into smaller teams with each given an overall goal and the freedom of means to achieve it, but without losing discipline (p.36-37).\\r\\n\\r\\n## 3. Defensive\\r\\n\\r\\nThis warfare is about strategies to avoid being attacked, or if you are forced to engage, then to do so economically such that you expend yourself only up to where your blows on the enemy count without wearing yourself out (p.51-52). This is often achieved through deceptive or propaganda tactics to deter attacks, such as intimidating the enemy with your reputation for unpredictability and irrationality (p.62-65). This warfare is also a way to control the flow of battle, such as coaxing your enemy's unmanageable emotions so they attack first and limit their next move, or by willing to sacrifice territory to buy yourself time (p.58, 68-69).\\r\\n\\r\\n## 4. Offensive\\r\\n\\r\\nDefine your ultimate goal and take subtle steps towards it so your enemy cannot read and subvert your intent (p.78). Be prudent and unemotional by widening your perspectives to include those of your enemy's (p.73, 78). You'll develop the ability to see the everyday hints of other people's subconscious intents, thereby gathering more information on your changing enemy (p.83-85). Use that information to strike their weak points, which will in turn builds your army's morale and momentum (p.88-89).\\r\\n\\r\\nThis constant search for strategies to exploit enemy weaknesses makes this fourth form of warfare about subtly diverting your enemy toward your desired direction without them realising, using strategies like baiting them into traps, forcing them on the defense, and fighting them on your terms (p.94-95). Other strategies include:\\r\\n\\r\\n* Identifying your enemy's crutches based on the principle that every strength is its own weakness, and find ways to remove those crutches (p.98-99). \\r\\n* Using divide-and-conquer effectively by separating leaders from their people (p.103).\\r\\n* Coaxing your enemy into revealing their flanks, then striking said flank (p.106-107).\\r\\n* Enveloping your enemy without revealing your true form so that your attacks seem too formless or \\"vaporous\\" to retaliate against (p.111).\\r\\n* Flexibly plan multiple potential branch paths for effective manoeuvre warfare (p.116).\\r\\n* Negotiate with unrelenting pressure, convincing the enemy that it's in their interest and they have no choice but to engage (p.120).\\r\\n\\r\\nLastly, the author emphasises the importance of how you end a war, noting that, win or lose, you must avoid worsening its conclusion, as it shapes your position for future conflicts (p.128).\\r\\n\\r\\n\\r\\n## 5. Unconventional\\r\\n\\r\\nUnconventional warfare demands abandoning moral purity, adopting a cunning perspective to avoid defeat (p.132). Here are some of the strategies the author discusses:\\r\\n\\r\\n* Every form of conventional warfare mentioned so far has involved deception, but unconventional warfare explicitly involves deceiving your enemy's perception with camouflage and decoys (p.135-136).\\r\\n* Maintain a constant cycle of conventional and unconventional warfare, being fully aware that the unconventional inevitably becomes conventional (p.142-143).\\r\\n* Using guerilla warfare to cause maximum disorder over time, leveraging your enemy's easy-to-anger disposition by being a non-central target that's difficult for them to find and engage (p.156-157). This strategy relies on psychological attrition through elusive, non-conventional engagement, but you must be cautious if your enemy employs a scorched-earth counterinsurgency policy.\\r\\n* Build your alliances based on need rather than on loyalty or shared values, which also necessitates building a reputation for being a beneficial ally (p.161-162).\\r\\n* Lastly, the book discusses using sporadic acts of terror to sow constant fear in an enemy, and countermeasures against it (p.189-194).\\r\\n\\r\\nUnconventional warfare is inescapable, as you must always contend with both external and internal enemies. The author exemplifies the latter in work colleagues who seek to undermine you, as your war against them needs daily unconventional methodology such as only lightly opening your enemy's psychological wounds enough that they self-destruct whilst you keep your hands clean. This is what the author poetically describes as letting your enemies fall on their own swords, rather than yours (p.166-168).\\r\\n\\r\\nWriting a summary of a book that is already an excellent summary in and of itself felt strange, but I wanted to try.\\r\\n\\r\\nThis book has no anecdotal stories, which makes sense as it serves as a handy portable guide, though there are brief side quotations from historic figures scattered throughout. I want to keep this book for that practicality, but I'll probably additionally buy the full version as I want to see where the author derived his strategies and lessons from.\\r\\n\\r\\nI was able to connect several lessons to my own experiences.\\r\\n\\r\\nFor example, the \\"Negotiate while advancing\\" chapter reminded me of my first year in university. In one class students participated in a negotiation activity pitting them in teams against each other to achieve prescribed goals. The students unknowingly adopted one of two negotiator types cited by the author from Harold Nicolson: warrior or shopkeeper, with negotiations often failing when one side mistakenly adopted the shopkeeper stance. I only really learned where that lesson was trying to go in retrospect through this book, which is you must be willing to become a warrior even if you are a shopkeeper at heart, and also be willing to inflict bad publicity against your counterpart (p.121-122).\\r\\n\\r\\nAnother of the author's lessons was one I discovered at work, which is that when communicating with others, try to get them to arrive at the conclusion as an achievement experience with you leading them, rather than you just telling them the answer and leaving them with a sense of inferiority (p.176). My work involved a lot of troubleshooting so I had to guide new and occasionally less systematic employees in developing their ability to question their own underlying assumptions and thoroughly investigate towards problem resolutions. I found that the more engaged they were with that process, the more they internalised it.\\r\\n\\r\\nThe book’s core lesson is that war is judged almost entirely by its outcome (p.178), and it outlines historically effective strategies to achieve those results. Whether it is deceiving an enemy or even a trusted ally, war and life in general involves using people to advance ourselves and there is no need to feel guilty about this human necessity (p.160).\\r\\n\\r\\nWith the seriousness out of the way, I couldn't help but be amused at one analogy on how to be a formless enemy like the mosquito, which \\"...give you nothing but an irritating whir in the ear, from all sides and angles... and you realize that the only solution is to stop fighting and move as far away as possible\\" (p.158). I recently encountered one, and realised there are many solutions. One that worked for me was to expose only one part of my skin to lure the mosquito in, then I used a water spray to incapacitate its wings and watched it fall helplessly to the ground where it then met my boot. The irony wasn't lost on me that I used the author's lesson on using an enemy's strength against them.\\r\\n\\r\\n\\r\\n\\r\\n### Reference\\r\\n\\r\\n* **[The Concise 33 Strategies of War by Robert Greene (2023)](https://profilebooks.com/work/the-concise-33-strategies-of-war)**\\r\\n\\r\\n\\r\\n\\r\\nClick **[here](https://github.com/makuharistudio/makuharistudio.github.io/blob/main/src/markdown/readings/2025-07-31.md)** for this reading page's markdown file in GitHub."},{"id":1749996000,"title":"Mastery\\r","name":"mastery","author":"Robert Greene\\r","publisher":"Profie Books\\r","publisherURL":"https://profilebooks.com/work/mastery\\r","photo":"../assets/readings/mastery-by-robert-greene.png\\r","category":"personal development\\r","date":"16 June 2025\\r","desc":"An exploration into how to determine your Life's Task and strategies to accomplishing it with anecdotes of the journeys of key historical masters.\\r","tags":"[\\"Personal development\\", \\"Business\\"]\\r","content":"![Mastery by Robert Greene](/src/assets/readings/mastery-by-robert-greene.png)\\r\\n\\r\\n\\r\\nThis book covers the author's strategies on finding your Life's Task and navigating the phases to achieve mastery for that task.\\r\\n\\r\\nIt was not until sometime into writing this post that I found the \\"Concise\\" versions of the author's books which render the summarising part of my effort essentially moot, but I continued to finish this post. I realised this when I was buying my next book, \\"The Concise 33 Strategies of War\\" and compared it to its non-concise version. Essentially, the author's standard books are what you want to read because they include more anecdotes, whereas the Concise ones are what you need as a portable guide.\\r\\n\\r\\nI highly recommend this book. So much so I feel like it should be mandatory high school reading. Or at least its principles be taught earlier on in life.\\r\\n\\r\\nThe first step is to fight off social conformity and other influences to find your own **\\"Life's Task\\"**, and to do it efficiently by throwing aside the past, false paths, and exhaustive fights over limited resources (p.26-32, 35-40). Extraordinary people are clearly loyal to their calling (p.45-46).\\r\\n\\r\\nThe second step is to get into an **Apprenticeship** phase to learn the basic rules and skills needed to achieve your Life's Task, starting by setting aside your ego to genuinely learn, gaining hands-on experience, and open yourself to criticism so you can improve (p.56-63). The author also emphasises that this phase is accelerated with two things: \\r\\n1. Having a good **mentor** who encourages your separation from them once you've learned all you need and remains a lifelong ally (p.100), and\\r\\n2. Being **socially intelligent** enough to let others live as they are without trying to change them (p.125, 130, 137), and effectively deal with people who have any negative behaviours threatening your pursuits including envy, conformism, rigidity, self-obsessiveness, laziness, emotional flip-flop, and passive aggressiveness (p.141-145).\\r\\n\\r\\nOnce you have a comprehensive understanding of the field, the third step is to experiment in a **Creative-Active** phase by going beyond the disengaged, conventional, and consumerist mindset of adulthood, and develop a child-like creative mindset (p.175-178). You get to this by choosing a **Creative Task** that maximises your skills, dropping your judgmentalism for a holistic perspective, developing strategies to persevere through lulls in enthusiasm, and allowing serendipity to be a part of your creative process (p.179-245).\\r\\n\\r\\nThe fourth step of **Mastery** is characterised by your having a high-level intuition of your field built on your deep immersion, knowledge, experience, emotional stability, and discipline which also lets you create connections with other disciplines and physically change the real world (p.261-269). It also involves developing one's own \\"X factor\\" that forges their path to mastery, which can take the form of primal sensing, leveraging your innate strengths, practicing until your skills are automatic, and investing time into the details (p.269-309).\\r\\n\\r\\nFailing to pursue mastery or deny its existence leads to feelings of powerlessness, disappointment, and enslavement to a false version of yourself which is constructed from other people trying to make you conform to their ideas, including your own self-deception that such mastery is only for geniuses. Do not waste your uniqueness. Find the most fundamental and natural inclinations you have, and express them as you pursue mastery (p.309-310).\\r\\n\\r\\nThis book feels like a sign post for those of us in the 99% of humanity who give up on ourselves, and shows how people who started off at the same or worse baselines than us, were able to craft themselves into masters. The principles and multitude of strategies in it are timeless, and really should be mandatory reading.\\r\\n\\r\\nAs a self-development book, this one felt more goal-orientated compared to the \\"12 Rules for Life\\" by Jordan Peterson which felt more for daily living. Though I prefer this book more for its ease of reading and its mission-based intent.\\r\\n\\r\\nLike most when I was young, I was fed the preconceptions of having to get into university and then get a job, with no questioning of why we had to do things that way. I feel it is more honest to say upfront that life is not a fixed path you have to follow, that opportunities are all around you no matter the age, and you need to seize them. That point is what makes this book work tremendously well.\\r\\n\\r\\nYou only have one life, and all the circumstances leading up to your existence were highly improbable, so use it for the core of who you are, not for what others want you to be.\\r\\n\\r\\nIn terms of anecdotes, my favourites included:\\r\\n\\r\\n* Leonardo da Vinci's study into single piece moulding of a bronze statue which was reminiscent of Elon Musk's idea for Tesla's chassis to be made of a single piece based on a toy car (p.24).\\r\\n\\r\\n* Cesar Rodriguez who trusted the process of training and pushing himself, going from a benched panicked pilot, to becoming nicknamed the \\"Last American Ace\\" fighter pilot (p.77).\\r\\n\\r\\n* William Harvey's approach of thoroughly experimenting his hypothesis before trying to push it onto others:\\r\\n  - He wisely confided his discoveries to the King early on to gain his trust and support.\\r\\n  - Behaved humbly and with self-deprecation\\r\\n  - Played the role of court diplomat and avoided aligning with any faction nor got involved in intrigue (p.150).\\r\\n\\r\\nThe book has a number of other wisdoms, but I'll list only 3 of my favourites below. You can read the book to discover more.\\r\\n\\r\\n1. \\"In the future, the great division will be between ... those who can acquire skills and discipline their minds and those who are irrevocably distracted by all the media around them and can never focus enough to learn\\" (p.64).\\r\\n\\r\\n2. \\"The very desire to find shortcuts makes you eminently unsuited for any kind of mastery\\" (p.90).\\r\\n\\r\\n3. \\"The problem with all students, ...is that they inevitably stop somewhere. They hear an idea and hold on to it until it becomes dead; they want to flatter themselves that they know the truth. But true Zen never stops ... everyone must constantly be pushed to the abyss, starting over and feeling their utter worthlessness... Without suffering and doubts, the mind will come to rest on cliches and stay there, until the spirit dies as well...You must continually start over and challenge yourself\\" (p.115). \\r\\n\\r\\n\\r\\n\\r\\n### Reference\\r\\n\\r\\n* **[Mastery by Robert Greene (2012)](https://profilebooks.com/work/mastery)**\\r\\n\\r\\n\\r\\n\\r\\nClick **[here](https://github.com/makuharistudio/makuharistudio.github.io/blob/main/src/markdown/readings/2025-06-16.md)** for this reading page's markdown file in GitHub."},{"id":1745071200,"title":"Elon Musk\\r","name":"elon-musk","author":"Walter Isaacson\\r","publisher":"Simon & Schuster\\r","publisherURL":"https://www.simonandschuster.com.au/books/Elon-Musk/Walter-Isaacson/9781761427978\\r","photo":"../assets/readings/elon-musk-by-walter-isaacson.png\\r","category":"biography\\r","date":"20 April 2025\\r","desc":"A chronicle of Elon Musk's journey from a difficult childhood to his successive founding of multiple industry-redefining companies up until the early establishing of X.AI in 2023.\\r","tags":"[\\"Biography\\", \\"Technology\\", \\"Business\\"]\\r","content":"![Elon Musk by Walter Isaacson](/src/assets/readings/elon-musk-by-walter-isaacson.png)\\r\\n\\r\\n\\r\\n\\r\\nThis book chronicles the biographee's life from a challenging childhood to the founding of multiple companies that revolutionised key technology industries.\\r\\n\\r\\nThis is the first biography I ever read, and it was difficult because I found the idea of biographies to be uncomfortably intrusive. However, my curiosity to understand how someone who has achieved so much in a single lifetime in multiple highly intellectual fields can possibly exist won me over.\\r\\n\\r\\nBefore reading this book, my initial knowledge on the biographee was very superficial as I had only seen a few interview clips on YouTube. After reading this book, I better appreciate how ridiculously rare he is as an individual, and can see why some conspiracy theorists and Internet meme creators may equate this rarity to him being an extraterrestrial. I am happy to have that superstitious veil lifted and to see the extreme effort and sacrifices needed to create a paragon of human endeavour.\\r\\n\\r\\nThe biographee been through many misfortunes that may otherwise be enough to cause other people to give into darker life paths. So to remain on his path in building the at-scale foundations for a better future despite these tribulations is amazing and proof he's living a full life:\\r\\n\\r\\n- Born into a country where daily fatal violence in public areas is the norm.\\r\\n- Physically bullied to near death as a child.\\r\\n- Impacted by a challenging relationship with a now estranged father since childhood.\\r\\n- Divorced mother who worked multiple jobs to make ends meet.\\r\\n- Unable to make friends until he started university.\\r\\n- Passing away of his first-born infant son.\\r\\n- His political enemies manipulating one of his other children, causing estrangement between them.\\r\\n- Romantic breakup leading to severe depression and impacting work performance.\\r\\n- An ongoing neck injury.\\r\\n- A seemingly chaotic-good alignment that constantly desires being in intense situations.\\r\\n\\r\\nThe problem with reviewing biographies is the misplaced tendency to judge the biographee as a person, rather than the biography as a book.\\r\\n\\r\\nSo, to get straight to it, the book is an engaging mix of dramatic, heartfelt, and humorous anecdotes. Whilst the author occasionally expresses misgivings like describing the biographee's ability to present his vision \\"as a mandate from heaven\\" (p.94), the overall narrative feels balanced because despite tensions, the author remains committed to presenting an honest account, allowing readers to interpret the contradictions for themselves.\\r\\n\\r\\nI've decided to encapsulate some of the business-related lessons from the book in areas like leadership, team dynamics, communication, etc. for ease of personal reference. This book has a multitude of other lessons in morality, integrity, relationships, politics, and more, but those and the anecdotes won't be covered here. Please refer to the book for that information.\\r\\n\\r\\n\\r\\n\\r\\n## PERSONAL MINDSET\\r\\n\\r\\n### Define who you are\\r\\nFind the thing you want to do which will have the most impact because pursuing that may be the best way to spend your life, rather than on something else you may enjoy doing or are good at but has low impact (p.56). Once you've identified that, then identify if you are okay working for other people to pursue it, or if you prefer having people work for you, so you can commit to that preference earlier on in life (p.48).\\r\\n\\r\\n### Learn by risk-taking\\r\\nDo not base your decisions out of fear of something, instead use the risk as your fuel to push yourself forward (p.25, 252). Even when your risk-taking fails, do your best to make every bad situation salvageable (p.116). When your risk-taking succeeds, don't waste the wealth earned from it into short-term pleasures that achieve nothing, invest it back into the game of life and play again (p.67).\\r\\n\\r\\n### Use objective and iterative problem-solving\\r\\nKnow when to step back from your emotions and to reframe a problem (p.99 & 247). Take an iterative approach and learn by failing with the attitude of quickly getting back up to identify each successive problem so you can fix them (p.114). Have the humility to accept being wrong, just don't be confidently wrong (p.286).\\r\\n\\r\\n###\\t\\"Polytopia life lessons\\"\\r\\nPolytopia is a video game that the biographee recommended to his brother on learning how to be a CEO, and these are key lessons from the game (p.426-427)\\r\\n1.\\tEmpathy is a liability in business.\\r\\n2.\\t\\"Play life like a game\\".\\r\\n3.\\tLosing is inevitable and will happen many times. Get used to it so you become fearless and take more risks.\\r\\n4.\\tBe proactive and take charge of setting the strategy.\\r\\n5.\\tOptimise every turn you have in life, and let nothing slide.\\r\\n6.\\tPut everything back into the game to grow.\\r\\n7.\\tPick your battles carefully by using front minimisation tactics.\\r\\n8.\\tUnplug at times by removing distractions.\\r\\n\\r\\n\\r\\n\\r\\n## STRATEGY AND VISION\\r\\n\\r\\n### Define a broad business mission\\r\\nWhen your company mission is important enough, optimism and pessimism are irrelevant. All that matters is taking the steps forward to achieve the mission, then work backward to figure out how to make it work financially (p.177 & 93). Make the mission broad like an innovation company, which is also advantageous in that any future acquisitions or mergers will be less challenged for being in line with the core innovation mission (p.254-257).\\r\\n\\r\\n### Find entrepreneurial opportunities\\r\\nDo not let incumbent industry mindset inhibit you from seeing opportunities in that industry (p.48). For example, figure out the reasons why that industry isn't doing well, and simplify the process for the customer by taking on the legwork to fix those problems (p.252). Be open to other business models to side-fund your main model, like selling a component your supply chain makes to another business, tying different endeavours together into a new one, or using data collected for a new purpose (p.193, 243-244).\\r\\n\\r\\n### Build a company attitude of anti-complacency\\r\\nA \\"maniacal sense of urgency\\" is needed as an operating principle for companies to avoid being flabby and slow because complacency can be a scourge to business (p.286, 349, 508). If your company is already too conservative and long-lived, quickly accept that you need to change, and adopt entrepreneurial efforts (p.222).\\r\\n\\r\\n### Be a product company, not a sales nor a platform company\\r\\nA platform company is merely an unbranded vendor for incumbent industry leaders (p.63-65), and a sales company neglects the philosophy that you should make a great product then let the sales follow up by themselves after that (p.253). So, it is important to be product-first. For high-cost industries, you can create a high-price and quality iteration before designing a mass-market model (p.127). You can also more easily gain public awareness by displaying prototypes to the public (p.121, 194).\\r\\n\\r\\n\\r\\n\\r\\n## LEADERSHIP\\r\\n\\r\\n### Lead by example, not by empathy\\r\\nAn effective leader is like a general on a battlefield, they need hands-on experience on the factory floor and be willing to do what they asked of the workers, otherwise they shouldn't ask the workers to do those things in the first place (p.285-286, 480). They have the openness to take in the risk information and data from their team, the flexibility to have their mind changed by the evidence, the decisiveness to make quick assessments and shift responsibility from the team to themselves, and the resolve to take ownership for their mistakes even if it needs to be done publicly (p.210, 282, 407). It is not the leader's job to make people love them, as that just leads to counterproductivity (p.64).\\r\\n\\r\\n### Communicate with workers rather than executives\\r\\nSpend your time on the shop floor listening to the suggestions of floor workers to find problems to solve and get information regarding limits your company can go beyond, one way to implement this is by performing skip-level meetings so workers can bypass direct supervisors and have their ideas heard (p.157, 286, 328). Be willing to treat people politely and respectfully, as not treating them well may make them disinclined to tell you where the problems are (p.166).\\r\\n\\r\\n### Draw clear lines for segregation of duties\\r\\nBe clear to employees that duties precede relationships. For example, if you are trying to drive down costs, ensure your financial analysts understand they are not to befriend the engineers who set the costs, because the analysts need to serve as objective judges of the engineers (p.363). Enforce internal transparency and integrity by proactively asking and investigating staff so that you can find conflicts of interest that are being hidden because there is no incentive for those conflicts which threaten your operations to out themselves (p.571).\\r\\n\\r\\n### Proactively fight against analysis paralysis\\r\\nLeaders need to step in when analysis paralysis is happening, to make decisions that will move efforts forward fast by trying, failing, then fixing, instead of spending months on analysis prior to taking action (p.388).\\r\\n\\r\\n\\r\\n\\r\\n## TEAM DYNAMICS\\r\\n\\r\\n### Hire team members based on attitude over skills and experience\\r\\n\\"When hiring, look for people with the right attitude. Skills can be taught. Attitude changes require a brain transplant\\" (p.286). Prioritise candidates who have an attitude to work maniacally hard, but be wary of anyone whose confidence is greater than their competence (p.350, 512). If you want to have a hardcore, fanatic work culture, you need to have a staffing method that cuts to the bone (p.522).\\r\\n\\r\\n### Encourage team members to prioritise their feedback loops over comradery\\r\\nIt is inevitable that employees will need a good feedback loop and have the initiative to seek criticism from others to improve (p.365). Comradery can be dangerous because it makes it hard for people to challenge each other's work, creating a counterproductive tendency to avoid throwing colleagues under the bus, but that tendency needs to be avoided for improvement to begin (p.285).\\r\\n\\r\\n### Prepare the team to support a leader who is steering off the rails\\r\\nNo one is perfect, and even a leader can make severely bad decisions out of impulsive emotion. To handle this, have a team member inform them as such and have other team members raise it with them to show consensus. Then ensure the team quietly knows to avoid carrying out reactionary orders from that leader until the storm of emotion passes and when that leader is able to properly process the inputs (p.539).\\r\\n\\r\\n\\r\\n\\r\\n## PRODUCT DEVELOPMENT\\r\\n\\r\\n### Innovate by setting metrics as your goal post\\r\\nInnovative business ideas come from translating the inefficiencies of existing technologies as clear metrics, like the time take to manually type information into a computer or the cost per pound to get a payload into orbit, then working hard to improve that metric's value by advancing its underlying technology (p.93, 355, 399). The metric's value can be displayed on a large monitor, so the team can treat it like a game to try to improve it, making it also a measure for product engineering performance (p.596).\\r\\n\\r\\n### Initial product brainstorming\\r\\nFirst think of the materials used to build your product including the reasonings for those materials and the product's structure, then have the team members create a detailed chart of any functionality they want and the cost of manufacturing each at scale (p.316, 486).\\r\\n\\r\\n### Co-locate engineers with designers\\r\\nHave designers and engineers work together in the same room so they can have a \\"throw-it-over-the-fence\\" mentality such they think like the other, because true industrial design connects the beauty of a product to its engineering (p.79, 137, 200). Separating product design from engineering is a recipe for dysfunction, so ensure you have set things up such that designers feel immediate pain if something they devised is hard to engineer. For this reason, engineers should lead the design process rather than product managers (p.79).\\r\\n\\r\\n\\r\\n\\r\\n## MANUFACTURING\\r\\n\\r\\n### Empower assembly line teams using factory layout\\r\\nWhen designing a factory, make the layout so that an assembly line person can collar a designer or engineer and hold them accountable to bad designs (p.109). This can be achieved by placing the cubicles for the engineers beside the assembly lines, so they can see when something goes wrong and hear complaints if their design causes a slowdown (p.219). Make it a collective responsibility by corralling the engineers to frequently walk up and the down the assembly lines with you to assess the production line's efficiency, so if they find an aspect of product design is expensive to produce, it'll require changing the design (p.219, 390).\\r\\n\\r\\n### Inhouse your supply chain and minimise dependencies\\r\\nAlthough outsourcing may be cheaper, a poor international supply chain can be a logistical nightmare and can cause cash-flow problems (p.160). Key components should be made inhouse to control quality, costs, and supply chain, whilst aiming for vertical integration (p.132). In-housing can be further improved by pursuing good manufacturing process inspirations, like the cold casting mould method used for toy cars which removes the need to piece together hundreds of parts (p.338). You can also cleverly get 24 hours of production with 16 hours of human labour using machines and careful prediction of when human intervention would be necessary, which helps get around labour laws whilst maximising production time (p.158-159).\\r\\n\\r\\n### Challenge costs\\r\\nChallenge your suppliers on costs they charge on components, especially if there are equivalent cheaper components in other industries, or consider making it in-house at a fraction of the price (p.112). \\r\\n\\r\\n### Pursue efficiency via the \\"Idiot Index\\" and \\"The algorithm\\"\\r\\nThe **idiot index** identifies the economically problematic components in the production process, and **the algorithm** is a methodology to improve the production process itself.\\r\\n\\r\\nThe **idiot index** is \\"...the ratio of the total cost of a component to the cost of its raw materials. Something with a high idiot index--say a component that cost $1,000 when the aluminium that composed it only cost $100--was likely to have a design that was too complex or a manufacturing process that was too inefficient...If the ratio is high, you're an idiot\\" for not addressing it (p.363).\\r\\n\\r\\n**\\"The algorithm\\"** is a 5-point checklist (p.284-285):\\r\\n1. \\"Question every requirement. Each should come with the name of the person who made it. You should never accept that a requirement came from a department... Then you should question it, no matter how smart that person is...Then make the requirements less dumb\\".\\r\\n2. \\"Delete any part or process you can. You may have to add them back later. In fact, if you do not end up adding back at least 10% of them, then you didn't delete enough\\".\\r\\n3. \\"Simplify and optimize. This should come after step two. A common mistake is to simplify and optimize a part or a process that should not exist\\".\\r\\n4. \\"Accelerate cycle time. Every process can be [ sped ] up. But only do this after you have followed the first three steps\\", it is a mistake to automate first because some time accelerating processes may need to be removed altogether.\\r\\n5. Automate. This comes last in designing the production process. Wait until all requirements have been questioned, and all unnecessary parts and processes deleted.\\r\\n\\r\\n\\r\\n\\r\\n## NEGOTIATION\\r\\n\\r\\n### Stay calm against disruptive opening offers\\r\\nDuring a business negotiation, if your counterpart is exaggerating numbers and making an offer that would be considered illogical, be patient and consider the possibility that it is just their opening move, before walking away from the table entirely. Some people just like to play games (p.77).\\r\\n\\r\\n### Convince with tangible actions, not with words alone\\r\\nIf you have a potential partner hesitant to join forces with yours, one strategy is to physically demonstrate at a very large scale, that your side is willing to plough ahead with your endeavour even without the potential partner, like the building of a for-purpose factory (p.221).\\r\\n\\r\\n### Do due diligence for acquisitions\\r\\nWhen making a deal to buy out a company, make it contingent on full due diligence to minimise the trouble it would otherwise cause later (p.463).\\r\\n\\r\\n### Pursue outcomes and merit-based work\\r\\nCost-plus contracts are where you are paid for your costs plus guaranteed profit, which is ineffective as it is an incentive to never finish work. If such a system is in place, challenge it with outcomes-based fixed pricing where companies should be risking their own capital (p.123). \\r\\n\\r\\n\\r\\n\\r\\n## 3 OTHER USEFUL NOTES\\r\\n\\r\\n1. First principles thinking involves \\"...drilling down to the basic physics of the situation and building up from there\\" (p.99). Approach your problems using this mindset.\\r\\n\\r\\n2. One way to show you are listening in meetings, is to parrot back what others are saying as confirmation you've understood what they have said (p.368). This is similar to an approach mentioned in Jordan Peterson's \\"12 Rules of Life\\", where you need to accurately summarise a person's ideas as you understand them, before conveying your own points.\\r\\n\\r\\n3. Here is a list of authors and books mentioned as having been read by the biographee:\\r\\n\\r\\n\`\`\`\\r\\nAuthors:\\r\\n* Martin Heideggar\\r\\n* Friedrich Nietzsche\\r\\n* Arthur Schopenhauer\\r\\n\\r\\nBooks:\\r\\n* Douglas Adams\\r\\n  │── \\"Hitchhiker's Guide to the Galaxy\\" (1979, sci-fi)\\r\\n* Isaac Asmiov\\r\\n  │── \\"Robots and Empire\\" (1985, sci-fi)\\r\\n  │── \\"Foundation\\" series (1951-1993, sci-fi)\\r\\n* Iain Banks\\r\\n  │── \\"Culture\\" series (1987-2012, sci-fi)\\r\\n* Clayton Christensen\\r\\n  │── \\"The Innovator's Dilemma\\" (1997, business)\\r\\n* Winston Churchill\\r\\n  │── \\"The Second World War\\" (1948-1953, history)\\r\\n* Robert Heinlein\\r\\n  │── \\"The Moon Is a Harsh Mistress\\" (1966, sci-fi)\\r\\n* The Onion\\r\\n  │── \\"Our Dumb Century\\" (1999, satire)\\r\\n\\r\\nMagazines:\\r\\n* Amazing Stories magazine (1926-1939, sci-fi)\\r\\n\`\`\`\\r\\n\\r\\n\\r\\n\\r\\nThis book is an excellent testament to how belief in humanity, curiosity, intelligence, sheer force of will, luck, and karma can overcome near-impossible odds and make an at-scale tangible difference. It also shows the depth of sacrifice and toll it takes to pursue such a path.\\r\\n\\r\\nThe biographee envisions humanity being more technologically advanced than now to achieve species-level self-determination in the universe. His success in making tangible steps toward this explains why his efforts are often widely acclaimed.\\r\\n\\r\\nAfter reading it, this book may provoke your surrendered existential nihilism, an existential crisis of self-comparison, or inspiration for positive change--so choose wisely. Personally, I'll opt for the more hopeful outlook.\\r\\n\\r\\n\\r\\n\\r\\n### Reference\\r\\n\\r\\n* **[Elon Musk by Walter Isaacson (2023)](https://www.simonandschuster.com.au/books/Elon-Musk/Walter-Isaacson/9781761427978)**\\r\\n\\r\\n\\r\\n\\r\\nClick **[here](https://github.com/makuharistudio/makuharistudio.github.io/blob/main/src/markdown/readings/2025-04-20.md)** for this reading page's markdown file in GitHub."},{"id":1742043600,"title":"12 Rules for Life\\r","name":"12-rules-for-life","author":"Jordan B. Peterson\\r","publisher":"Penguin Random House UK\\r","publisherURL":"https://www.penguin.co.uk/books/309610/12-rules-for-life-by-peterson-jordan-b/9780141988511\\r","photo":"../assets/readings/12-rules-for-life-by-jordan-b-peterson.png\\r","category":"personal development\\r","date":"16 March 2025\\r","desc":"A philosophical guide on foundational approaches to help live a better life supported with anecdotes from the author's personal life and clinical practice, science, religion, and fiction.\\r","tags":"[\\"Personal development\\", \\"Philosophy\\"]\\r","content":"![12 Rules for Life by Jordan B. Peterson](/src/assets/readings/12-rules-for-life-by-jordan-b-peterson.png)\\r\\n\\r\\n\\r\\n\\r\\nThis book was name-dropped in the author's YouTube lectures and interviews, so I bought a copy to try it. It is the first non-technical book I read since university, so it was not an easy transition to go from my preferred reading of factual and \\"to-the-point\\" near-discussionless information, to wading through such philosophical and life-orientated lessons.\\r\\n\\r\\nAdmittedly, I nearly dropped the book early on where it discussed the difference between light and darkness, as I felt it lingered too much on that point. I powered through that and was rewarded with interesting anecdotes from the author's life and clinical practice. Being careful not to spoil, the most memorable example for me is when the author and his wife looked after a neighbour's neglected child.\\r\\n\\r\\nA part of me wished I had the knowledge in this book at an earlier age in life, but I do wonder if youthful impatience would have prevented me from properly incorporating those lessons.\\r\\n\\r\\nThese rules (or variations of them) I had already been aware of and tried living by before finding this book:\\r\\n\\r\\n* Rule 1: Have good posture.\\r\\n* Rule 4: Don't compare yourself to others. \\r\\n* Rule 6: Fix yourself instead of blaming others.\\r\\n* Rule 7: Choose the actions that will improve your tomorrow instead of indulging in today's pleasure.\\r\\n* Rule 8: Avoid lying.\\r\\n* Rule 9: You don't know everything so try genuinely listening to others.\\r\\n* Rule 11: Let yourself and others test their limits and be challenged.\\r\\n* Rule 12: Enjoy the few miraculous and wonderous moments that life gives you.\\r\\n\\r\\nThese were the lessons that were new for me:\\r\\n\\r\\n* Rule 2: Build the attitude to want to help yourself get a better life, regardless of any self-contempt or self-criticisms you have.\\r\\n* Rule 3: Surround yourself with people who genuinely strive for their own self-improvement, and expect for your relationships with them to not be easy. It is better than having a supposedly effortless relationship with someone who sees your self-improvement efforts as a fault.\\r\\n* Rule 5: Discourage behaviours in the people close to you which may lead them to becoming a social disgrace or being mentally immature.\\r\\n* Rule 10: Communicate your feelings to confront those feelings and what you intend. Even when your efforts to be precise don't solve the problem, at least you will remove the ambiguity which is far worse than the problem.\\r\\n\\r\\nBasically, the book encourages you to improve your internal locus of control, by setting your mindset and life in a constructive direction. One recurring way it does this is by confronting people so corrupted by their own nihilism, that they denounce humanity whilst hiding behind a false guise of being anti-prejudice.\\r\\n\\r\\nMy favourite quote:\\r\\n\\r\\n\\"Aim up. Pay attention. Fix what you can fix. Don't be arrogant in your knowledge. Strive for humility, because totalitarian pride manifests itself in intolerance, oppression, torture and death. Become aware of your own insufficiency--your cowardice, malevolence, resentment and hatred. Consider the murderousness of your own spirit before you dare accuse others, and before you attempt to repair the fabric of the world.\\" (p.198)\\r\\n\\r\\nThe book has a number of other wisdoms, but I'll list only 3 of my other favourites below. The rest you can read the book to discover.\\r\\n\\r\\n1. You need to reveal yourself to the world for the best possible version of you to be brought forth into the world (p.212).\\r\\n2. Make your ambitions based on the building of your character and ability because those will always be with you regardless of status and power which can easily be lost (p.224).\\r\\n3. Deliberately say the things and go to the places that put you into the new situations needed for you to be switched on and placed on the path to be more complete as an individual (p.212).\\r\\n\\r\\nIn summary, the book may be a difficult read for the philosophically uninitiated, but the lessons are good. Truthfully, I prefer to listen to the author's lectures and interviews. They have less content, but there's more conciseness, logical reasoning, and stronger engagement in video format.\\r\\n\\r\\n\\r\\n\\r\\n### Reference\\r\\n\\r\\n* **[12 Rules for Life by Jordan B. Peterson (2018)](https://www.penguin.co.uk/books/309610/12-rules-for-life-by-peterson-jordan-b/9780141988511)**\\r\\n\\r\\n\\r\\n\\r\\nClick **[here](https://github.com/makuharistudio/makuharistudio.github.io/blob/main/src/markdown/readings/2025-03-16.md)** for this reading page's markdown file in GitHub."}]`);function w6(){return D.jsxs(D.Fragment,{children:[D.jsxs("center",{children:[D.jsx("h1",{children:"READINGS"}),D.jsx("h3",{children:"This is a non-exhaustive list of books I have read along with summaries of lessons learned."})]}),D.jsx(v6,{readings:nx})]})}function _6(){const{name:n}=Ho(),a=nx.find(f=>f.name===n);if(!a)throw new Error("Reading not found");const{title:s,author:i,date:l,content:c}=a,d=f=>{try{return f.startsWith("http")?f:new URL(Object.assign({"../assets/readings/12-rules-for-life-by-jordan-b-peterson.png":_l,"../assets/readings/elon-musk-by-walter-isaacson.png":xl,"../assets/readings/mastery-by-robert-greene.png":Sl,"../assets/readings/the-concise-33-strategies-of-war-by-robert-greene.png":kl})[`../assets/readings/${f.split("/").pop()}`],import.meta.url).href}catch(m){return console.error(`Error loading image: ${f}`,m),""}},g=(f=>f.replace(/!\[([^\]]*)\]\(([^)]+)\)/g,(m,y,v)=>{try{const _=d(v);return`![${y}](${_})`}catch(_){return console.error(`Image not found: ${v}`,_),`![${y}](#)`}}))(c);return D.jsxs("content",{children:[D.jsx("h3",{children:l||"This reading does not have a date"}),D.jsxs("h1",{children:[s||"This reading does not have a title"," by ",i||"This reading does not have a author"]}),D.jsx(D1,{children:g||"This reading does not have content"})]})}const P1=[{title:"SVG Maker",name:"svg-maker",date:"31 July 2025",desc:"Draw your own SVGs for free.",photo:"../assets/readings/mastery-by-robert-greene.png",url:"../applications/svg-maker",tags:["Web design","SVG"]}];function x6(){const n=P1;return D.jsx(D.Fragment,{children:D.jsx("div",{id:"application-list",children:n.map(a=>D.jsxs(Lr,{to:a.url,alt:a.name,children:[D.jsx("h5",{children:a.date}),D.jsx("h3",{children:a.desc}),D.jsx("p",{children:a.tags})]},a.name))})})}function S6(){return D.jsxs(D.Fragment,{children:[D.jsxs("center",{children:[D.jsx("h1",{children:"APPLICATIONS"}),D.jsx("h3",{children:"This is a list of applications I vibe-coded with Grok."}),D.jsx("p",{children:" I gave prompts, performed incremental testing, and made the visual designs."})]}),D.jsx(x6,{applications:P1})]})}const k6="http://www.w3.org/2000/svg",ms=["line","rect","circle","polygon"],T6=(n=500,a=500)=>{const[s,i]=R.useState([]),[l,c]=R.useState("line"),[d,h]=R.useState([]),[g,f]=R.useState(!1),[m,y]=R.useState(null),[v,_]=R.useState(!1),[A,M]=R.useState(null),[U,E]=R.useState(!1),[j,F]=R.useState(null),[se,J]=R.useState(null),[T,pe]=R.useState("#000000"),[ve,Q]=R.useState(100),[de,fe]=R.useState(2),[be,he]=R.useState("#FFFFFF"),[ne,ue]=R.useState(100),[G,ae]=R.useState(n),[ge,Me]=R.useState(a),[w,Z]=R.useState(""),me=R.useCallback(()=>({stroke:T,strokeOpacity:parseFloat(ve)/100,strokeWidth:parseFloat(de),fill:be,fillOpacity:parseFloat(ne)/100}),[T,ve,de,be,ne]);R.useEffect(()=>{m!==null&&i(re=>{const K=[...re];return K[m]={...K[m],style:me()},K})},[T,ve,de,be,ne,m,me]);const S=R.useCallback((re,K)=>{if(K.length<2)return!1;const[ee,V]=K;if(re==="line")return Math.hypot(V.x-ee.x,V.y-ee.y)>1;if(re==="rect"){const k=Math.abs(V.x-ee.x),I=Math.abs(V.y-ee.y);return k>1&&I>1}else{if(re==="circle")return Math.sqrt((V.x-ee.x)**2+(V.y-ee.y)**2)>1;if(re==="polygon"){if(K.length<3)return!1;const k=K[K.length-1],I=K[0];return K.length>=3&&k.x===I.x&&k.y===I.y&&K.slice(0,-1).some((X,ce)=>{const De=K[(ce+1)%(K.length-1)];return Math.hypot(X.x-De.x,X.y-De.y)>1})}}return!1},[]),oe=R.useCallback(re=>{c(re),h([]),f(!1),re!=="select"&&re!=="resize"&&(y(null),E(!1),F(null)),_(!1)},[]),Ie=R.useCallback(()=>{},[]),we=R.useCallback(()=>{m!==null&&(i(re=>re.filter((K,ee)=>ee!==m)),y(null),E(!1),F(null))},[m]),pt=R.useCallback(re=>{if(m===null||isNaN(re))return;const K=s.length;re<1||re>K||i(ee=>{const V=re-1,k=ee[m],I=[...ee];return I.splice(m,1),I.splice(V,0,k),y(V),I})},[m,s.length]),Ne=R.useCallback((re,K,ee,V,k,I)=>{const X=(k-ee)**2+(I-V)**2;if(X===0)return Math.hypot(re-ee,K-V);const ce=Math.max(0,Math.min(1,((re-ee)*(k-ee)+(K-V)*(I-V))/X)),De=ee+ce*(k-ee),et=V+ce*(I-V);return Math.hypot(re-De,K-et)},[]),Ze=R.useCallback((re,K,ee)=>{if(ee.type==="line"){for(let V=0;V<ee.points.length-1;V++){const k=ee.points[V],I=ee.points[V+1];if(Ne(re,K,k.x,k.y,I.x,I.y)<10)return!0}return!1}else if(ee.type==="rect"){const[V,k]=ee.points,I=Math.min(V.x,k.x),X=Math.max(V.x,k.x),ce=Math.min(V.y,k.y),De=Math.max(V.y,k.y);return re>=I&&re<=X&&K>=ce&&K<=De}else if(ee.type==="circle"){const[V,k]=ee.points,I=V.x,X=V.y,ce=Math.sqrt((k.x-V.x)**2+(k.y-V.y)**2);return Math.hypot(re-I,K-X)<=ce}else if(ee.type==="polygon"){let V=!1;const k=ee.points.slice(0,-1);for(let I=0,X=k.length-1;I<k.length;X=I++){const ce=k[I].x,De=k[I].y,et=k[X].x,Wt=k[X].y;De>K!=Wt>K&&re<(et-ce)*(K-De)/(Wt-De)+ce&&(V=!V)}return V}return!1},[Ne]),Le=R.useCallback((re,K,ee,V,k=20)=>re>=ee-k/2&&re<=ee+k/2&&K>=V-k/2&&K<=V+k/2,[]),ot=R.useCallback(re=>{const K=[];if(re.type==="line")K.push({type:"endpoint",index:0,x:re.points[0].x,y:re.points[0].y}),K.push({type:"endpoint",index:1,x:re.points[1].x,y:re.points[1].y});else if(re.type==="rect"){const[ee,V]=re.points,k=Math.min(ee.x,V.x),I=Math.max(ee.x,V.x),X=Math.min(ee.y,V.y),ce=Math.max(ee.y,V.y);K.push({type:"corner",index:0,x:k,y:X}),K.push({type:"corner",index:1,x:I,y:X}),K.push({type:"corner",index:2,x:I,y:ce}),K.push({type:"corner",index:3,x:k,y:ce})}else if(re.type==="circle"){const[ee,V]=re.points,k=ee.x,I=ee.y,X=Math.sqrt((V.x-ee.x)**2+(V.y-ee.y)**2);K.push({type:"center",index:0,x:k,y:I}),K.push({type:"radius",index:1,x:k+X,y:I})}else re.type==="polygon"&&re.points.slice(0,-1).forEach((ee,V)=>{K.push({type:"vertex",index:V,x:ee.x,y:ee.y})});return K},[]),sn=R.useCallback((re,K)=>{let ee=null,V=null;if(l==="resize")for(let k=s.length-1;k>=0;k--){const I=s[k],X=ot(I);for(let ce=0;ce<X.length;ce++)if(Le(re,K,X[ce].x,X[ce].y)){ee=k,V={type:X[ce].type,index:X[ce].index},console.log("Handle clicked:",V,"Shape index:",k);break}if(ee!==null)break}if(ee===null&&(l==="select"||l==="resize"))for(let k=s.length-1;k>=0;k--){const I=s[k];if(ms.includes(I.type)&&Ze(re,K,I)){ee=k;break}}if(ee!==null){const k=s[ee];pe(k.style.stroke),Q((k.style.strokeOpacity*100).toFixed(1)),fe(k.style.strokeWidth),he(k.style.fill),ue((k.style.fillOpacity*100).toFixed(1)),y(ee),F(l==="resize"?V:null)}else y(null),F(null)},[s,l,Ze,Le,ot]),Lt=R.useCallback(re=>{const K=re.currentTarget.getBoundingClientRect(),ee=re.clientX-K.left,V=re.clientY-K.top;return{x:ee,y:V}},[]),Vt=R.useCallback(re=>{const{x:K,y:ee}=Lt(re);l==="select"||l==="resize"?(sn(K,ee),m!==null&&(l==="resize"&&j?E(!0):l==="select"&&(M({x:K,y:ee}),_(!0)))):ms.includes(l)&&(h(V=>[...V,{x:K,y:ee}]),d.length===0&&f(!0))},[l,m,j,d.length,sn,Lt]),Nn=R.useCallback(re=>{if(!ms.includes(l))return;const{x:K,y:ee}=Lt(re);if(l==="polygon"){if(d.length>=2&&Le(K,ee,d[0].x,d[0].y)){console.log("Closing polygon at:",{x:K,y:ee},"First point:",d[0]);const V=[...d,d[0]];if(S("polygon",V)){const k=me();k.fillOpacity=1,i(I=>{const X=[...I,{type:"polygon",points:V,style:k}];return y(X.length-1),X}),oe("select"),pe(k.stroke),Q((k.strokeOpacity*100).toFixed(1)),fe(k.strokeWidth),he(k.fill),ue((k.fillOpacity*100).toFixed(1)),h([]),f(!1)}}}else if(d.length===1){const V=[...d,{x:K,y:ee}];if(S(l,V)){const k=me();k.fillOpacity=1,i(I=>{const X=[...I,{type:l,points:V,style:k}];return y(X.length-1),X}),oe("select"),pe(k.stroke),Q((k.strokeOpacity*100).toFixed(1)),fe(k.strokeWidth),he(k.fill),ue((k.fillOpacity*100).toFixed(1))}h([]),f(!1)}},[l,d,S,me,oe,Lt,Le]),on=R.useCallback(re=>{const{x:K,y:ee}=Lt(re);if(J({x:K,y:ee}),U&&m!==null&&j&&l==="resize")i(V=>{const k=[...V],I={...k[m]},X=[...I.points];if(I.type==="line")X[j.index]={x:K,y:ee};else if(I.type==="rect"){const[ce,De]=X;j.index===0?X[0]={x:K,y:ee}:j.index===1?(X[1].x=K,X[0].y=ee):j.index===2?X[1]={x:K,y:ee}:j.index===3&&(X[0].x=K,X[1].y=ee)}else if(I.type==="circle"){if(j.type==="center"){const ce=Math.sqrt((X[1].x-X[0].x)**2+(X[1].y-X[0].y)**2);X[0]={x:K,y:ee},X[1]={x:K+ce,y:ee}}else if(j.type==="radius"){const ce=X[0].x,De=X[0].y,et=Math.sqrt((K-ce)**2+(ee-De)**2);X[1]={x:ce+et,y:De}}}else I.type==="polygon"&&(X[j.index]={x:K,y:ee},j.index===0&&(X[X.length-1]={x:K,y:ee}));return S(I.type,X)&&(k[m]={...I,points:X}),k});else if(v&&m!==null&&A&&l==="select"){const V=K-A.x,k=ee-A.y;i(I=>{const X=[...I];return X[m].points=X[m].points.map(ce=>({x:ce.x+V,y:ce.y+k})),X}),M({x:K,y:ee})}},[v,U,m,A,j,l,Lt,S]),Un=R.useCallback(()=>{v&&(_(!1),M(null)),U&&(E(!1),F(null))},[v,U]),Zn=R.useCallback(re=>{(re.key==="Delete"||re.key==="Backspace")&&m!==null?we():re.key==="Escape"&&l==="polygon"&&g&&(h([]),f(!1),oe("select"))},[m,we,l,g,oe]);R.useEffect(()=>{const re=K=>{(K.key==="Delete"||K.key==="Backspace")&&m!==null?we():K.key==="Escape"&&l==="polygon"&&g&&(h([]),f(!1),oe("select"))};return document.addEventListener("keydown",re),()=>{document.removeEventListener("keydown",re)}},[m,we,l,g,oe]);const jn=R.useCallback(()=>{let re=`<svg width="${G}" height="${ge}" xmlns="${k6}">
`;s.forEach((K,ee)=>{if(!ms.includes(K.type))return;const V=ee+1;if(K.type==="line"){const k=K.points.map(I=>`${Math.round(I.x)},${Math.round(I.y)}`).join(" ");re+=`  <polyline data-layer="${V}" points="${k}" stroke="${K.style.stroke}" stroke-opacity="${K.style.strokeOpacity}" stroke-width="${K.style.strokeWidth}" fill="${K.style.fill}" fill-opacity="${K.style.fillOpacity}" />
`}else if(K.type==="rect"){const[k,I]=K.points,X=Math.round(Math.min(k.x,I.x)),ce=Math.round(Math.min(k.y,I.y)),De=Math.round(Math.abs(I.x-k.x)),et=Math.round(Math.abs(I.y-k.y));re+=`  <rect data-layer="${V}" x="${X}" y="${ce}" width="${De}" height="${et}" stroke="${K.style.stroke}" stroke-opacity="${K.style.strokeOpacity}" stroke-width="${K.style.strokeWidth}" fill="${K.style.fill}" fill-opacity="${K.style.fillOpacity}" />
`}else if(K.type==="circle"){const[k,I]=K.points,X=Math.round(k.x),ce=Math.round(k.y),De=Math.round(Math.sqrt((I.x-k.x)**2+(I.y-k.y)**2));re+=`  <circle data-layer="${V}" cx="${X}" cy="${ce}" r="${De}" stroke="${K.style.stroke}" stroke-opacity="${K.style.strokeOpacity}" stroke-width="${K.style.strokeWidth}" fill="${K.style.fill}" fill-opacity="${K.style.fillOpacity}" />
`}else if(K.type==="polygon"){const k=K.points.map(I=>`${Math.round(I.x)},${Math.round(I.y)}`).join(" ");re+=`  <polygon data-layer="${V}" points="${k}" stroke="${K.style.stroke}" stroke-opacity="${K.style.strokeOpacity}" stroke-width="${K.style.strokeWidth}" fill="${K.style.fill}" fill-opacity="${K.style.fillOpacity}" />
`}}),re+="</svg>",Z(re)},[s,G,ge]),Fn=R.useCallback((re,K)=>{if(re.type==="line")return{points:re.points.map(V=>`${Math.round(V.x)},${Math.round(V.y)}`).join(" ")};if(re.type==="rect"){const[ee,V]=re.points;return{x:Math.round(Math.min(ee.x,V.x)),y:Math.round(Math.min(ee.y,V.y)),width:Math.round(Math.abs(V.x-ee.x)),height:Math.round(Math.abs(V.y-ee.y))}}else if(re.type==="circle"){const[ee,V]=re.points;return{cx:Math.round(ee.x),cy:Math.round(ee.y),r:Math.round(Math.sqrt((V.x-ee.x)**2+(V.y-ee.y)**2))}}else if(re.type==="polygon")return{points:re.points.map(V=>`${Math.round(V.x)},${Math.round(V.y)}`).join(" ")};return{}},[]),hr=R.useCallback(()=>{const re=[],K={line:({index:V,shape:k,props:I})=>D.jsx("polyline",{...I,stroke:k.style.stroke,strokeOpacity:k.style.strokeOpacity,strokeWidth:k.style.strokeWidth,fill:k.style.fill,fillOpacity:k.style.fillOpacity,className:m===V?"selected":""},`shape-${V}`),rect:({index:V,shape:k,props:I})=>D.jsx("rect",{...I,stroke:k.style.stroke,strokeOpacity:k.style.strokeOpacity,strokeWidth:k.style.strokeWidth,fill:k.style.fill,fillOpacity:k.style.fillOpacity,className:m===V?"selected":""},`shape-${V}`),circle:({index:V,shape:k,props:I})=>D.jsx("circle",{...I,stroke:k.style.stroke,strokeOpacity:k.style.strokeOpacity,strokeWidth:k.style.strokeWidth,fill:k.style.fill,fillOpacity:k.style.fillOpacity,className:m===V?"selected":""},`shape-${V}`),polygon:({index:V,shape:k,props:I})=>D.jsx("polygon",{...I,stroke:k.style.stroke,strokeOpacity:k.style.strokeOpacity,strokeWidth:k.style.strokeWidth,fill:k.style.fill,fillOpacity:k.style.fillOpacity,className:m===V?"selected":""},`shape-${V}`)},ee={line:({index:V,shape:k,props:I})=>D.jsx("polyline",{...I,stroke:"#ADD8E6",strokeOpacity:"0.7",strokeWidth:parseFloat(k.style.strokeWidth)+6,fill:"none",className:"highlight"},`highlight-${V}`),rect:({index:V,shape:k,props:I})=>D.jsx("rect",{...I,stroke:"#ADD8E6",strokeOpacity:"0.7",strokeWidth:parseFloat(k.style.strokeWidth)+6,fill:"none",className:"highlight"},`highlight-${V}`),circle:({index:V,shape:k,props:I})=>D.jsx("circle",{...I,stroke:"#ADD8E6",strokeOpacity:"0.7",strokeWidth:parseFloat(k.style.strokeWidth)+6,fill:"none",className:"highlight"},`highlight-${V}`),polygon:({index:V,shape:k,props:I})=>D.jsx("polygon",{...I,stroke:"#ADD8E6",strokeOpacity:"0.7",strokeWidth:parseFloat(k.style.strokeWidth)+6,fill:"none",className:"highlight"},`highlight-${V}`)};if(s.forEach((V,k)=>{if(!ms.includes(V.type))return;const I=Fn(V,k);if(m===k&&l==="select"){const ce=ee[V.type];re.push(D.jsx(ce,{index:k,shape:V,props:I},`highlight-${k}`))}const X=K[V.type];re.push(D.jsx(X,{index:k,shape:V,props:I},`shape-${k}`))}),s.forEach((V,k)=>{if(m===k&&l==="resize"){const I=ot(V),X=20;I.forEach((ce,De)=>{re.push(D.jsx("rect",{x:ce.x-X/2,y:ce.y-X/2,width:X,height:X,fill:"red",stroke:"none",className:"resize-handle",style:{cursor:"nwse-resize",pointerEvents:"all"}},`handle-${k}-${De}`))})}}),g&&d.length>=1&&ms.includes(l)){const V=se||{x:d[d.length-1].x,y:d[d.length-1].y},k=me();let I;l==="line"?I={points:`${d[0].x},${d[0].y} ${V.x},${V.y}`}:l==="rect"?I={x:Math.min(d[0].x,V.x),y:Math.min(d[0].y,V.y),width:Math.abs(V.x-d[0].x),height:Math.abs(V.y-d[0].y)}:l==="circle"?I={cx:d[0].x,cy:d[0].y,r:Math.sqrt((V.x-d[0].x)**2+(V.y-d[0].y)**2)}:l==="polygon"&&(I={points:[...d,V].map(De=>`${De.x},${De.y}`).join(" ")});const X=K[l];if(re.push(D.jsx(X,{index:-1,shape:{style:{...k,fillOpacity:1}},props:I},"temp-shape")),l==="polygon"&&d.length>=1){const ce=d[0],De=se&&Le(se.x,se.y,ce.x,ce.y);console.log("Hovering first point:",De,"Mouse:",se,"First point:",ce),re.push(D.jsx("rect",{x:ce.x-10,y:ce.y-10,width:20,height:20,fill:De?"#00FF00":"red",stroke:"none",className:"resize-handle",style:{cursor:"pointer",pointerEvents:"all"}},"temp-polygon-first-handle"))}}return re},[s,m,g,d,l,se,me,G,ge,Fn,ot,Le]);return R.useEffect(()=>{jn()},[jn]),{shapes:s,currentTool:l,setTool:oe,selectedShapeIndex:m,layerNumber:m!==null?m+1:"",layerMax:s.length||1,setLayerPosition:pt,strokeColor:T,setStrokeColor:pe,strokeOpacity:ve,setStrokeOpacity:Q,strokeWidth:de,setStrokeWidth:fe,fillColor:be,setFillColor:he,fillOpacity:ne,setFillOpacity:ue,canvasWidth:G,setCanvasWidth:ae,canvasHeight:ge,setCanvasHeight:Me,updateCanvasSize:Ie,deleteSelectedShape:we,handleMouseDown:Vt,handleClick:Nn,handleMouseMove:on,handleMouseUp:Un,handleKeyDown:Zn,svgOutput:w,renderShapes:hr}},D6=()=>{const{name:n}=Ho(),a=P1.find(ae=>ae.name===n);if(!a)throw new Error("Application not found");const{title:s,date:i,desc:l}=a;R.useRef(null),R.useRef(null);const{currentTool:c,setTool:d,renderShapes:h,svgOutput:g,handleMouseDown:f,handleClick:m,handleMouseMove:y,handleMouseUp:v,handleKeyDown:_,strokeColor:A,setStrokeColor:M,strokeOpacity:U,setStrokeOpacity:E,strokeWidth:j,setStrokeWidth:F,fillColor:se,setFillColor:J,fillOpacity:T,setFillOpacity:pe,canvasWidth:ve,setCanvasWidth:Q,canvasHeight:de,setCanvasHeight:fe,deleteSelectedShape:be,selectedShapeIndex:he,layerNumber:ne,layerMax:ue,setLayerPosition:G}=T6(500,500);return D.jsxs("content",{style:{fontFamily:"Arial, sans-serif",padding:"20px"},children:[D.jsxs("div",{style:{marginBottom:"20px"},children:[D.jsx("button",{onClick:()=>d("line"),style:{marginRight:"10px",padding:"5px 10px",background:c==="line"?"#ADD8E6":"#f0f0f0"},children:"Line"}),D.jsx("button",{onClick:()=>d("rect"),style:{marginRight:"10px",padding:"5px 10px",background:c==="rect"?"#ADD8E6":"#f0f0f0"},children:"Rectangle"}),D.jsx("button",{onClick:()=>d("circle"),style:{marginRight:"10px",padding:"5px 10px",background:c==="circle"?"#ADD8E6":"#f0f0f0"},children:"Circle"}),D.jsx("button",{onClick:()=>d("polygon"),style:{marginRight:"10px",padding:"5px 10px",background:c==="polygon"?"#ADD8E6":"#f0f0f0"},children:"Polygon"}),D.jsx("button",{onClick:()=>d("select"),style:{marginRight:"10px",padding:"5px 10px",background:c==="select"?"#ADD8E6":"#f0f0f0"},children:"Select"}),D.jsx("button",{onClick:()=>d("resize"),style:{marginRight:"10px",padding:"5px 10px",background:c==="resize"?"#ADD8E6":"#f0f0f0"},children:"Resize"}),D.jsx("button",{onClick:be,disabled:he===null,style:{padding:"5px 10px",background:he===null?"#f0f0f0":"#ff4d4d",color:he===null?"#999":"#fff"},children:"Delete"})]}),D.jsxs("div",{style:{marginBottom:"20px"},children:[D.jsxs("label",{style:{marginRight:"20px"},children:["Stroke Color:",D.jsx("input",{type:"color",value:A,onChange:ae=>M(ae.target.value),disabled:he===null&&!["line","rect","circle","polygon"].includes(c),style:{marginLeft:"5px"}})]}),D.jsxs("label",{style:{marginRight:"20px"},children:["Stroke Opacity (%):",D.jsx("input",{type:"number",min:"0",max:"100",value:U,onChange:ae=>E(ae.target.value),disabled:he===null&&!["line","rect","circle","polygon"].includes(c),style:{width:"60px",marginLeft:"5px"}})]}),D.jsxs("label",{style:{marginRight:"20px"},children:["Stroke Width:",D.jsx("input",{type:"number",min:"1",value:j,onChange:ae=>F(ae.target.value),disabled:he===null&&!["line","rect","circle","polygon"].includes(c),style:{width:"60px",marginLeft:"5px"}})]}),D.jsxs("label",{style:{marginRight:"20px"},children:["Fill Color:",D.jsx("input",{type:"color",value:se,onChange:ae=>J(ae.target.value),disabled:he===null&&!["rect","circle","polygon"].includes(c),style:{marginLeft:"5px"}})]}),D.jsxs("label",{style:{marginRight:"20px"},children:["Fill Opacity (%):",D.jsx("input",{type:"number",min:"0",max:"100",value:T,onChange:ae=>pe(ae.target.value),disabled:he===null&&!["rect","circle","polygon"].includes(c),style:{width:"60px",marginLeft:"5px"}})]})]}),D.jsx("div",{style:{marginBottom:"20px"},children:D.jsxs("label",{children:["Layer Position (1-",ue,"):",D.jsx("input",{type:"number",min:"1",max:ue,value:ne,onChange:ae=>G(parseInt(ae.target.value)),disabled:he===null,style:{width:"60px",marginLeft:"5px"}})]})}),D.jsxs("div",{style:{marginBottom:"20px"},children:[D.jsxs("label",{style:{marginRight:"20px"},children:["Canvas Width:",D.jsx("input",{type:"number",min:"100",value:ve,onChange:ae=>Q(parseInt(ae.target.value)),style:{width:"80px",marginLeft:"5px"}})]}),D.jsxs("label",{children:["Canvas Height:",D.jsx("input",{type:"number",min:"100",value:de,onChange:ae=>fe(parseInt(ae.target.value)),style:{width:"80px",marginLeft:"5px"}})]})]}),D.jsx("svg",{width:ve,height:de,style:{border:"1px solid #ccc"},onMouseDown:f,onClick:m,onMouseMove:y,onMouseUp:v,onKeyDown:_,tabIndex:0,children:h()}),D.jsxs("div",{style:{marginTop:"20px"},children:[D.jsx("h3",{children:"SVG Output"}),D.jsx("pre",{style:{background:"#f0f0f0",padding:"10px",maxHeight:"200px",overflow:"auto"},children:g})]})]})};function C6(){const{name:n}=Ho();switch(n.toLowerCase()){case"svg-maker":return D.jsx(D6,{});default:return D.jsx("h1",{children:"Application not found"})}}function A6(){return D.jsx(D.Fragment,{children:D.jsx("center",{})})}const E6=[{path:"/",element:D.jsx(e4,{}),errorElement:D.jsx(t4,{}),children:[{path:"/",element:D.jsx(p4,{})},{path:"/portfolio",element:D.jsx(g4,{})},{path:"/portfolio/:name",element:D.jsx(z7,{})},{path:"/blog",element:D.jsx(b6,{})},{path:"/blog/:name",element:D.jsx(y6,{})},{path:"/readings",element:D.jsx(w6,{})},{path:"/readings/:name",element:D.jsx(_6,{})},{path:"/applications",element:D.jsx(S6,{})},{path:"/applications/:name",element:D.jsx(C6,{})},{path:"/test",element:D.jsx(A6,{})}]}],O6=gD(E6);yk.createRoot(document.getElementById("root")).render(D.jsx(R.StrictMode,{children:D.jsx(CD,{router:O6})}));
